<div class="pageTitle"><span>{{'REQUEST_STATUS'|translate}}</span><help-directive help-id="REQUEST_STATUS" class="divContainer"></help-directive></div><div class="stepwizard"><div class="stepwizard-row setup-panel"><div ng-show="iconStep1" class="stepwizard-step"><a id="wizard1" ng-click="goToNextStep(1)" type="button" class="btn btn-primary btn-circle"><i class="fa fa-hand-pointer-o"></i></a></div><div ng-show="iconStep2" ng-hide="(hideTab && (reqType=='Medical Certificate' || reqType=='Other Requests'||reqType=='Medicine Availability' )) " class="stepwizard-step"><a id="wizard2" ng-click="goToNextStep(2)" type="button" class="btn btn-default btn-circle"><i class="fa fa-sticky-note"></i></a></div><div ng-show="iconStep3" class="stepwizard-step"><a id="wizard3" ng-click="goToNextStep(3)" type="button" class="btn btn-default btn-circle"><i class="fa fa-file-text"></i></a></div><div ng-show="iconStep4" class="stepwizard-step"><a id="wizard4" ng-click="goToNextStep(4)" type="button" class="btn btn-default btn-circle"><i class="fa fa-envelope"></i></a></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-0 wizard" ng-class="{'posRelative':addOrgLocSpinner}"><spinner name="addOrgLocSpinner" img-src="{{pageLoaderImg}}" show="addOrgLocSpinner"></spinner><form name="reqStatus" class="form-horizontal" autocomplete="off" novalidate><div class="col-xs-12"><div ng-show="step1" id="step-1"><h3>{{'REQUEST_STATUS'|translate}} <span class="titleNum">({{'1_of_4' | translate}})</span></h3><div class="row"><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block"><label>{{'REQ_DATE'|translate}}</label><input datepicker ng-disabled="true" ng-model="requestStatus.createRequest.requestDate" restrict="reject" readonly="readonly" name="requestDate"><md-icon class="datepickerIcon"></md-icon></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block"><label>{{'REQ_REQ_ID'|translate}}</label><input type="text" ng-model="requestStatus.createRequest.requestId" name="requestId" ng-disabled="true" readonly="readonly"></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block"><label>{{'VISIT_NO'|translate}}</label><input type="text" ng-model="requestStatus.fulfilmentInstanceNo" name="fulfilmentInstanceNo" ng-disabled="true" readonly="readonly"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" ng-show="reqType && (reqType==='Online Advice' || reqType==='Urgent Clarification' || reqType==='Home Visit')"><md-input-container class="md-block"><label>{{'SERVICE_PROVIDER'|translate}}</label><input type="text" ng-model="requestStatus.createRequest.healthProfessional.value" name="orgName" ng-disabled="true" readonly="readonly"></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block"><label>{{'FULFILMENT_STATUS'|translate}}</label><md-select ng-model="requestStatus.fulfilmentStatus" ng-disabled="viewmode || !fulfilstatusvisible.isOrganizationUserMode" name="fulfilmentStatus" id="fulfilmentStatus"><md-option ng-repeat="fulfilmentStatus in fulfilmentStatuses" ng-value="fulfilmentStatus" ng-selected="fulfilmentStatus.id==requestStatus.fulfilmentStatus.id?true:false" required>{{fulfilmentStatus.value}}</md-option></md-select><div ng-messages="reqStatus.fulfilmentStatus.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block"><label>{{'REQUESTER'|translate}}</label><input type="text" ng-model="requestStatus.createRequest.initiator.value" name="requesterId" ng-disabled="true" readonly="readonly"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block"><label>{{'REQ_ON_BEHALF_OF'|translate}}</label><input type="text" ng-model="requestStatus.createRequest.onBehalfOf.value" name="initiaterId" ng-disabled="true" readonly="readonly"><div ng-messages="reqStatus.initiaterId.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'ORG_NAME'|translate}}</label><input type="text" ng-model="requestStatus.createRequest.organization.value" name="organization" ng-disabled="true" readonly="readonly"><div ng-messages="reqStatus.organization.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" ng-show="reqType && (reqType==='Online Advice')"><md-input-container><label>{{'DURATION'|translate}}</label><input type="text" ng-model="requestStatus.remarks" name="remarks" ng-disabled="viewmode" readonly="readonly"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" ng-show="reqType && (reqType==='Online Advice')"><md-input-container><label>{{'NO_OF_EMAILS_EXCHANGED'|translate}}</label><input ng-model="requestStatus.remarks" name="remarks" ng-disabled="viewmode" readonly="readonly"></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'REQUEST_TYPE'|translate}}</label><input ng-model="requestStatus.createRequest.requestsType.value" name="requestType" ng-disabled="true" readonly="readonly"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><md-input-container><label>{{'REMARKS_BY_REQUESTER'|translate}}</label><textarea ng-model="requestStatus.requestorComments" rows="1" cols="250" ng-disabled="viewmode || (!fulStatus)" name="requestorComments" md-select-on-focus="" style="overflow-y: scroll;max-height:150px"></textarea></md-input-container><div ng-messages="reqStatus.requestorComments.$error"><div ng-message="md-maxlength"><span style="color:red">{{'MAX_LENGTH' |translate}}</span></div></div></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><md-input-container><label>{{'REMARKS_BY_DOCTOR'|translate}}</label><textarea ng-model="requestStatus.remarks" rows="1" cols="250" ng-disabled="viewmode || (fulStatus)" name="doctorComments" md-select-on-focus="" style="overflow-y: scroll;max-height:150px"></textarea></md-input-container><div ng-messages="reqStatus.remarks.$error"><div ng-message="md-maxlength"><span style="color:red">{{'MAX_LENGTH' |translate}}</span></div></div></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-3 col-lg-3" ng-if="(reqType && (reqType=='Online Advice')) && chat "><md-button type="button" class="md-raised md-primary" ng-click="linkToChatAudioVideo()" ng-disabled="viewmode">{{'LINK_TO_CHAT_AUDIO_VIDEO'|translate}}</md-button></div></div><br><br><div class="row"><div class="col-xs-12 col-sm-12 col-md-3 col-lg-3" ng-show="(reqType && (reqType=='Online Advice'|| reqType=='Urgent Clarification' || reqType=='Home Visit'))"><md-button type="button" class="md-raised md-primary" ng-click="makePrescription($event,requestStatus.createRequest.organization.id,requestStatus.createRequest.initiator.id,requestStatus.createRequest.disease.id,null,requestStatus.appointmentId,null,requestStatus.id)" ng-hide="makepres" ng-disabled="viewmode || !requestStatus.id">{{'MAKE_PRESCRIPTIONS'|translate}}</md-button></div></div><hr ng-hide="reqType && (reqType=='Other Requests' || reqType=='Medical Certificate')"><div class="row" ng-hide="reqType && (reqType=='Other Requests')"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><div-input-container class="md-block" ng-show="reqType && (reqType==='Medical Certificate')" style="margin-bottom:10px"><choose-file selected-file-object="certificateDocFile.fileToBeUpload" label="UPLOAD_CERTIFICATE" selected-file-name="requestStatus.linkToTheFulfilmentFile" visible="viewmode" required></choose-file><a ng-click="viewPrintFile($event,requestStatus)" class="pointer" ng-show="IsVisible"><i class="fa fa-print"></i> {{'VIEW_PRINT' | translate}}</a></div-input-container></div></div><hr ng-hide="reqType && (reqType=='Other Requests' || reqType=='Medical Certificate' || reqType=='Urgent Clarification' ||reqType=='Medicine Availability')"><div class="row" ng-hide="reqType && (reqType=='Other Requests' || reqType=='Medical Certificate' || reqType=='Urgent Clarification' ||reqType=='Medicine Availability')"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><h3>{{'NEXT_APPOINTMENT_DETAILS' |translate}}</h3><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" ng-show="reqType && (reqType==='Online Advice')"><md-input-container disabled="disabled"><label>{{'FOLLOW_UP_DATE'|translate}}</label><input datepicker class="pointer" ng-model="requestStatus.followUpDate" restrict="reject" name="flwDate" ng-disabled="disabled"></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" ng-show="reqType && (reqType==='Online Advice')" disabled="disabled"><md-input-container><md-radio-group ng-model="requestStatus.after" class="radio_Check_box" layout="row"><md-radio-button style="margin-left:10px" value="true" disabled="disabled">{{'AFTER' | translate}}</md-radio-button><md-radio-button value="false" disabled="disabled">{{'BEFORE' | translate}}</md-radio-button></md-radio-group></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" ng-show="reqType && (reqType=='Online Advice' || reqType=='Home Visit')"><md-input-container><label>{{'NEXT_APP_DATE'|translate}}</label><input datepicker class="pointer" ng-model="requestStatus.requestAppointmentDate" restrict="reject" name="nxtAppDate" readonly="readonly"><md-icon class="datepickerIcon"></md-icon></md-input-container></div></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" ng-show="reqType && (reqType=='Online Advice' || reqType=='Home Visit')"><md-input-container><md-button type="button" class="md-raised md-primary" ng-click="setAppointment()" ng-disabled="disabled">{{'SET_UPDATE_SCHEDULE' | translate}}</md-button></md-input-container></div></div><hr ng-hide="reqType && (reqType=='Other Requests' || reqType=='Medical Certificate' || reqType=='Urgent Clarification' ||reqType=='Medicine Availability')"><div class="row" ng-hide="reqType && (reqType=='Other Requests' || reqType=='Medical Certificate' || reqType=='Urgent Clarification' ||reqType=='Medicine Availability')"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><h3>{{'PAYMENT_DETAILS'|translate}}</h3></div></div><div class="row" ng-hide="reqType && (reqType=='Other Requests' || reqType=='Medical Certificate' || reqType=='Urgent Clarification' ||reqType=='Medicine Availability')"><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" ng-show="reqType && (reqType==='Online Advice')"><md-checkbox ng-model="requestStatus.isBillable" aria-label="Is Billable" ng-disabled="viewmode">{{'IS_BILLABLE'|translate}}</md-checkbox></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><span>{{'PAYABLE_AMOUNT'|translate}}{{requestStatus.paymentAmount}}</span></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" ng-disabled="disabled"><span>{{'PAYABLE_ID'|translate}} {{requestStatus.paymentId}}</span></div></div><div class="row padding-t-b-10 wizardFooter"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-show="requestStatus.transaction" ng-hide="reqType && (reqType=='Other Requests' || reqType=='Medical Certificate' ||reqType=='Medicine Availability') || pageState === 'add'"><md-input-container><md-button type="button" class="md-raised md-warn md-button ng-scope md-ink-ripple" ng-show="flag" ng-disabled="viewmode || donepayment" ng-click="paymentGateway()"><span class="ng-binding ng-scope">{{'MAKE_PAYMENT' | translate}}</span></md-button></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="col-xs-10 col-sm-10 col-md-10 col-lg-10 padding-0 textAlign-C"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><md-button class="md-raised" ng-click="viewReq()">{{'VIEW_REQUEST'|translate}}</md-button><md-button ng-if="!viewmode" type="submit" class="md-raised md-warn" ng-click="save()" ng-disabled="!reqStatus.$valid || disableSave">{{'SAVE'|translate}}</md-button></div><button class="btn btn-default nextBtn btn-md pull-right" type="button" ng-hide="reqType && (reqType=='Medical Certificate' ||reqType=='Other Requests' ||reqType=='Medicine Availability')" ng-disabled="!disableSave" ng-click="goToNextStep(2) "><span class="nextTextBtn">{{'NEXT_STEP'|translate}}</span> <i class="fa fa-angle-right"></i></button> <button class="btn btn-default nextBtn btn-md pull-right" type="button" ng-disabled="!disableSave" ng-show="reqType && (reqType=='Medical Certificate' ||reqType=='Other Requests' ||reqType=='Medicine Availability')" ng-click="goToNextStep(3)"><span class="nextTextBtn">{{'NEXT_STEP'|translate}}</span> <i class="fa fa-angle-right"></i></button></div></div></div><div ng-show="step2" ng-hide="hideTab" id="step-2"><div class="row" ng-show="reqType && (reqType=='Online Advice' || reqType=='Home Visit' || reqType=='Urgent Clarification')"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><clinical-note-type module-name="requestStatus" rec-id="stateParamValue" get-clinicl-list="getCliniclList()" appt-id="requestStatus.appointmentId?requestStatus.appointmentId:''" clinical-notes="clinicalNotes" state-type="stateType"></clinical-note-type></div></div><div class="row" ng-hide="reqType && (reqType=='Medical Certificate')"><div class="col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><button class="btn btn-default prevBtn btn-md pull-left" type="button" ng-click="goToNextStep(1)"><span class="previousTextBtn">{{'PREV_STEP'|translate}}</span> <i class="fa fa-angle-left"></i></button><div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 padding-0 textAlign-C"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button></div><button class="btn btn-default nextBtn btn-md pull-right" type="button" ng-click="goToNextStep(3)"><span class="nextTextBtn">{{'NEXT_STEP'|translate}}</span> <i class="fa fa-angle-right"></i></button></div></div></div><div class="setup-content" ng-show="step3" id="step-3"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'REQUEST_DATE'|translate}}</label><input datepicker ng-model="requestStatus.createRequest.requestDate" name="requestDate" ng-maxlength="50" id="requestDate" ng-disabled="true"></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'USER_NAME'|translate}}</label><input ng-model="WScReqUserDetails.initiator.value" name="initiator" ng-maxlength="50" id="initiator" ng-disabled="true"></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'REQ_REQ_ID'|translate}}</label><input ng-model="requestStatus.createRequest.requestId" name="healthProfessional" ng-maxlength="50" id="healthProfessional" ng-disabled="true"></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><md-input-container><label>{{'PROBLEM_DESCRIPTION'|translate}}</label><input ng-model="requestStatus.createRequest.requestDescription" name="requestDescription" ng-maxlength="250" id="requestDescription" ng-disabled="true"></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'PLEASE_SELECT_USER'|translate}}</label><md-select ng-model="WScReqUserDetails.initiator" name="userList" id="userList" ng-change="selectedUser(WScReqUserDetails.initiator)"><md-option ng-repeat="initiator in WScReqUserDetails.userList" value="{{initiator.id}}">{{initiator.value}}</md-option></md-select></md-input-container></div></div><hr><document-listing-comp request-id="requestId" attachment-list="WSTransactionAttachments" doc-type="{{commonConstants.documentTypes.transaction}}" doc-sub-type="{{commonConstants.documentSubTypes.request_transaction}}" search-func="searchDocuments(pageNo)" search-object-params="requestObject" url-key="GET_DOC_BY_APPT_ID_OR_REQUEST_ID_USERID" delete-url-key="DELETE_DOC_BY_APPT_OR_REQUEST_ID" delete-req-params="requestObject" record-id="requestStatus.createRequest.id" appt-id="requestStatus.appointmentId" id-field-name="requestId"></document-listing-comp><div class="row"><div class="col-sm-12 col-md-12 col-lg-12 wizardFooter"><button class="btn btn-default prevBtn btn-md pull-left" type="button" ng-hide="reqType && (reqType=='Medical Certificate' || reqType=='Other Requests' ||reqType=='Medicine Availability')" ng-click="goToNextStep(2)"><span class="previousTextBtn">{{'PREV_STEP'|translate}}</span> <i class="fa fa-angle-left"></i></button> <button class="btn btn-default prevBtn btn-md pull-left" type="button" ng-show="reqType && (reqType=='Medical Certificate' ||reqType=='Other Requests' ||reqType=='Medicine Availability')" ng-click="goToNextStep(1)"><span class="previousTextBtn">{{'PREV_STEP'|translate}}</span> <i class="fa fa-angle-left"></i></button><div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 padding-0 textAlign-C"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button></div><button class="btn btn-default nextBtn btn-md pull-right" type="button" ng-click="goToNextStep(4)"><span class="nextTextBtn">{{'NEXT_STEP'|translate}}</span> <i class="fa fa-angle-right"></i></button></div></div></div></div><div class="setup-content" ng-show="step4" id="step-4"><div class="col-xs-12"><h3>{{'MESSAGE'|translate}} <span class="titleNum">({{'4_of_4' | translate}})</span></h3><div class="col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 padding-0"><button class="btn btn-default prevBtn btn-md pull-left" type="button" ng-click="goToNextStep(3)"><span class="previousTextBtn">{{'PREV_STEP'|translate}}</span> <i class="fa fa-angle-left"></i></button></div><div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 padding-0 textAlign-C"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button></div></div></div></div></div></form></div>