<div class="pageTitle"><span>{{'RESPOND_TO_REQUEST'|translate}}</span><help-directive help-id="RESPONDTOREQUEST" class="divContainer"></help-directive></div><div class="stepwizard"><div class="stepwizard-row setup-panel"><div ng-show="iconStep1" class="stepwizard-step"><a id="wizard1" ng-click="goToNextStep(1)" type="button" class="btn btn-primary btn-circle"><i class="fa fa-user-md" aria-hidden="true"></i></a></div><div ng-show="iconStep2" class="stepwizard-step"><a id="wizard2" ng-click="goToNextStep(2)" type="button" class="btn btn-default btn-circle"><i class="fa fa-file-text" aria-hidden="true"></i></a></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-0 wizard" ng-class="{'posRelative':addOrgLocSpinner}"><spinner name="addOrgLocSpinner" img-src="{{pageLoaderImg}}" show="addOrgLocSpinner"></spinner><form name="respondToReq" class="form-horizontal" autocomplete="off" novalidate><div ng-show="step1" class="setup-content" id="step-1"><div class="col-xs-12"><h3>{{'RESPOND_TO_REQUEST'|translate}} <span class="titleNum">({{'1_of_2' | translate}})</span></h3><div class="row"><div class="col-xs-12 col-sm-12 col-md-2 col-lg-2"><md-input-container class="md-block"><label>{{'REQ_REQ_ID'|translate}}</label><input type="text" ng-model="responseToRequest.requestId.requestId" ng-disabled="viewmode" name="requestId" readonly="readonly"></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-2 col-lg-2" ng-if="addRes"><md-input-container class="md-block"><label>{{'RESPONSE_ID'|translate}}</label><input type="text" ng-model="responseToRequest.responseId" name="responseId" ng-disabled="viewmode" readonly="readonly"><div ng-messages="respondToReq.responseId.$error"><div ng-message="required">{{'REQUIRED' |translate}}<div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-3 col-lg-3"><md-input-container class="md-block"><label>{{'ORG_LOCATION_DETAILS'|translate}}<span style="color:red">*</span></label><input type="text" name="organization" ng-model="responseToRequest.organization" autocomplete="off" uib-typeahead="organization as organization.value for organization in getOrgName($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('orgLocMinLength')" ng-disabled="viewmode" ng-readonly="LocationFlag" required><div ng-messages="respondToReq.organization.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" ng-show="reqType && (reqType==='Online Advice' || reqType==='Home Visit')"><md-input-container class="md-block"><label>{{'DOCTOR/HEALTH_PROFESSIONAL'|translate}}<span ng-if="(reqTypeCode=='REQ_HOME_VISIT' || reqTypeCode=='REQ_ONLINE_ADVICE') " style="color:red">*</span></label><input type="text" name="healthProfessional" ng-model="responseToRequest.healthProfessional" autocomplete="off" uib-typeahead="healthProfessional as healthProfessional.value for healthProfessional in getHealthProf($viewValue)" typeahead-min-length="getSmartSearchMinLength('userMinLength')" ng-disabled="viewmode" ng-readonly="professionFlag" ng-required="(reqTypeCode=='REQ_HOME_VISIT' || reqTypeCode=='REQ_ONLINE_ADVICE')"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-3 col-lg-3" ng-show="reqType && (reqType==='Online Advice')"><md-input-container class="md-block"><label>{{'MODE'|translate}}</label><md-select ng-model="responseToRequest.mode" multiple="multiple" ng-disabled="viewmode" name="responseToRequest.mode"><md-option ng-value="mode.id" ng-repeat="mode in modeSupports">{{mode.value}}</md-option></md-select></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-3 col-lg-3" ng-show="reqType && (reqType==='Medical Certificate' || reqType==='Urgent Clarification')"><md-input-container class="md-block"><md-checkbox ng-model="responseToRequest.reqAccepted" ng-disabled="responseToRequest.reqRejected || viewmode"><span>{{'REQUEST_ACCEPTED'|translate}}</span></md-checkbox></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-3 col-lg-3" ng-show="reqType && (reqType==='Medical Certificate' || reqType==='Urgent Clarification')"><md-input-container class="md-block"><md-checkbox ng-model="responseToRequest.reqRejected" ng-disabled="responseToRequest.reqAccepted || viewmode"><span>{{'REQUEST_REJECTED'|translate}}</span></md-checkbox></md-input-container></div></div><div class="row" ng-if="responseToRequest.reqRejected"><div class="col-sm-12 col-md-12 col-lg-12" ng-show="reqType && (reqType==='Medical Certificate' || reqType==='Urgent Clarification')"><md-input-container class="md-block"><label>{{'REJECTION_REASON'|translate}}</label><input type="text" ng-model="responseToRequest.requestRejectionReason" name="requestRejectionReason" ng-disabled="viewmode"></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><md-input-container class="md-block"><label>{{'REMARKS'|translate}}</label><input type="text" ng-model="responseToRequest.responseRemarks" name="responseRemarks" ng-disabled="viewmode"></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><md-input-container class="md-block"><label>{{'TERMS_AND_CONDITIONS'|translate}}</label><input type="text" ng-model="responseToRequest.termsAndConditions" name="termsAndConditions" ng-disabled="viewmode"></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><md-input-container class="md-block"><label>{{'GENERAL_REMARKS'|translate}}</label><input type="text" ng-model="responseToRequest.generalRemarks" name="generalRemarks" ng-disabled="viewmode"></md-input-container></div></div><div class="row padding-b-10 padding-t-20"><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-checkbox ng-disabled="viewmode" ng-model="responseToRequest.whetherBilled"><span>{{'IS_BILLABLE'|translate }}*</span></md-checkbox></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 padding-0 textAlign-C"></div><div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 padding-0 textAlign-C"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><md-button class="md-raised" ng-click="viewReq(responseToRequest.requestId.id)">{{'VIEW_REQUEST'|translate}}</md-button><md-button ng-show="!viewmode" type="submit" class="md-raised md-warn" ng-disabled="!respondToReq.$valid" ng-click="save()">{{'SAVE'|translate}}</md-button></div><div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 padding-0"><button class="btn btn-default nextBtn btn-md pull-right" type="button" ng-click="goToNextStep(2)"><span class="nextTextBtn">{{'NEXT_STEP'|translate}}</span> <i class="fa fa-angle-right"></i></button></div></div></div></div></div><div ng-show="step2" class="setup-content" id="step-2"><br><br><br><div class="col-xs-12"><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'REQUEST_DATE'|translate}}</label><input datepicker ng-model="responseToRequest.requestId.requestDate" name="requestDate" id="requestDate" ng-disabled="true"></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'USER_NAME'|translate}}</label><input ng-model="responseToRequest.requestId.initiator.value" name="initiator" id="initiator" ng-disabled="true"></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'REQ_REQ_ID'|translate}}</label><input ng-model="responseToRequest.requestId.requestId" name="requestId" id="requestId" ng-disabled="true"></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><md-input-container><label>{{'PROBLEM_DESCRIPTION'|translate}}</label><input ng-model="responseToRequest.requestId.requestDescription" name="requestDescription" id="requestDescription" ng-disabled="true"></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'PLEASE_SELECT_USER'|translate}}</label><md-select ng-model="WScReqUserDetails.initiator" name="userList" id="userList" ng-change="selectedUser(WScReqUserDetails.initiator)"><md-option ng-repeat="initiator in WScReqUserDetails.userList" value="{{initiator.id}}">{{initiator.value}}</md-option></md-select></md-input-container></div></div><hr><div class="row"><document-listing-comp request-id="requestId" attachment-list="WSTransactionAttachments" doc-type="{{commonConstants.documentTypes.transaction}}" doc-sub-type="{{commonConstants.documentSubTypes.request_transaction}}" search-func="searchDocuments(pageNo)" search-object-params="requestObject" url-key="GET_DOC_BY_APPT_ID_OR_REQUEST_ID_USERID" delete-url-key="DELETE_DOC_BY_APPT_OR_REQUEST_ID" delete-req-params="requestObject" record-id="responseToRequest.requestId.id" id-field-name="requestId"></document-listing-comp></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12 wizardFooter" style="margin-top:-46px"><button ng-click="goToNextStep(1)" class="btn btn-default prevBtn btn-md pull-left"><i class="fa fa-angle-left" style="margin-top:2px;float:left"></i> <span class="previousTextBtn">{{'REQ_PREV'|translate}}</span></button></div></div></div></div></form></div><style>.fileUpload {
            position: relative;
            overflow: hidden;
            margin: 10px;
        }
        
        .fileUpload span {
            font-size: 17px;
            display: block;
            padding: 2px 5px;
        }
        
        .fileUpload input.upload {
            position: absolute;
            top: 0;
            right: 0;
            margin: 0;
            padding: 0;
            font-size: 20px;
            cursor: pointer;
            opacity: 0;
            filter: alpha(opacity=0);
            width: 90px;
        }</style>