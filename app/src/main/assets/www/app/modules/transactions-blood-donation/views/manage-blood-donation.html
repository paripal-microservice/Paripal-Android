<div class="pageTitle"><span>{{'DONATION_MANAGE'|translate}}</span><help-directive help-id="DONATION_MANAGE" class="divContainer"></help-directive></div><div class="stepwizard"><div class="stepwizard-row setup-panel"><div class="stepwizard-step"><a href="#step-1" type="button" class="btn btn-primary btn-circle"><i class="fa fa-tint" aria-hidden="true"></i></a></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-0 wizard" ng-class="{'posRelative':addOrgLocSpinner}"><spinner name="addOrgLocSpinner" img-src="{{pageLoaderImg}}" show="addOrgLocSpinner"></spinner><form name="addBloodDonation" class="form-horizontal" autocomplete="off" novalidate><div class="col-xs-12"><h3>{{'DONATION_MANAGE'|translate}}</h3><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container><label>{{'DONATION_USER'|translate}}</label><input ng-disabled="disabled" name="userName" ng-model="bloodDonation.user" ng-readonly="userReadOnly" ng-disabled="viewmode || addmode" name="user" id="user" autocomplete="off" uib-typeahead="user as user.value for user in getUserNamesForRoleHistory($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('userMinLength')"><div ng-messages="addBloodDonation.userName.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container><label class="md-required">{{'DATE'|translate}}</label><input datepicker class="pointer" ng-model="bloodDonation.dateOfDonation" name="validTill" ng-disabled="disabled" ng-required="true" from-min-date="minDate" till-max-date="minDateValidFrom"><md-icon class="datepickerIcon"></md-icon></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'DONATION_WHERE'|translate}}<span class="mandatoryStar">*</span></label><input type="text" name="creatingOrgn" id="creatingOrgn" ng-model="bloodDonation.orgLocationCode" ng-disabled="disabled" required autocomplete="off" uib-typeahead="orgLocationCode as orgLocationCode.value for orgLocationCode in getCreatedBy($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('orgLocMinLength')" required><div ng-messages="addBloodDonation.creatingOrgn.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'DONATION_REQ_ID'|translate}}</label><input type="text" ng-model="bloodDonation.bloodDonationRequest" ng-disabled="disabled" name="reqName" id="reqName" autocomplete="off" uib-typeahead="bloodDonationRequest as bloodDonationRequest.value for bloodDonationRequest in getReqName($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('userMinLength')"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container><label class="md-required">{{'DONATION_QTY'|translate}}</label><input ng-model="bloodDonation.qty" name="qty" ng-disabled="disabled" required><div ng-messages="addBloodDonation.qty.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container><label>{{'DONATION_REMARKS'|translate}}</label><input ng-model="bloodDonation.remarks" ng-disabled="disabled"> <span id="imageURLId"></span></md-input-container></div></div><div class="col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-0 textAlign-R"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><span><md-button ng-show="!disabled" ng-disabled="!addBloodDonation.$valid" type="submit" class="md-raised md-warn" ng-click="saveBloodDonations(bloodDonation)">{{'SAVE'|translate}}</md-button></span></div></div></div></form></div>