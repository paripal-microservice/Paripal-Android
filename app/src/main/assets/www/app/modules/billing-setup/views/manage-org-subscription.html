<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-t-10"><spinner name="manageOrgSubscriptionSpinner" img-src="{{pageLoaderImg}}" show="manageOrgSubscriptionSpinner"></spinner><form name="manageOrgSubscriptionForm" novalidate="novalidate" class="form-horizontal" autocomplete="off"><help-directive help-id="MANAGE_ORG_SUBSCRIPTION" class="divContainer"></help-directive><div class="pageTitle"><span ng-if="pageState==='add' || pageState===undefined">{{'ADD_ORG_SUBSCRIPTION'|translate}}</span> <span ng-if="pageState==='edit'">{{'EDIT_ORG_SUBSCRIPTION'|translate}}</span> <span ng-if="pageState==='view'">{{'VIEW_ORG_SUBSCRIPTION'|translate}}</span></div><div class="row"><ws-name-value-editable label-name="ORGANIZATION" name-value-list="WSOrgSubscription.organization" query-search-key="keyword" min-length="orgMinLength" query-url="org.queryUrl" query-parameter="org.queryParameter" json-parameter="org.jsonParameter" required="true" disable="pageState==='edit' || pageState==='view'" organization-type-category="SUBSRIBER_NON_SUBSCRIBER_SPONSOR"></ws-name-value-editable><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label class="md-required">{{'SYSTEM_ORG' |translate}}</label><md-select ng-model="WSOrgSubscription.subscribedTo" name="systemOrg" ng-change="getServiceTypeList()" required ng-disabled="pageState==='edit' || pageState==='view'"><md-option ng-repeat="systemOrganization in systemOrgList" value="{{systemOrganization}}">{{systemOrganization.value}}</md-option></md-select><div ng-messages="manageOrgSubscriptionForm.systemOrg.$error"><div ng-message="required">{{'REQUIRED_SELECTION' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'SUBSCRIPTION_ID'|translate}}</label><input ng-model="WSOrgSubscription.subscriptionRecordId" name="subscriptionId" id="subscriptionId" disabled="disabled"></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label class="md-required">{{"SUBSCRIPTION_FOR"|translate}}</label><md-select ng-change="subscriptionForSelected()" ng-model="WSOrgSubscription.subscriptionFor" required><md-option ng-repeat="subscriptionFor in subscriptionForList" ng-selected="$index==0" ng-value="subscriptionFor">{{subscriptionFor.value }}</md-option></md-select></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container flex class="md-block"><div class="previewBtn"><label class="md-required">{{'SUBSCRIPTION_TYPE'|translate}}</label><md-select ng-model="WSOrgSubscription.subscriptionType" name="subscriptionType" required ng-disabled="pageState==='edit' || pageState==='view'" ng-change="getSubscriptionTypeById(WSOrgSubscription.subscriptionType)" style="margin: 6px 0 19px !important"><md-option ng-repeat="subscriptionType in subscriptionTypeList" value="{{subscriptionType}}" ng-selected="subscriptionTypeId == subscriptionType.id ? true : false">{{subscriptionType.value}}</md-option></md-select><div ng-messages="manageOrgSubscriptionForm.subscriptionType.$error"><div ng-message="required">{{'REQUIRED_SELECTION' |translate}}</div></div></div><button type="button" id="uploadBtn" class="btn btn-default uploadBtn" ng-disabled="!WSOrgSubscription.subscriptionType && !WSSubscriptionType" tooltip-placement="bottom" uib-tooltip="{{'SUBSCRIPTION_TYPE_INFO'|translate}}" ng-click="viewSubscriptionTypeServices($event)" style="margin-left: 14px"><i class="fa fa-info" aria-hidden="true"></i></button></md-input-container></div><custom-valid-from-valid-till valid-from="WSOrgSubscription.subscriptionFrom" min-date-valid-from="todaysDate" require-valid-from="true" valid-till="WSOrgSubscription.subscriptionTill" disable-valid-from="pageState==='view' || pageState==='edit' || !WSOrgSubscription.subscriptionType || !noOfValidDays" on-change-valid-from="validFromChanged(WSOrgSubscription.subscriptionFrom)" require-valid-till="false" type="any" disable-valid-till="true" component-class="col-sm-12 col-md-4 col-lg-4 margin-t-6"></custom-valid-from-valid-till></div><div class="row" ng-if="pageState !== 'add'"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'BILL'|translate}}</label><input ng-model="WSOrgSubscriptionData.bill" name="bill" id="bill" disabled="disabled"></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'RECEIPT'|translate}}</label><input ng-model="WSOrgSubscriptionData.receipt" name="receipt" id="receipt" disabled="disabled"></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'REFUND'|translate}}</label><input ng-model="WSOrgSubscriptionData.refund" name="refund" id="refund" disabled="disabled"></md-input-container></div></div><div class="row" ng-if="pageState !== 'add'"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'LAST_EDITED_BY'|translate}}</label><input ng-model="WSOrgSubscriptionData.lastUpdatedBy" name="lastEditedBy" id="lastEditedBy" disabled="disabled"></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'LAST_EDITED_ON'|translate}}</label><input datepicker class="pointer" ng-model="WSOrgSubscriptionData.lastUpdatedDate" name="lastEditedOn" id="lastEditedOn" ng-disabled="true"><md-icon class="datepickerIcon"></md-icon></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'STATUS'|translate}}</label><input ng-model="WSOrgSubscriptionData.subscriptionStatusEnum" name="status" id="status" disabled="disabled"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-lg-12 col-md-12"><md-input-container><label>{{'REMARK'|translate}}</label><textarea row="3" cols="12" ng-model="WSOrgSubscription.remarks" ng-maxlength="commonConstants.textAreaLengthLarge" name="remarks" ng-disabled="pageState === 'view'"></textarea><div ng-messages="manageOrgSubscriptionForm.remarks.$error"><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 padding-r-0 padding-b-15"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 textAlign-R"><md-button class="md-raised md-warn" ng-click="paymentCall()" ng-if="!(transactionId | checkNull)" ng-disabled="WSOrgSubscription.whetherPaid">{{'MAKE_PAYMENT'|translate}}</md-button><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><md-button ng-if="WSOrgSubscription.subscriptionFor.code=='SUBSCRIPTION_TYPE_SERVICE_PROVIDER'" ng-disabled="manageOrgSubscriptionForm.$invalid || !WSOrgSubscription.subscriptionFrom" class="md-raised md-warn" ng-hide="pageState == 'view'" confirmation-dialog-box confirm-click="subscribeOrg(manageOrgSubscriptionForm)" confirmation-box-title="OVERRIDE_CURRENT_SUBSCRIPTION" confirmation-box-msg="OVERRIDE_CURRENT_SUBSCRIPTION_CONFIRMATION_DIALOG">{{'SAVE' | translate}}</md-button><md-button ng-if="WSOrgSubscription.subscriptionFor.code!='SUBSCRIPTION_TYPE_SERVICE_PROVIDER'" ng-disabled="manageOrgSubscriptionForm.$invalid || !WSOrgSubscription.subscriptionFrom" ng-click="subscribeOrg(manageOrgSubscriptionForm)" class="md-raised md-warn" ng-hide="pageState == 'view'">{{'SAVE' | translate}}</md-button></div></div></div></form></div>