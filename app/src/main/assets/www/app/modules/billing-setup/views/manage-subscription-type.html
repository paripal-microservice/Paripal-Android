<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-t-10"><form name="manageSubscriptionTypeForm" ng-submit="createSubscriptionType(manageSubscriptionTypeForm)" novalidate="novalidate" class="form-horizontal" autocomplete="off"><help-directive help-id="MANAGE_SUBSCRIPTION_TYPE" class="divContainer"></help-directive><div class="pageTitle"><span ng-if="pageState==='add' || pageState===undefined">{{'ADD_SUBSCRIPTION_TYPE'|translate}}</span> <span ng-if="pageState==='edit'">{{'EDIT_SUBSCRIPTION_TYPE'|translate}}</span> <span ng-if="pageState==='view'">{{'VIEW_SUBSCRIPTION_TYPE'|translate}}</span></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label class="md-required">{{'MUST_SELECT_ORG_LOC'|translate}}</label><md-select ng-model="WSSubscriptionType.organizationLocation" name="organizationLocation" ng-disabled="pageState== 'edit' || pageState== 'view'" required><md-option ng-repeat="organizationLocation in organizationLocations" ng-value="organizationLocation" ng-selected="organizationLocation.id == selectedOrgLocId">{{organizationLocation.value}}</md-option></md-select></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label class="md-required">{{'SUBSCRIPTION_TYPE'|translate}}</label><input type="text" ng-model="WSSubscriptionType.subscriptionName" name="subscriptionName" ng-pattern="/^[1-9a-zA-Z][0-9a-zA-Z ]*$/" required ng-disabled="pageState== 'edit' || pageState== 'view'"><div ng-messages="manageSubscriptionTypeForm.subscriptionName.$error"><div ng-message="required">{{'REQUIRED' | translate}}</div><div ng-message="pattern">{{'PATTERN_ERR' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label class="md-required">{{"SUBSCRIPTION_FOR"|translate}}</label><md-select ng-change="subscriptionForSelected()" ng-model="WSSubscriptionType.subscriptionFor" ng-disabled="isEditMode" required><md-option ng-repeat="subscriptionFor in subscriptionForList" ng-selected="WSSubscriptionType.subscriptionFor.id==subscriptionFor.id" ng-value="subscriptionFor">{{subscriptionFor.value }}</md-option></md-select></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label class="md-required">{{'VALID_FROM'|translate}}</label><input datepicker class="pointer" ng-model="WSSubscriptionType.validFrom" from-min-date="currentDate" placeholder="{{userDateFormat}}" restrict="reject" required ng-disabled="pageState== 'view'"><md-icon class="datepickerIcon"></md-icon></md-input-container></div><pick-list-dropdown pick-list-value="WSSubscriptionType.periodTypeId" type="SUBSCRIPTION_PERIOD_TYPE" label="SUBSCRIPTION_PERIOD" required="true" disable="pageState== 'view'"></pick-list-dropdown><custom-number-field label-name="PERIOD" model-name="WSSubscriptionType.period" required="true" regex="^[1-9]\d{0,3}$" disable="pageState== 'view'"></custom-number-field></div><div class="row"><custom-number-field ng-if="WSSubscriptionType.subscriptionFor.code=='SUBSCRIPTION_TYPE_SERVICE_PROVIDER' " label-name="ORG_USER_LIMIT" model-name="WSSubscriptionType.userLimit" required="true" regex="^[1-9]\d{0,3}$" disable="pageState== 'view'"></custom-number-field><custom-number-field ng-if="WSSubscriptionType.subscriptionFor.code=='SUBSCRIPTION_TYPE_SPONSOR'" label-name="USER_SPONSERED_LIMIT" model-name="WSSubscriptionType.userLimit" required="true" regex="^[1-9]\d{0,3}$" disable="pageState== 'view'"></custom-number-field><multi-select-dropdown ng-if="WSSubscriptionType.subscriptionFor.code!='SUBSCRIPTION_TYPE_INDIVIDUAL' && WSSubscriptionType.subscriptionFor.code!='SUBSCRIPTION_TYPE_SPONSOR'" list-value="WSSubscriptionType.subscriptionTypeServiceses" css-class="col-sm-12 col-md-6 col-lg-6" common-property="subscriptionService" label="SUBSCRIPTION_SERVICE" url="GET_SUBSCRIPTION_SERVICES" on-change="selectedServices()" required="true" disable="pageState== 'view'"></multi-select-dropdown><div ng-if="pageState != 'add'"><div class="col-xs-12 col-sm-12 col-md-2 col-lg-2 pull-left padding-t-15"><md-checkbox ng-model="WSSubscriptionType.whetherActive" disabled="disabled">{{'ACTIVE' | translate}}</md-checkbox></div></div><div class="col-xs-12 col-sm-12 col-md-2 col-lg-2 pull-left padding-t-15"><md-checkbox ng-model="WSSubscriptionType.whetherCustom" ng-disabled="pageState=='view'">{{'WHETHER_CUSTOM' | translate}}</md-checkbox></div></div><div class="table-responsive foo" ng-if="WSSubscriptionType.subscriptionTypeServiceses.length > 0 && WSSubscriptionType.subscriptionFor.code=='SUBSCRIPTION_TYPE_SERVICE_PROVIDER'"><table datatable="ng" dt-options="options" dt-column-defs="dtColumnDefs" class="table table-striped table-hover rwd-table" width="100%"><thead><tr><th>{{'SERVICE' | translate}}</th><th>{{'LIMIT' | translate}}</th><th>{{'UNIT_OF_MEASUREMENT' | translate}}</th><th>{{'REVENUE_SHARING' | translate}}</th><th>{{'ACTIVE' | translate}}</th></tr></thead><tbody><tr ng-repeat="row in WSSubscriptionType.subscriptionTypeServiceses"><td>{{row.subscriptionService.value}}</td><td><div ng-init="pageState == 'add'? (row.serviceLimit = null):(row.serviceLimit = row.serviceLimit)"><input class="form-control" type="text" ng-model="row.serviceLimit" ng-required="row.subscriptionService.whetherLimitApplicable" ng-if="row.subscriptionService.whetherLimitApplicable" ng-disabled="pageState== 'view'"></div></td><td>{{row.subscriptionService.unitOfMeasurement.value}}</td><td><div ng-init="pageState == 'add'? (row.revenueShared = null):(row.revenueShared = row.revenueShared)"><md-input-container ng-if="row.subscriptionService.whetherRevenueShared"><md-select ng-model="row.revenueShared" name="revenueShared" placeholder="{{'REVENUE_SHARING'|translate}}" ng-disabled="pageState== 'view'" ng-required="true"><md-option ng-repeat="revenueSharingMode in revenueSharingModes" value="{{revenueSharingMode}}" ng-selected="revenueSharingMode == row.revenueShared ? revenueSharingMode = row.revenueShared : null">{{revenueSharingMode | translate}}</md-option></md-select></md-input-container></div></td><td ng-init="pageState == 'add'? (row.whetherActive = true):((row.whetherActive == null || row.whetherActive == undefined) ? (row.whetherActive = false):(row.whetherActive = row.whetherActive))"><md-switch ng-model="row.whetherActive" aria-label="Switch 1" ng-disabled="pageState== 'view'">{{row.whetherActive | whetherActive}}</md-switch></td></tr></tbody></table><div ng-show="totalItems > 0"><div class="pageRecord"><span>{{'SHOWING' | translate}} {{pagingInfo.startRecord + '-' + pagingInfo.endRecord + ' '+("OF"|translate) + ' '+ totalItems + ' '+("ITEMS"|translate)}}</span></div><div class="text-center"><uib-pagination max-size="4" total-items="totalItems" ng-model="currentPage" items-per-page="itemPerPage" ng-change="pageChanged()" boundary-links="true" class="pagination-md" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></uib-pagination></div></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="textAlign-R"><md-button class="md-raised" ng-click="back()">{{'CANCEL'|translate}}</md-button><md-button type="submit" class="md-raised md-warn" ng-disabled="manageSubscriptionTypeForm.$invalid" ng-hide="pageState == 'view'">{{'SAVE' | translate}}</md-button></div></div></div></form></div><style>md-switch.md-default-theme.md-checked .md-thumb,
    md-switch.md-checked .md-thumb .eventsSwich md-switch.md-default-theme.md-checked .md-thumb,
    md-switch.md-checked .md-thumb {
        background-color: #F97524 !important;
    }

    md-switch.md-default-theme .md-thumb,
    md-switch.md-thumb .eventsSwich md-switch.md-default-theme .md-thumb,
    md-switch .md-thumb {
        background-color: #FFFFFF !important;
    }</style>