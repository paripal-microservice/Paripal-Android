<div class="col-xs-12 col-sm-12" ng-if="dateError"><div class="col-md-4 col-md-offset-4 col-lg-4 col-lg-offset-4 errorListBox"><span class="errorMsg" ng-repeat="error in dateErrorList">{{$index + 1}}. {{error.key}}<br></span></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-t-10"><form name="userServiceOrgForm" ng-submit="fileUploadCall(userServiceOrgForm)" novalidate="novalidate" class="form-horizontal wizard" autocomplete="off"><help-directive help-id="MANAGE_USER_SERVICE_ORG" class="divContainer"></help-directive><div class="pageTitle"><span ng-if="pageState==='add'">{{'LINK_USER_SERVICE_ORG'|translate}}</span> <span ng-if="pageState==='edit'">{{'EDIT_LINK_USER_SERVICE_ORG'|translate}}</span> <span ng-if="pageState==='view'">{{'VIEW_LINK_USER_SERVICE_ORG'|translate}}</span></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'USER_ID'|translate}}<span class="mandatoryStar" ng-hide="WSUserServiceOrganization.user">*</span></label><input ng-model="wsUserServiceOrg.code" name="code" id="code" ng-disabled="pageState === 'view' || pageState === 'edit' || !isOrgUser" ng-required="whetherUserName(WSUserServiceOrganization.user)" ng-blur="findUserNameByCode()"><div ng-messages="userServiceOrgForm.code.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><ws-name-value-editable label-name="USER_NAME" disable="pageState=='edit'||pageState=='view' || !isOrgUser" required="!wsUserServiceOrg.code" editable="false" on-select="populateUserCode(value)" name-value-list="WSUserServiceOrganization.user" query-search-key="searchString" query-url="userAutoCmp.queryUrl" query-parameter="userAutoCmp.queryParameter" json-parameter="userAutoCmp.jsonParameter"></ws-name-value-editable><org-loc-autocmp label="REGISTERED_WITH" required="true" disable="pageState === 'edit' || pageState==='view'" selected="wsUserServiceOrg.registeredWith" editable="true" change="changeOrgId()"></org-loc-autocmp></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'PATIENT_ID' | translate}}<span class="mandatoryStar">*</span></label><input ng-model="WSUserServiceOrganization.uhId" ng-disabled="pageState === 'edit' || pageState==='view'" name="uhid" required><div ng-messages="userServiceOrgForm.uhid.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-button type="button" ng-class="{'width-80':(pageState=='edit'||pageState=='view'), 'fullWidth' : pageState=='add'}" class="md-raised" ng-click="fileUploader($event)" ng-disabled="pageState==='view'"><i class="fa fa-file-text-o" aria-hidden="true"></i> <b>{{'UPLOAD_PATIENT_DOC'|translate}}</b></md-button><button type="button" id="uploadBtn" class="btn btn-signin width-15-height-38" ng-disabled="!uploadFileObject.id" ng-if="pageState !== 'add'" tooltip-placement="bottom" uib-tooltip="{{'PREVIEW'|translate}}" ng-click="viewPrintFile($event,uploadFileObject)"><i class="fa fa-bar-chart" aria-hidden="true"></i></button></div><div class="col-md-4 col-sm-12 col-xs-12 col-lg-4"><md-input-container><label>{{'SELECTED_FILE_NAME' | translate}}</label><input ng-model="uploadFileObject.fileName" disabled="disabled"></md-input-container></div></div><h3>{{'DOCTOR_DETAILS' | translate}}</h3><div class="row"><ws-name-value-editable label-name="CURRENT_DOCTOR" disable="pageState=='view'" required="false" editable="true" name-value-list="WSUserServiceOrganization.doctor" query-search-key="searchString" query-url="currentDoctor.queryUrl" query-parameter="currentDoctor.queryParameter" json-parameter="currentDoctor.jsonParameter"></ws-name-value-editable><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 pull-left padding-t-15"><md-radio-group layout="row" ng-model="WSUserServiceOrganization.whetherDoctorActive"><label>{{'WHETHER_ACTIVE'|translate}} :</label><md-radio-button style="margin-left:10px" value="true" ng-disabled="pageState === 'view'">{{'ACTIVE' | translate}}</md-radio-button><md-radio-button value="false" ng-disabled="pageState === 'view'">{{'INACTIVE' | translate}}</md-radio-button></md-radio-group></div></div><h3>{{'HEALTH_SERVICE_DETAILS' | translate}}</h3><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><spinner name="serviceTypeSpinner" img-src="{{autoCompletLoaderImg}}" show="serviceTypeSpinner" is-auto-complete="true"></spinner><label>{{'HEALTH_SERVICE'| translate }}</label><input ng-model="WSUserServiceOrganization.serviceType" name="serviceType" id="ServiceType" autocomplete="off" uib-typeahead="serviceType as serviceType.nameValue for serviceType in getServiceType($viewValue)" typeahead-min-length="getSmartSearchMinLength('defaultMinLength')" ng-disabled="pageState === 'view'"></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 pull-left padding-t-15"><md-radio-group layout="row" ng-model="WSUserServiceOrganization.whetherServiceTypeActive"><label>{{'WHETHER_ACTIVE'|translate}} :</label><md-radio-button style="margin-left:10px" value="true" ng-disabled="pageState === 'view'">{{'ACTIVE' | translate}}</md-radio-button><md-radio-button value="false" ng-disabled="pageState === 'view'">{{'INACTIVE' | translate}}</md-radio-button></md-radio-group></div><ws-name-value-editable label-name="OTHER_HEALTH_SERVICE_PROFESSIONAL" disable="pageState=='view'" required="false" editable="true" name-value-list="WSUserServiceOrganization.healthProfessional" query-search-key="searchString" query-url="healthProfessional.queryUrl" query-parameter="healthProfessional.queryParameter" json-parameter="healthProfessional.jsonParameter"></ws-name-value-editable></div><h3>{{'SUPPORT_SERVICE_DETAILS' | translate}}</h3><div class="row"><ws-name-value-editable label-name="SUPPORT_SERVICE" disable="pageState=='view'" required="false" editable="true" name-value-list="WSUserServiceOrganization.supportServiceType" query-search-key="searchString" query-url="supportService.queryUrl" query-parameter="supportService.queryParameter" json-parameter="supportService.jsonParameter"></ws-name-value-editable><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 pull-left padding-t-15"><md-radio-group layout="row" ng-model="WSUserServiceOrganization.whetherSupportServActive"><label>{{'WHETHER_ACTIVE'|translate}} :</label><md-radio-button style="margin-left:10px" value="true" ng-disabled="pageState === 'view'">{{'ACTIVE' | translate}}</md-radio-button><md-radio-button value="false" ng-disabled="pageState === 'view'">{{'INACTIVE' | translate}}</md-radio-button></md-radio-group></div><ws-name-value-editable label-name="SUPPORT_SERVICE_PROFESSIONAL" disable="pageState=='view'" required="false" editable="true" name-value-list="WSUserServiceOrganization.supportServiceProfessional" query-search-key="searchString" query-url="supportServiceProfessional.queryUrl" query-parameter="supportServiceProfessional.queryParameter" json-parameter="supportServiceProfessional.jsonParameter"></ws-name-value-editable></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="textAlign-R"><md-button class="md-raised" ng-click="back()">{{'CANCEL'|translate}}</md-button><md-button type="submit" class="md-raised md-warn" ng-hide="pageState == 'view'">{{'SAVE' | translate}}</md-button></div></div></div></form></div><view-file-pop-up visible="viewFileContent" file-resource="fileResource"><view-file-pop-up-header title="{{'VIEW_FILE_CONTENTS' | translate}}"></view-file-pop-up-header><view-file-pop-up-body></view-file-pop-up-body><view-file-pop-up-footer is-hiding-print-button="isHidingPrintButton"></view-file-pop-up-footer></view-file-pop-up>