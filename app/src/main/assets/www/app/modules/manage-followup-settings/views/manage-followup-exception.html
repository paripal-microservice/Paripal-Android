<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-t-10 wizard" ng-class="{'posRelative':manageFollowupExceptionSpinner}"><spinner name="manageFollowupExceptionSpinner" img-src="{{pageLoaderImg}}" show="manageFollowupExceptionSpinner"></spinner><form name="followUpExceptionForm" ng-submit="saveFolllowUpException(followUpExceptionForm)" class="form-horizontal" autocomplete="off"><help-directive help-id="MANAGE_FOLLOW_UP_EXCEPTION" class="divContainer"></help-directive><div class="pageTitle"><span ng-if="pageState==='add'">{{'ADD_FOLLOW_UP_EXCEPTION'|translate}}</span> <span ng-if="pageState==='edit'">{{'EDIT_FOLLOW_UP_EXCEPTION'|translate}}</span> <span ng-if="pageState==='view'">{{'VIEW_FOLLOW_UP_EXCEPTION'|translate}}</span></div><div class="setup-content" id="step-1"><div><div class="row"><organization-location-autocomplete required="true" disable="disabledFormFields || isInitialDisabled" selected="organizationLocation"></organization-location-autocomplete><ws-client-search-combo label-name="SELECT_TRANSACTION_TYPE" disable="disabledFormFields || isInitialDisabled" required="true" name-value-list="transactionTypeId" query-url="transactionTypeId.queryUrl" query-parameter="transactionTypeId.queryParameter" json-parameter="transactionTypeId.jsonParameter"></ws-client-search-combo><div class="col-sm-12 col-md-4 col-lg-4"></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block" flex-gt-sm><label>{{'NO_OF_FREE_CLARIFICATIONS'|translate}}</label><input name="noOfFreeClarifications" ng-model="WSFollowupSpecialConfiguration.noOfFreeClarifications" ng-disabled="disabledFormFields" ng-maxlength="3" ng-pattern="/^[0-9]{1,3}$/"><div ng-messages="followUpExceptionForm.noOfFreeClarifications.$error" role="alert" multiple="multiple"><div ng-message="maxlength" class="my-message">{{'MAX_LENGTH' |translate}}</div><div ng-message="pattern" class="my-message">{{'WRONG_PATTERN' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block" flex-gt-sm><label>{{'NO_OF_FREE_VISITS'|translate}}<span class="mandatoryStar">*</span></label><input name="noOfFreeVisits" ng-model="WSFollowupSpecialConfiguration.noOfFreeVisits" ng-change="changeIsBefore()" ng-disabled="disabledFormFields" ng-maxlength="3" required="true" ng-pattern="/^[0-9]{1,3}$/"><div ng-messages="followUpExceptionForm.noOfFreeVisits.$error" role="alert" multiple="multiple"><div ng-message="required" class="my-message">{{'REQUIRED' |translate}}</div><div ng-message="maxlength" class="my-message">{{'MAX_LENGTH' |translate}}</div><div ng-message="pattern" class="my-message">{{'WRONG_PATTERN' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-2 col-lg-2" style="padding-right:0"><md-input-container><md-checkbox ng-model="WSFollowupSpecialConfiguration.whetherFreePeriodEnabled" ng-change="changeIsBefore()" ng-disabled="disabledFormFields" aria- class="md-warn md-align-top-left padding-b-25" flex>{{'IF_BEFORE' |translate}}</md-checkbox></md-input-container></div><div class="col-sm-12 col-md-2 col-lg-2" style="padding-left:5"><md-input-container class="md-block" flex-gt-sm><label>{{'NO_OF_PERIODS'|translate}}<span ng-if="isBeforeChecked" class="mandatoryStar">*</span></label><input name="freePeriodDuration" ng-model="WSFollowupSpecialConfiguration.freePeriodDuration" ng-required="isBeforeChecked" ng-disabled="disabledFormFields || !isBeforeChecked" ng-change="calculateValidTill()" ng-maxlength="3" ng-pattern="/^[0-9]{1,3}$/"><div ng-messages="followUpExceptionForm.freePeriodDuration.$error" role="alert" multiple="multiple"><div ng-message="required" class="my-message">{{'REQUIRED' |translate}}</div><div ng-message="maxlength" class="my-message">{{'MAX_LENGTH' |translate}}</div><div ng-message="pattern" class="my-message">{{'WRONG_PATTERN' |translate}}</div></div></md-input-container></div><ws-client-search-combo label-name="SELECT_PERIOD_TYPE" disable="disabledFormFields || !isBeforeChecked" required="isBeforeChecked" name-value-list="WSFollowupSpecialConfiguration.freePeriodTypeId" query-url="freePeriodTypeId.queryUrl" query-parameter="freePeriodTypeId.queryParameter" json-parameter="freePeriodTypeId.jsonParameter" on-select="calculateValidTill()"></ws-client-search-combo></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4 padding-t-b-10" style="padding-bottom:15px"><md-radio-group ng-model="WSFollowupSpecialConfiguration.whetherOrganizationReference" class="radio_Check_box" layout="row" ng-change="changeClientType()"><md-radio-button ng-disabled="onEditDisabled" value="false">{{'INDIVIDUAL' | translate}}</md-radio-button><md-radio-button ng-disabled="onEditDisabled" value="true">{{'ORGANIZATION' | translate}}</md-radio-button></md-radio-group></div><org-loc-client-autocomplete disable="disabledFormFields || onEditDisabled" user-list="WSFollowupSpecialConfiguration.targetUser" whether-company-lookup="{{WSFollowupSpecialConfiguration.whetherOrganizationReference}}" organization-location-id="organizationLocation"></org-loc-client-autocomplete></div><div class="row"><valid-from-valid-till valid-from="WSFollowupSpecialConfiguration.validFrom" require-valid-from="true" on-change-valid-from="calculateValidTill()" disable-valid-from="disabledFormFields" valid-till="WSFollowupSpecialConfiguration.validTill" require-valid-till="false" disable-valid-till="disabledFormFields || isBeforeChecked"></valid-from-valid-till></div></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="textAlign-R"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><md-button class="md-raised md-warn" type="submit" ng-hide="pageState==='view'" ng-disabled="!followUpExceptionForm.$valid">{{'SAVE'|translate}}</md-button></div></div></div></form></div>