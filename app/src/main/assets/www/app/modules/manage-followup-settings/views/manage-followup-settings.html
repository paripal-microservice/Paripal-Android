<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-t-10 wizard" ng-class="{'posRelative':manageFollowupSettingSpinner}"><spinner name="manageFollowupSettingSpinner" img-src="{{pageLoaderImg}}" show="manageFollowupSettingSpinner"></spinner><form name="followUpSettingForm" ng-submit="saveFolllowUpSetting(followUpSettingForm)" class="form-horizontal" autocomplete="off"><help-directive help-id="MANAGE_FOLLOW_UP_SETTING" class="divContainer"></help-directive><div class="pageTitle"><span ng-if="pageState==='add'">{{'ADD_FOLLOW_UP_SETTING'|translate}}</span> <span ng-if="pageState==='edit'">{{'EDIT_FOLLOW_UP_SETTING'|translate}}</span> <span ng-if="pageState==='view'">{{'VIEW_FOLLOW_UP_SETTING'|translate}}</span></div><div class="setup-content" id="step-1"><div class="row"><organization-location-autocomplete required="true" disable="disabledFormFields || isEditDisabled" selected="WSFollowupVisitConfiguration.organizationLocation" adhoc-url="GET_ALL_ACTIVE_ORG_LOC_LIST_BY_KEYWORD" org-loc-permission="featurePrivilegeConstants.FOLLOW_UP_SETTING_ADD"></organization-location-autocomplete><ws-client-search-combo label-name="SELECT_TRANSACTION_TYPE" disable="disabledFormFields || isEditDisabled" required="true" name-value-list="WSFollowupVisitConfiguration.transactionTypeId" query-url="transactionTypeId.queryUrl" query-parameter="transactionTypeId.queryParameter" json-parameter="transactionTypeId.jsonParameter"></ws-client-search-combo><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block" flex-gt-sm><label>{{'NO_OF_FREE_CLARIFICATIONS'|translate}}</label><input name="noOfFreeClarifications" ng-model="WSFollowupVisitConfiguration.noOfFreeClarifications" ng-disabled="disabledFormFields" ng-maxlength="3" ng-pattern="/^[0-9]{1,3}$/"><div ng-messages="followUpSettingForm.noOfFreeClarifications.$error" role="alert" multiple="multiple"><div ng-message="maxlength" class="my-message">{{'MAX_LENGTH' |translate}}</div><div ng-message="pattern" class="my-message">{{'WRONG_PATTERN' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block" flex-gt-sm><label>{{'NO_OF_FREE_VISITS'|translate}}<span class="mandatoryStar">*</span></label><input name="noOfFreeVisits" ng-model="WSFollowupVisitConfiguration.noOfFreeVisits" ng-change="changeIsBefore()" ng-disabled="disabledFormFields" required ng-maxlength="3" ng-pattern="/^[0-9]{1,3}$/"><div ng-messages="followUpSettingForm.noOfFreeVisits.$error" role="alert" multiple="multiple"><div ng-message="required" class="my-message">{{'REQUIRED' |translate}}</div><div ng-message="maxlength" class="my-message">{{'MAX_LENGTH' |translate}}</div><div ng-message="pattern" class="my-message">{{'WRONG_PATTERN' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-2 col-lg-2" style="padding-right:0"><md-input-container><md-checkbox ng-model="WSFollowupVisitConfiguration.whetherFreePeriodEnabled" ng-change="changeIsBefore()" ng-disabled="disabledFormFields" aria- class="md-warn md-align-top-left padding-b-25" flex>{{'IF_BEFORE' |translate}}</md-checkbox></md-input-container></div><div class="col-sm-12 col-md-2 col-lg-2" style="padding-left:5"><md-input-container class="md-block" flex-gt-sm><label>{{'NO_OF_PERIODS'|translate}}<span ng-if="isBeforeChecked" class="mandatoryStar">*</span></label><input name="freePeriodDuration" ng-model="WSFollowupVisitConfiguration.freePeriodDuration" ng-required="isBeforeChecked" ng-disabled="disabledFormFields || !isBeforeChecked" ng-change="calculateValidTill()" ng-maxlength="3" ng-pattern="/^[0-9]{1,3}$/"><div ng-messages="followUpSettingForm.freePeriodDuration.$error" role="alert" multiple="multiple"><div ng-message="required" class="my-message">{{'REQUIRED' |translate}}</div><div ng-message="maxlength" class="my-message">{{'MAX_LENGTH' |translate}}</div><div ng-message="pattern" class="my-message">{{'WRONG_PATTERN' |translate}}</div></div></md-input-container></div><ws-client-search-combo label-name="SELECT_PERIOD_TYPE" disable="disabledFormFields || !isBeforeChecked" required="isBeforeChecked" name-value-list="WSFollowupVisitConfiguration.freePeriodTypeId" query-url="freePeriodTypeId.queryUrl" query-parameter="freePeriodTypeId.queryParameter" json-parameter="freePeriodTypeId.jsonParameter" on-select="calculateValidTill()"></ws-client-search-combo></div><div class="row"><valid-from-valid-till valid-from="WSFollowupVisitConfiguration.validFrom" require-valid-from="true" on-change-valid-from="calculateValidTill()" disable-valid-from="disabledFormFields" valid-till="WSFollowupVisitConfiguration.validTill" require-valid-till="false"></valid-from-valid-till><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><md-checkbox ng-model="WSFollowupVisitConfiguration.whetherNewUHIDMandatory" ng-disabled="disabledFormFields" aria- class="md-warn md-align-top-left padding-b-25" flex>{{'IS_NEW_UHID_REGISTRATION' |translate}}</md-checkbox></md-input-container></div></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="textAlign-R"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><md-button class="md-raised md-warn" type="submit" ng-hide="pageState==='view'" ng-disabled="!followUpSettingForm.$valid">{{'SAVE'|translate}}</md-button></div></div></div></form></div>