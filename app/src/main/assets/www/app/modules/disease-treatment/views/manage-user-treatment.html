<div class="pageTitle"><span>{{'MANAGE_USER_TREATMENT'|translate}}</span><help-directive help-id="MANAGE_USER_TREATMENT" class="divContainer"></help-directive></div><div class="stepwizard"><div class="stepwizard-row setup-panel"><div ng-show="iconStep1" class="stepwizard-step"><a id="wizard1" ng-click="goToStep1()" type="button" class="btn btn-primary btn-circle"><img class="clinical" src="app/images/manageUserTreatmentTab1.png"></a></div><div ng-show="iconStep2" class="stepwizard-step"><a id="wizard2" ng-click="goToStep2()" type="button" class="btn btn-default btn-circle"><i class="fa fa-plus" aria-hidden="false"></i></a></div><div ng-show="iconStep3" class="stepwizard-step"><a id="wizard3" ng-click="goToStep3()" type="button" class="btn btn-default btn-circle"><i class="fa fa-calendar" aria-hidden="false"></i></a></div><div ng-show="iconStep4" class="stepwizard-step"><a id="wizard4" ng-click="goToStep4()" type="button" class="btn btn-default btn-circle"><img class="clinical" src="app/images/manageUserTreatmentTab4.png"></a></div><div ng-show="iconStep5" class="stepwizard-step"><a id="wizard5" ng-click="goToStep5()" type="button" class="btn btn-default btn-circle"><i class="fa fa-file-powerpoint-o" aria-hidden="false"></i></a></div><div ng-show="iconStep6" class="stepwizard-step"><a id="wizard6" ng-click="goToStep6()" type="button" class="btn btn-default btn-circle"><i class="fa fa-file-text" aria-hidden="false"></i></a></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-0 wizard" ng-class="{'posRelative':addOrgLocSpinner}"><spinner name="addOrgLocSpinner" img-src="{{pageLoaderImg}}" show="addOrgLocSpinner"></spinner><form name="addUserTreatment" class="form-horizontal" autocomplete="off" novalidate><div><div ng-show="step1" id="step-1" class="col-xs-12 col-sm-12 col-md-2 col-lg-2 padding-t-b-10 wizardFooter"><h3>{{'MANAGE_USER_TREATMENT'|translate}}</h3><h3><span class="titleNum">{{'1_OF_6' | translate}}</span></h3><div class="row" ng-hide="true"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'TMT_REC_ID'|translate}}<span style="color:red">*</span></label><input type="text" ng-model="treatment.treatmentRecordId" ng-disabled="viewmode || field || !viewmode"><div ng-messages="addUserTreatment.treatmentRecordId.$error"><div ng-message="required">{{'REQUIRED' |translate}}<div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'TREATMENT_ID'|translate}}</label><input type="text" ng-model="treatment.treatmentId" ng-disabled="viewmode || !viewmode"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'USER'|translate}} <span style="color:red">*</span></label><input name="user" ng-model="treatment.user" id="user" ng-readonly="userReadOnly" ng-disabled="viewmode ||whethersub ||editmode" name="user" id="user" autocomplete="off" uib-typeahead="user as user.value for user in getUserNamesForRoleHistory($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('userMinLength')" typeahead-on-select="getIncidentId(treatment.user.id,treatment.creatingOrgLoc.id);getDiseaseVariant(treatment.user.id,treatment.creatingOrgLoc.id)" required><div ng-messages="addUserTreatment.user.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'CREATING_LOCATION'|translate}}<span style="color:red">*</span></label><input type="text" name="creatingOrgLoc" id="creatingOrgLoc" ng-model="treatment.creatingOrgLoc" typeahead-on-select="getIncidentId(treatment.user.id,treatment.creatingOrgLoc.id);getDiseaseVariant(treatment.user.id,treatment.creatingOrgLoc.id)" autocomplete="off" uib-typeahead="creatingOrgLoc as creatingOrgLoc.value for creatingOrgLoc in getCreatingOrgLoc($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('orgLocMinLength')" ng-disabled="viewmode||whethersub" required><div ng-messages="addUserTreatment.creatingOrgLoc.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'DISEASE_VARIANT'|translate}}<span style="color:red">*</span></label><md-select ng-model="treatment.diseaseVariant" ng-disabled="viewmode || allMode" ng-change="getDisease(treatment.diseaseVariant.id);getIcd10Details(treatment.diseaseVariant.icdId)" name="diseaseVarriant"><md-option ng-repeat="varriant in diseaseVariant" ng-value="varriant" ng-selected="{{varriant.id == diseaseVariantId}}" required>{{varriant.value}}</md-option></md-select><div ng-messages="addUserTreatment.diseaseVariant.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'DISEASE'|translate}}<span style="color:red">*</span></label><input type="text" name="disease" ng-model="treatment.disease" autocomplete="off" uib-typeahead="disease as disease.value for disease in getDisease($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('diseaseMinLength')" ng-disabled="viewmode" required><div ng-messages="addUserTreatment.disease.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'ICD10_CODE_DESCRIPTION'|translate}}</label><input type="text" id="icd10" ng-model="treatment.icd10CodeDescription" ng-disabled="false" style="background-color: #FFFFFF"></md-input-container></div><div class="col-sm-12 col-md-6 col-lg-6 selectDropDown"><md-input-container><label>{{'DATE_START'|translate}}<span style="color:red">*</span></label><input datepicker class="pointer" name="dateStart" id="dateStart" ng-change="getTillDate(treatment.dateStart)" ng-disabled="viewmode" ng-model="treatment.dateStart" restrict="reject" till-max-date="minDate" required><md-icon class="datepickerIcon"></md-icon><div ng-messages="addUserTreatment.dateStart.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-6 col-lg-6 selectDropDown"><md-input-container><label>{{'DATE_END'|translate}}<span ng-hide="treatment.continuing" style="color:red">*</span></label><input datepicker class="pointer" name="dateEnd" id="dateEnd" ng-model="treatment.dateEnd" ng-disabled="viewmode" restrict="reject" till-max-date="minDate" ng-required="!treatment.continuing"><md-icon class="datepickerIcon"></md-icon><div ng-messages="addUserTreatment.dateEnd.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-6 col-lg-6"><div class="radio_Check_box margin-t-10"><md-checkbox ng-model="treatment.continuing" ng-disabled="viewmode"><span>{{'CONTINUING'|translate}}</span></md-checkbox></div></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'TREATMENT_LOC'|translate}}<span style="color:red">*</span></label><input type="text" name="treatmentLocation" id="treatmentLocation" ng-model="treatment.treatmentLocation" autocomplete="off" uib-typeahead="creatingOrgLoc as creatingOrgLoc.value for creatingOrgLoc in getCreatingOrgTreatLoc($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('userMinLength')" ng-disabled="viewmode" required><div ng-messages="addUserTreatment.treatmentLocation.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'PROFESSIONALS'|translate}}</label><input type="text" name="mainProfessionalAssociated" ng-model="treatment.mainProfessionalAssociated" autocomplete="off" uib-typeahead="mainProfessionalAssociated as mainProfessionalAssociated.value for mainProfessionalAssociated in getMainProfessionalAssociated($viewValue,treatment.treatmentLocation.id)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('userMinLength')" ng-disabled="viewmode"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'TREATMENT_AT'|translate}}</label><input type="text" ng-model="treatment.treatmentAt" ng-disabled="viewmode"></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'TREATMENT_TYPE'|translate}}<span style="color:red">*</span></label><input type="text" name="treatmentType" id="treatmentType" ng-model="treatment.treatmentType" ng-disabled="viewmode" autocomplete="off" uib-typeahead="treatmentTypeId as treatmentTypeId.value for treatmentTypeId in getTreatmentTypeId($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('treatmentTypeMinLength')" required><div ng-messages="addUserTreatment.treatmentType.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'PRES_REF'|translate}}</label><input type="text" name="prescriptionRef" id="prescriptionRef" ng-model="treatment.prescriptionRef" ng-disabled="viewmode" autocomplete="off" uib-typeahead="presRefId as presRefId.value for presRefId in getPrescriptionRef(treatment.user.id,$viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('treatmentTypeMinLength')"></md-input-container><view-prescription-directive record="treatment" current-state="manageUserTreatment" manage-type="viewmode" prescription-ref-id="stateType=='add'?treatment.prescriptionRef.value:treatment.prescriptionRef" org-loc-id="treatment.treatmentLocation.id"></view-prescription-directive></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'TIME_SPENT'|translate}}</label><input type="text" ng-model="treatment.timeSpentOnTreatment" ng-disabled="viewmode"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 pagemultifile"><choose-file selected-file-object="userTreatmentFile.fileToBeUpload" label="UPLOAD/VIEW_SUMMARY" selected-file-name="treatment.treatmentSummaryFile" visible="viewmode"></choose-file><a href="" ng-click="viewPrintFile1($event,treatment)" ng-show="IsVisible"><i class="fa fa-print"></i> {{'VIEW_PRINT' | translate}}</a></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 pagemultifile margin-top-8"><choose-file selected-file-object="userTreatmentScanFile.fileToBeUpload" label="UPLOAD/VIEW_FEEDBACK" selected-file-name="treatment.feedbackFromScan" visible="viewmode"></choose-file><a href="" ng-click="viewPrintFile2($event,treatment)" ng-show="IsVisible"><i class="fa fa-print"></i> {{'VIEW_PRINT' | translate}}</a></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'INS_CLAIM'|translate}}</label><input type="text" ng-model="treatment.amountClaimedFromInsurance" ng-disabled="viewmode"></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6" style="padding:0px"><md-input-container class="md-block"><currency-dropdown currency-value="treatment.insuranceClaimCurrency" ng-if="treatment.amountClaimedFromInsurance" ng-model="treatment.insuranceClaimCurrency.value" disable="disabled" label="CLAIM_CURRENCY" ng-required="false"></currency-dropdown></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'AMOUNT_SPENT'|translate}}</label><input type="number" ng-model="treatment.amountSpent" ng-disabled="viewmode"></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'AMT_SETTLED'|translate}}</label><input type="text" ng-model="treatment.amountSettledByInsurance" ng-disabled="viewmode"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 padding-t-b-10 wizardFooter"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><button class="btn btn-default nextBtn btn-md pull-right" ng-click="goToStep2()" ng-disabled="!addUserTreatment.$valid" type="button"><span class="nextTextBtn">{{'REQ_NEXT_PAGE'|translate}}</span> <i class="fa fa-angle-right"></i></button></div></div></div></div><div ng-show="step2" id="step-2"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><h3><span class="titleNum">{{'2_OF_6' | translate}}</span></h3><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'TMT_REC_ID'|translate}}<span style="color:red">*</span></label><input type="text" ng-model="treatment.treatmentRecordId" ng-disabled="viewmode || field || !viewmode"><div ng-messages="addUserTreatment.treatmentRecordId.$error"><div ng-message="required">{{'REQUIRED' |translate}}<div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'TREATMENT_ID'|translate}}</label><input type="text" ng-model="treatment.treatmentId" ng-disabled="viewmode || !viewmode"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'USER'|translate}}<span style="color:red">*</span></label><input name="user" ng-model="treatment.user" ng-readonly="userReadOnly" name="user" id="user" ng-disabled="viewmode || editmode" autocomplete="off" uib-typeahead="user as user.value for user in getUserNamesForRoleHistory($viewValue)" typeahead-on-select="getIncidentId(treatment.user.id,treatment.creatingOrgLoc.id);getDiseaseVariant(treatment.user.id,treatment.creatingOrgLoc.id)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('userMinLength')" required><div ng-messages="addUserTreatment.user.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'ENTERED_BY'|translate}}<span style="color:red">*</span></label><input type="text" name="creatingOrgLoc" ng-model="treatment.creatingOrgLoc" autocomplete="off" uib-typeahead="creatingOrgLoc as creatingOrgLoc.value for creatingOrgLoc in getCreatingOrgLoc($viewValue)" typeahead-on-select="getIncidentId(treatment.user.id,treatment.creatingOrgLoc.id);getDiseaseVariant(treatment.user.id,treatment.creatingOrgLoc.id)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('orgMinLength')" ng-disabled="viewmode" required><div ng-messages="addUserTreatment.creatingOrgLoc.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'DISEASE_VARIANT'|translate}}<span style="color:red">*</span></label><md-select ng-model="treatment.diseaseVariant" ng-disabled="viewmode || allMode" ng-change="getDisease(treatment.diseaseVariant.id)" name="diseaseVarriant"><md-option ng-repeat="varriant in diseaseVariant" ng-value="varriant" ng-selected="{{varriant.id == diseaseVariantId}}" required>{{varriant.value}}</md-option></md-select><div ng-messages="addUserTreatment.diseaseVariant.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'DISEASE'|translate}}<span style="color:red">*</span></label><input type="text" name="disease" ng-model="treatment.disease" autocomplete="off" uib-typeahead="disease as disease.value for disease in getDisease($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('diseaseMinLength')" ng-disabled="viewmode" required><div ng-messages="addUserTreatment.disease.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-6 col-lg-6 selectDropDown"><md-input-container><label>{{'CLINICAL_PROTOCOL'|translate}}<span class="mandatoryStar"></span></label><input type="text" ng-model="treatment.clinicalProtocol" ng-disabled="viewmode" autocomplete="off" uib-typeahead="clinicalProtocol as clinicalProtocol.value for clinicalProtocol in getClinicalProtocol($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('pickListMinLength')"></md-input-container><a href="" ng-click="viewPrintProtocol($event,treatment)"><i class="fa fa-print"></i> {{'VIEW_PRINT' | translate}}</a></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block" layout="row"><label>{{'CMT_ON_FEEDBACK'|translate}}</label><textarea rows="3" cols="50" ng-model="treatment.commentsOnFeedback" ng-disabled="viewmode" name="commentsOnFeedback" md-select-on-focus="" style="overflow-y: scroll;max-height:150px"></textarea><div ng-messages="treatment.commentsOnFeedback.$error"><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block" layout="row"><label>{{'PROF_CMT_ON_FEEDBACK'|translate}}</label><textarea rows="3" cols="50" ng-model="treatment.professionalsCommentsOnFeedback" rows="5" ng-disabled="viewmode" name="professionalsCommentsOnFeedback" md-select-on-focus="" style="overflow-y: scroll;max-height:150px"></textarea><div ng-messages="treatment.professionalsCommentsOnFeedback.$error"><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'LAST_TRAN_ID'|translate}}</label><input type="text" ng-model="treatment.lastTransactionId" ng-disabled="viewmode"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'INC_TRIGGER_TREATMENT'|translate}}</label><md-select ng-model="treatment.incidentOccuranceId" ng-disabled="viewmode"><md-option ng-repeat="recId in incidentId" ng-value="recId" ng-selected="recId.id == treatment.incidentOccuranceId.id ? true:false">{{recId.value}}</md-option></md-select></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12 wizardFooter"><button ng-click="goToStep1()" class="btn btn-default prevBtn btn-md pull-left"><i class="fa fa-angle-left" style="margin-top:2px;float:left"></i> <span class="previousTextBtn">{{'REQ_PREV_PAGE'|translate}}</span></button><div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 padding-0 textAlign-C"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><md-button type="submit" ng-click="save()" ng-if="!viewmode" class="md-raised md-warn" name="save" ng-disabled="!addUserTreatment.$valid">{{'SAVE'|translate}}</md-button></div><button ng-show="type !== 'view'" ng-click="goToStep3()" ng-disabled="disable" class="btn btn-default nextBtn btn-md pull-right"><span class="nextTextBtn">{{'REQ_NEXT_PAGE'|translate}}</span> <i class="fa fa-angle-right" style="margin-top:3px"></i></button></div></div></div></div><div ng-show="step3" class="setup-content" id="step-3"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><h3><span class="titleNum">{{'3_OF_6' | translate}}</span></h3><h3>{{'APPOINTMENT_LIST'|translate}}</h3><div class="table-responsive foo" ng-class="{'posRelative':orglocclientlistSpinner}"><spinner name="orglocclientlistSpinner" img-src="{{pageLoaderImg}}" show="orglocclientlistSpinner"></spinner><div><table datatable="ng" dt-options="options3" dt-column-defs="dtColumnDefs3" class="table table-striped table-hover rwd-table dt-responsive" width="100%"><thead><tr><th>{{'APPOINTMENT_ID' | translate}}</th><th>{{'APPOINTMENT_DATE' | translate}}</th><th>{{'DOCTOR_NAME' | translate}}</th></tr></thead><tbody><tr ng-repeat="myApptmt in AppointmentList"><td><div class="btn-group"><a class="dropdown-toggle dropDownBtnLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{myApptmt.apptId}}</a><ul class="dropdown-menu" ng-controller="vpr_ctrl"><li class="pointer"><a ng-click="appointment.nonParipalAppointment?customAppointmentview(appointment):manageAppointments(myApptmt.id,'view')"><i class="fa fa-eye"></i> {{"VIEW" | translate}}</a></li><li class="pointer"><a ng-click="showNotes(myApptmt)"><i class="fa fa-sticky-note-o"></i> {{"SHOW_NOTES" | translate}}</a></li><li class="pointer"><a ng-click="showAttachments(myApptmt.id)"><i class="fa fa-paperclip"></i> {{"SHOW_ATTACHMENTS" | translate}}</a></li><li><a href="" ng-controller="AppointmentsListCtrl" ng-click="viewPrescription(myApptmt)">{{"VIEW_PRESCRIPTION" | translate}}</a></li></ul></div></td><td>{{myApptmt.appointmentDate}}</td><td>{{myApptmt.docName}}</td></tr></tbody></table></div></div><br><br><div class="row"><div class="col-sm-12 col-md-12 col-lg-12 wizardFooter"><button ng-click="goToStep2()" class="btn btn-default prevBtn btn-md pull-left"><i class="fa fa-angle-left" style="margin-top:2px;float:left"></i> <span class="previousTextBtn">{{'REQ_PREV_PAGE'|translate}}</span></button><div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 padding-0 textAlign-C"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button></div><button ng-show="type !== 'view'" ng-click="goToStep4()" ng-disabled="disable" class="btn btn-default nextBtn btn-md pull-right"><span class="nextTextBtn">{{'REQ_NEXT_PAGE'|translate}}</span> <i class="fa fa-angle-right" style="margin-top:3px"></i></button></div></div></div></div><div ng-show="step4" class="setup-content" id="step-4"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="col-xs-12"><h3><span class="titleNum">{{'4_OF_6' | translate}}</span></h3><h3>{{'CLINICAL_NOTES_LIST'|translate}}</h3><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><clinical-note-type module-name="treatment" rec-id="stateParamValue" get-clinicl-list="getCliniclList()" clinical-notes="clinicalNotes" state-type="stateType"></clinical-note-type></div></div><div class="filterPanel filter" ng-if="treatClinicalNotes.length > 0"><uib-accordion><uib-accordion-group is-open="flase"><uib-accordion-heading><span>{{'GENERAL_REMARKS_NOTES'|translate}}</span> <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i></uib-accordion-heading><div class="table-responsive foo"><spinner name="orgloclistSpinner" img-src="{{pageLoaderImg}}" show="orgloclistSpinner"></spinner><div><table dt-options="options" dt-column-defs="dtColumnDefs" class="table table-striped table-hover rwd-table" width="100%"><thead><tr><th>{{'NOTE_TYPE' | translate}}</th><th>{{'NOTE' | translate}}</th><th ng-if="!whethersub">{{'IS_PROPRIETARY' | translate}}</th></tr></thead><tbody><tr ng-repeat="note in treatClinicalNotes"><td>{{note.clinicalNoteType.value}}</td><td>{{note.clinicalNote}}</td><td ng-if="!whethersub">{{note.whetherProprietary}}</td></tr></tbody></table></div></div></uib-accordion-group></uib-accordion></div><br><br><div class="filterPanel filter" ng-repeat="aptNotes in clinAptNts"><uib-accordion><uib-accordion-group is-open="false"><uib-accordion-heading><span>Appointment Id:- {{aptNotes[0].apptId}} <span>Appointment Date:- {{aptNotes[0].appointmentDate}}<i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i></span></span></uib-accordion-heading><div class="table-responsive foo" ng-class="{'posRelative':orgloclistSpinner}"><spinner name="orgloclistSpinner" img-src="{{pageLoaderImg}}" show="orgloclistSpinner"></spinner><div><table dt-options="options2" dt-column-defs="dtColumnDefs2" class="table table-striped table-hover rwd-table" width="100%"><thead><tr><th>{{'NOTE_TYPE' | translate}}</th><th>{{'NOTE' | translate}}</th><th ng-if="!whethersub">{{'IS_PROPRIETARY' | translate}}</th></tr></thead><tbody><tr ng-repeat="note in aptNotes"><td>{{note.clinicalNoteType.value}}</td><td>{{note.clinicalNote}}</td><td ng-if="!whethersub">{{note.whetherProprietary}}</td></tr></tbody></table></div></div></uib-accordion-group></uib-accordion><br><br></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12 wizardFooter"><button ng-click="goToStep3()" class="btn btn-default prevBtn btn-md pull-left"><i class="fa fa-angle-left" style="margin-top:2px;float:left"></i> <span class="previousTextBtn">{{'REQ_PREV_PAGE'|translate}}</span></button><div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 padding-0 textAlign-C"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button></div><button ng-show="type !== 'view'" ng-click="goToStep5()" ng-disabled="disable" class="btn btn-default nextBtn btn-md pull-right"><span class="nextTextBtn">{{'REQ_NEXT_PAGE'|translate}}</span> <i class="fa fa-angle-right" style="margin-top:3px"></i></button></div></div></div></div></div><div ng-show="step5" class="setup-content" id="step-5"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="col-xs-12"><h3><span class="titleNum">{{'5_OF_6' | translate}}</span></h3><h3>{{'PRESCRIPTION_LIST'|translate}}</h3><md-button type="button" class="md-raised md-warn" ng-click="makePrescription($event,treatment.creatingOrgLoc.id,treatment.user.id,treatment.disease.id,treatment.id)" check-permission feature-privilege="{{featurePrivilegeConstants.USER_TREATMENT_EDIT}}"><i class="fa fa-plus"></i> {{'MAKE_PRESCRIPTIONS' | translate}}</md-button><br><br><div class="filterPanel filter" ng-if="prescriptionList.length > 0"><uib-accordion><uib-accordion-group is-open="flase"><uib-accordion-heading><span>{{'TREATMENT_PRESCRIPTION'|translate}}</span> <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i></uib-accordion-heading><div class="table-responsive foo"><spinner name="orgloclistSpinner" img-src="{{pageLoaderImg}}" show="orgloclistSpinner"></spinner><div><table dt-options="options" dt-column-defs="dtColumnDefs" class="table table-striped table-hover rwd-table" width="100%"><thead><tr><th>{{'PRESCRIPTION_NAME' | translate}}</th><th>{{'CREATED_DATE' | translate}}</th></tr></thead><tbody><tr ng-repeat="note in prescriptionList"><td>{{note.prescriptionRef}}&nbsp;&nbsp;&nbsp;<view-prescription-directive record="treatment" current-state="manageUserTreatment" manage-type="viewmode" prescription-ref-id="note.prescriptionRef" org-loc-id="treatment.treatmentLocation.id"></view-prescription-directive></td><td>{{note.datePrescriptionCreated | date:'dd-MM-yyyy'}}</td></tr></tbody></table></div></div></uib-accordion-group></uib-accordion></div><br><div class="filterPanel filter" ng-if="transactionPrescriptionList.length > 0"><uib-accordion><uib-accordion-group is-open="flase"><uib-accordion-heading><span>{{'TRANSACTION_PRESCRIPTION'|translate}}</span> <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i></uib-accordion-heading><div class="table-responsive foo"><spinner name="orgloclistSpinner" img-src="{{pageLoaderImg}}" show="orgloclistSpinner"></spinner><div><table dt-options="options" dt-column-defs="dtColumnDefs" class="table table-striped table-hover rwd-table" width="100%"><thead><tr><th>{{'PRESCRIPTION_NAME' | translate}}</th><th>{{'CREATED_DATE' | translate}}</th></tr></thead><tbody><tr ng-repeat="note in transactionPrescriptionList"><td>{{note.prescriptionRef}}&nbsp;&nbsp;&nbsp;<view-prescription-directive record="treatment" current-state="manageUserTreatment" manage-type="viewmode" prescription-ref-id="note.prescriptionRef" org-loc-id="treatment.treatmentLocation.id"></view-prescription-directive></td><td>{{note.datePrescriptionCreated | date:'dd-MM-yyyy'}}</td></tr></tbody></table></div></div></uib-accordion-group></uib-accordion></div><br><div class="filterPanel filter" ng-repeat="aptNotes in presRef"><uib-accordion><uib-accordion-group is-open="false"><uib-accordion-heading><span>Appointment Id:- {{aptNotes[0].apptId}} <span>Appointment Date:- {{aptNotes[0].apptDate}}<i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i></span></span></uib-accordion-heading><div class="table-responsive foo" ng-class="{'posRelative':orgloclistSpinner}"><spinner name="orgloclistSpinner" img-src="{{pageLoaderImg}}" show="orgloclistSpinner"></spinner><div><table dt-options="options2" dt-column-defs="dtColumnDefs2" class="table table-striped table-hover rwd-table" width="100%"><thead><tr><th>{{'PRESCRIPTION_NAME' | translate}}</th><th>{{'CREATED_DATE' | translate}}</th><th>{{'DOCTOR_NAME'| translate}}</th></tr></thead><tbody><tr ng-repeat="listNote in aptNotes"><td>{{listNote.prescriptionRef}}&nbsp;&nbsp;&nbsp;<view-prescription-directive record="treatment" current-state="manageUserTreatment" manage-type="viewmode" prescription-ref-id="listNote.prescriptionRef" org-loc-id="treatment.treatmentLocation.id"></view-prescription-directive></td><td>{{listNote.datePrescriptionCreated |date:'dd-MM-yyyy'}}</td><td>{{listNote.docName}}</td></tr></tbody></table></div></div></uib-accordion-group></uib-accordion><br><br></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12 wizardFooter"><button ng-click="goToStep4()" class="btn btn-default prevBtn btn-md pull-left"><i class="fa fa-angle-left" style="margin-top:2px;float:left"></i> <span class="previousTextBtn">{{'REQ_PREV'|translate}}</span></button><div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 padding-0 textAlign-C"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button></div><button ng-show="type !== 'view'" ng-click="goToStep6()" ng-disabled="disable" class="btn btn-default nextBtn btn-md pull-right"><span class="nextTextBtn">{{'REQ_NEXT_PAGE'|translate}}</span> <i class="fa fa-angle-right" style="margin-top:3px"></i></button></div></div></div></div></div><div ng-show="step6" class="setup-content" id="step-6"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="col-xs-12"><h3><span class="titleNum">{{'6_OF_6' | translate}}</span></h3><h3>{{'DOCUMENTS_LIST'|translate}}</h3><div class="col-sm-12 col-md-3 col-lg-3"><input id="fileInput" type="file" class="upload" style="height: 40px" onchange="angular.element(this).scope().fileChange(this)" multiple=""></div><br><br><br><div class="filterPanel filter" style="padding-top:5%" ng-repeat="aptDoc in treatmentDocList"><uib-accordion><uib-accordion-group is-open="false"><uib-accordion-heading><span>Treatment documents<i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i></span></uib-accordion-heading><div class="table-responsive foo" ng-class="{'posRelative':orgloclistSpinner}"><spinner name="orgloclistSpinner" img-src="{{pageLoaderImg}}" show="orgloclistSpinner"></spinner><div><table dt-options="options2" dt-column-defs="dtColumnDefs2" class="table table-striped table-hover rwd-table" width="100%"><thead><tr><th>{{'DOCUMENT_NAME' | translate}}</th><th>{{'VIEW_PRINT' | translate}}</th></tr></thead><tbody><tr ng-repeat="listDoc in aptDoc"><td>{{listDoc.fileName}}&nbsp;&nbsp;&nbsp;</td><td><a href="" ng-click="treatViewPrintFile(listDoc)"><i class="fa fa-print"></i> {{'VIEW_PRINT' | translate}}</a></td></tr></tbody></table></div></div></uib-accordion-group></uib-accordion><br><br></div><div class="filterPanel filter" style="padding-top:5%" ng-repeat="aptDoc in transactionDocList"><uib-accordion><uib-accordion-group is-open="false"><uib-accordion-heading><span>Transaction documents<i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i></span></uib-accordion-heading><div class="table-responsive foo" ng-class="{'posRelative':orgloclistSpinner}"><spinner name="orgloclistSpinner" img-src="{{pageLoaderImg}}" show="orgloclistSpinner"></spinner><div><table dt-options="options2" dt-column-defs="dtColumnDefs2" class="table table-striped table-hover rwd-table" width="100%"><thead><tr><th>{{'DOCUMENT_NAME' | translate}}</th><th>{{'VIEW_PRINT' | translate}}</th></tr></thead><tbody><tr ng-repeat="listDoc in aptDoc"><td>{{listDoc.fileName}}&nbsp;&nbsp;&nbsp;</td><td><a href="" ng-click="transactionViewPrintFile(listDoc)"><i class="fa fa-print"></i> {{'VIEW_PRINT' | translate}}</a></td></tr></tbody></table></div></div></uib-accordion-group></uib-accordion><br><br></div><div class="filterPanel filter" ng-repeat="aptDoc in apptAttachLst"><uib-accordion><uib-accordion-group is-open="false"><uib-accordion-heading><span>Appointment Id:- {{aptDoc[0].apptId}} <span>Appointment Date:- {{aptDoc[0].appointmentDate}}<i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i></span></span></uib-accordion-heading><div class="table-responsive foo" ng-class="{'posRelative':orgloclistSpinner}"><spinner name="orgloclistSpinner" img-src="{{pageLoaderImg}}" show="orgloclistSpinner"></spinner><div><table dt-options="options2" dt-column-defs="dtColumnDefs2" class="table table-striped table-hover rwd-table" width="100%"><thead><tr><th>{{'DOCUMENT_NAME' | translate}}</th><th>{{'UPLOADED_BY' | translate}}</th></tr></thead><tbody><tr ng-repeat="listDoc in aptDoc"><td>{{listDoc.fileName}}&nbsp;&nbsp;&nbsp;<a href="" ng-click="apptViewPrintFile(listDoc)"><i class="fa fa-print"></i> {{'VIEW_PRINT' | translate}}</a></td><td>{{listDoc.docName}}</td></tr></tbody></table></div></div></uib-accordion-group></uib-accordion><br><br></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12 wizardFooter"><button ng-click="goToStep5()" class="btn btn-default prevBtn btn-md pull-left"><i class="fa fa-angle-left" style="margin-top:2px;float:left"></i> <span class="previousTextBtn">{{'REQ_PREV'|translate}}</span></button><md-button ng-click="cancel()" class="btn btn-default prevBtn btn-md pull-right">{{'CANCEL'|translate}}</md-button></div></div></div></div></div><view-file-pop-up visible="viewFileContent" file-resource="fileResource"><view-file-pop-up-header title="{{'VIEW_FILE_CONTENTS' | translate}}"></view-file-pop-up-header><view-file-pop-up-body></view-file-pop-up-body><view-file-pop-up-footer is-hiding-print-button="isHidingPrintButton"></view-file-pop-up-footer></view-file-pop-up><style>.clinical{
    margin-top:-5px;
}</style></form></div>