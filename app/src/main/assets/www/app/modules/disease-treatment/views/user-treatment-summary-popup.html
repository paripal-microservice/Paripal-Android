<md-dialog class="calendar-event-popup" aria-label="Mango (Fruit)" ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>{{'USER_TREATMENT_SUMMARY' | translate}}</h2><span flex></span><md-button class="md-icon-button" ng-click="cancel1()"><i class="fa fa-times" aria-hidden="true"></i></md-button></div></md-toolbar><div class="dialog-content"><div class="pull-left fullWidth" style="border:1px solid #EEE"><form name="userTreatmentSummaryForm"><div class="clearfix"></div><div class="col-xs-12" ng-hide="whethersub"><md-input-container class="md-block"><label>{{'USER'|translate}} <span style="color:red">*</span></label><input name="user" ng-model="treatment.user" id="user" ng-readonly="userReadOnly" ng-disabled="viewmode ||whethersub" name="user" id="user" autocomplete="off" uib-typeahead="user as user.value for user in getUserNamesForRoleHistory($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('userMinLength')" typeahead-on-select="getIncidentId(treatment.user.id,treatment.creatingOrgLoc.id);getDiseaseVariant(treatment.user.id,treatment.creatingOrgLoc.id)" required><div ng-messages="userTreatmentSummaryForm.user.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-xs-12" ng-hide="whethersub"><md-input-container class="md-block"><label>{{'CREATING_LOCATION'|translate}}<span style="color:red">*</span></label><input type="text" name="creatingOrgLoc" id="creatingOrgLoc" ng-model="treatment.creatingOrgLoc" typeahead-on-select="getIncidentId(treatment.user.id,treatment.creatingOrgLoc.id);getDiseaseVariant(treatment.user.id,treatment.creatingOrgLoc.id)" autocomplete="off" uib-typeahead="creatingOrgLoc as creatingOrgLoc.value for creatingOrgLoc in getCreatingOrgLoc($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('orgLocMinLength')" ng-disabled="viewmode||whethersub" required><div ng-messages="userTreatmentSummaryForm.creatingOrgLoc.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-xs-12"><md-input-container class="md-block"><label>{{'DISEASE_VARIANT'|translate}}<span style="color:red">*</span></label><md-select ng-model="treatment.diseaseVariant" ng-disabled="viewmode || allMode" ng-change="getDisease(treatment.diseaseVariant.id)" name="diseaseVarriant"><md-option ng-repeat="varriant in diseaseVariant" ng-value="varriant" ng-selected="{{varriant.id == diseaseVariantId}}" required>{{varriant.value}}</md-option></md-select><div ng-messages="userTreatmentSummaryForm.diseaseVariant.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-xs-12"><md-input-container><label>{{'DATE_START'|translate}}<span style="color:red">*</span></label><input datepicker class="pointer" name="dateStart" id="dateStart" ng-change="getTillDate(treatment.dateStart)" ng-disabled="viewmode" ng-model="treatment.dateStart" restrict="reject" till-max-date="minDate" required><md-icon class="datepickerIcon"></md-icon><div ng-messages="userTreatmentSummaryForm.dateStart.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-xs-12"><md-input-container><label>{{'DATE_END'|translate}}<span ng-hide="treatment.continuing" style="color:red">*</span></label><input datepicker class="pointer" name="dateEnd" id="dateEnd" ng-model="treatment.dateEnd" ng-disabled="viewmode" restrict="reject" till-max-date="minDate" ng-required="!treatment.continuing"><md-icon class="datepickerIcon"></md-icon><div ng-messages="userTreatmentSummaryForm.dateEnd.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-xs-12"><div class="radio_Check_box margin-t-10"><md-checkbox ng-model="treatment.continuing" ng-disabled="viewmode"><span>{{'CONTINUING'|translate}}</span></md-checkbox></div></div><div class="col-xs-12"><md-input-container class="md-block"><label>{{'TREATMENT_LOC'|translate}}<span style="color:red">*</span></label><input type="text" name="treatmentLocation" id="treatmentLocation" ng-model="treatment.treatmentLocation" autocomplete="off" uib-typeahead="creatingOrgLoc as creatingOrgLoc.value for creatingOrgLoc in getCreatingOrgTreatLoc($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('userMinLength')" ng-disabled="viewmode" required><div ng-messages="userTreatmentSummaryForm.treatmentLocation.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-xs-12"><md-input-container class="md-block"><label>{{'TREATMENT_TYPE'|translate}}<span style="color:red">*</span></label><input type="text" name="treatmentType" id="treatmentType" ng-model="treatment.treatmentType" ng-disabled="viewmode" autocomplete="off" uib-typeahead="treatmentTypeId as treatmentTypeId.value for treatmentTypeId in getTreatmentTypeId($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('treatmentTypeMinLength')" required><div ng-messages="userTreatmentSummaryForm.treatmentType.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-xs-12"><a ng-click="callManageTreatment(treatment)" class="pointer ng-binding"><i class="fa fa-pencil-square-o"></i>{{'GO_TO_DETAILED_FORM' |translate}}</a></div><div class="col-xs-12 padding-b-10"><div class="pull-right"><md-button class="md-raised" ng-click="cancel1()">{{'CANCEL'|translate}}</md-button><md-button type="submit" ng-click="save()" ng-if="!viewmode" class="md-raised md-warn" name="save" ng-disabled="!userTreatmentSummaryForm.$valid">{{'SAVE'|translate}}</md-button></div></div></form></div></div></md-dialog>