<div class="pageTitle"><span>{{'FIX_APPOINTMENT'|translate}}</span><help-directive help-id="FIX_APPOINTMENT" class="divContainer"></help-directive></div><div class="stepwizard"><div class="stepwizard-row setup-panel"><div class="stepwizard-step"><a href="#step-1" type="button" class="btn btn-primary btn-circle"><i class="fa fa-calendar-check-o" aria-hidden="true"></i></a></div><div class="stepwizard-step" ng-show="isAppointmentPresent"><a href="#step-2" type="button" class="btn btn-default btn-circle"><i class="fa fa-upload" aria-hidden="true"></i></a></div><div class="stepwizard-step" ng-show="isAppointmentPresent && whetherOrgUser && isRecurring"><a href="#step-3" type="button" class="btn btn-default btn-circle"><i class="fa fa-calendar" aria-hidden="true"></i></a></div><div class="stepwizard-step" ng-show="isAppointmentPresent && whetherOrgUser && isRecurring"><a href="#step-4" type="button" class="btn btn-default btn-circle"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i></a></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-t-10 wizard"><form name="mainAppointmentForm" class="form-horizontal" autocomplete="off"><ng-form name="appointmentForm" class="form-horizontal" autocomplete="off"><div class="setup-content" id="step-1"><div><h3>{{'FIX_APPOINTMENT'|translate}} <span class="titleNum">{{'1_of_2'|translate}}</span></h3></div><div><h3>{{'APPOINTMENT_DETAILS'| translate}}</h3></div><div class="listDisplayLine" ng-hide="fromState == 'home' || fromState== 'individualcalendarlist'"><div class="row"><div class="col-sm-12 col-md-4 col-lg-4 list margin-b-10">{{'ENTITY_TYPE'|translate}}: <b>{{WSAppointment.entityType.value}}</b></div><div class="col-sm-12 col-md-4 col-lg-4 list margin-b-10">{{'ENTITY_NAME'|translate}}:<md-icon ng-if="isOrgUserEntityType"><img src="{{entityImageUrl}}" style="margin-left:10px" class="img-circle special-img profileImg"></md-icon><b style="margin-left:20px">{{WSAppointment.entityName.value}}</b></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4 list margin-b-10">{{'EVENT_TYPE'|translate}}:<b>{{WSAppointment.eventType.value}}</b></div><div class="col-sm-12 col-md-4 col-lg-4 list margin-b-10">{{'EVENT_NAME'|translate}}: <b>{{WSAppointment.eventName.value}}</b></div></div></div><div class="row" ng-if="fromState == 'home' || fromState== 'individualcalendarlist'"><organization-location-autocomplete label="locLabel" adhoc-url="GET_ACCESSIBLE_ORG_LOC_LIST_KEYWORD" required="false" disable="disabledFormFields" selected="WSAppointmentDetails.organizationLocation" org-loc-permission="featurePrivilegeConstants.VIEW_CALENDAR" on-blur="onLocationChanged()"></organization-location-autocomplete><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label class="md-required">{{"APPOINTMENT_FOR"|translate}}</label><md-select ng-change="entityTypeSelected()" ng-disabled="disabledFormFields || (WSAppointmentDetails.organizationLocation | checkNull)" ng-model="WSAppointmentDetails.entityTypeName" ng-required="fromState == 'home' || fromState== 'individualcalendarlist'"><md-option ng-repeat="entityType in entityTypes | filter:{value:'!Organization Location'}" ng-selected="entityType.id == selectedEntityTypeId" ng-value="entityType">{{entityType.value}}</md-option></md-select></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container ng-if="WSAppointmentDetails.entityTypeName.code == 'CAL_EQUIPMENT' || WSAppointmentDetails.entityTypeName.code == 'CAL_PROCESS'"><label class="md-required">{{"SELECT_PROCESS"|translate}}</label><md-select ng-change="entitySelected()" ng-disabled="disabledFormFields" ng-model="WSAppointmentDetails.entityId" ng-required="fromState == 'home' || fromState== 'individualcalendarlist'" name="entityId"><md-option ng-repeat="entity in entities" ng-selected="entity.id == selectedEntityId" value="{{entity}}">{{entity.value}}</md-option></md-select><div ng-messages="appointmentForm.entityId.$error"><span ng-message="required">{{'REQUIRED'|translate}}</span></div></md-input-container><md-input-container ng-if="WSAppointmentDetails.entityTypeName.code == 'CAL_ORGANIZATION_USER'"><label class="md-required">{{'HEALTH_SUPPORT_PROF'|translate}}</label><input ng-model="WSAppointmentDetails.orgUser" name="userName" id="User" ng-blur="userNameChanged()" uib-typeahead="user as user.displayName for user in getUserNames($viewValue, WSAppointmentDetails.organizationLocation.data.id)" typeahead-min-length="getSmartSearchMinLength('userMinLength')" typeahead-on-select="onUserSelect($item, $model, $label)" typeahead-editable="false" ng-required="fromState == 'home' || fromState== 'individualcalendarlist'" ng-disabled="disabledFormFields"><div ng-messages="appointmentForm.userName.$error"><span ng-message="required">{{'REQUIRED'|translate}}</span></div></md-input-container></div></div><div class="row" ng-if="fromState == 'home' || fromState== 'individualcalendarlist'"><ws-client-search-combo label-name="APPOINTMENT_TYPE" query-param="false" required="false" disable="(WSAppointmentDetails.entityTypeName | checkNull) || disabledFormFields" name-value-list="WSAppointmentDetails.eventType" query-url="eventType.queryUrl" query-parameter="eventType.queryParameter" json-parameter="eventType.jsonParameter" on-blur="setEventType(WSAppointmentDetails.eventType)" on-select="setEventType(WSAppointmentDetails.eventType, 'onSelect')"></ws-client-search-combo><div class="col-sm-12 col-md-4 col-lg-4"><ws-name-value-editable css-class="col-sm-12 col-md-4 col-lg-4  padding-0 float-width-l-100" label-name="APPOINTMENT_PERIOD" method="post" query-param="false" required="true" disable="((WSAppointmentDetails.organizationLocation | checkNull) || ((WSAppointmentDetails.entityId | checkNull) && (WSAppointmentDetails.orgUser | checkNull) && WSAppointmentDetails.entityTypeName.code !== 'CAL_ORGANIZATION_LOCATION') || (WSAppointmentDetails.entityTypeName | checkNull)) || disabledFormFields" name-value-list="WSAppointmentDetails.eventName" query-search-key="keyword" query-url="eventName.queryUrl" query-parameter="eventName.queryParameter" json-parameter="eventName.jsonParameter" on-select="getAvailableSlots()" min-length="clientSearchMinLength"></ws-name-value-editable></div><div class="col-sm-12 col-md-4 col-lg-4"><div class="col-sm-12 col-md-4 col-lg-4 padding-0 float-width-l-100"><md-input-container><md-checkbox ng-model="WSAppointment.isRecurring" ng-disabled="disabledFormFields" aria-class="md-warn md-align-top-left padding-b-25" flex>{{'IS_RECURRING_APPOINTMENT' |translate}}</md-checkbox></md-input-container></div></div></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><h3>{{'ABOUT_APPOINTMENT'|translate}}</h3></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'APPOINTMENT_DATE'|translate}}<span ng-if="true" class="mandatoryStar">*</span></label><input datepicker class="pointer" ng-model="WSAppointment.apptDate" from-min-date="minDate" name="apptDate" ng-disabled="isAppoinmentDateDisabled || disabledFormFields" ng-required="true" ng-change="getAvailableSlots()"><md-icon class="datepickerIcon"></md-icon><div ng-messages="appointmentForm.apptDate.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><current-start-end-time ng-if="isSlotBased && !isProcessCalendar" start-time-label="START_TIME" end-time-label="END_TIME" start-date="" end-date="" start-time="WSAppointment.startTime" end-time="WSAppointment.endTime" required-start-time="true" required-end-time="true" disable-start-time="isStartTimeDisabled || disabledFormFields" disable-end-time="isEndTimeDisabled || disabledFormFields"></current-start-end-time><div class="col-sm-12 col-md-4 col-lg-4" ng-if="!isSlotBased && !isProcessCalendar && WSAppointmentDetails.entityTypeName.code !== 'CAL_PROCESS'"><md-input-container><label>{{ 'START_TIME' |translate}} - {{ 'END_TIME' |translate}}<span ng-if="required" class="mandatoryStar">*</span></label><md-select ng-model="WSAppointment.slot" name="slot" ng-change="selectSlotChanged(WSAppointment.slot)" ng-disabled="disabledFormFields" ng-required="true"><md-option ng-repeat="data in WSSlotTime" value="{{data}}" ng-selected="data.id == displayId ? true:false">{{data.value }}</md-option></md-select><div class="md-errors-spacer" ng-if="requiredValue"></div><div ng-messages="appointmentForm.slot.$error"><div ng-message="required">{{'REQUIRED_SELECTION' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'EARLIER_APPOINTMENT'|translate}}</label><input datepicker class="pointer" ng-model="WSCalendarEvent.dateMapped" from-min-date="minDate" name="mappingDate" ng-disabled="true" ng-required="false"><md-icon class="datepickerIcon"></md-icon><div ng-messages="appointmentForm.mappingDate.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><ws-client-search-combo ng-if="WSAppointment.entityType.code!='CAL_EQUIPMENT'" label-name="TYPE_OF_SERVICE_EXPECTED" query-param="false" required="isServiceRequired" disable="disabledFormFields" name-value-list="WSAppointment.serviceType" query-url="serviceType.queryUrl" query-parameter="serviceType.queryParameter" json-parameter="serviceType.jsonParameter"></ws-client-search-combo><custom-text-field label-name="PROBLEM_DESCRIPTION" model-name="WSAppointment.problemDescription" disable="disabledFormFields" maxlength="100"></custom-text-field></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><md-checkbox ng-if="WSAppointment.entityType.code!='CAL_EQUIPMENT'" ng-model="WSAppointment.isFollowUp" ng-disabled="disabledFormFields" aria-class="md-warn md-align-top-left padding-b-25" flex>{{'IS_FOLLOW_UP' |translate}}</md-checkbox></md-input-container></div><ws-image-value-combo ng-if="WSAppointment.entityType.code=='CAL_PROCESS'" label-name="PREFERRED_PROFESSIONAL" query-param="false" required="false" disable="isSpecificProfessionalDisabled || disabledFormFields" name-value-list="WSAppointment.specificDoctor" query-search-key="keyword" query-url="specificDoctor.queryUrl" query-parameter="specificDoctor.queryParameter" json-parameter="specificDoctor.jsonParameter"></ws-image-value-combo><ws-image-value-combo label-name="DOCTOR" ng-if="WSAppointment.entityType.code!='CAL_EQUIPMENT'" query-param="false" required="false" disable="true" name-value-list="WSAppointment.lastProfessional" query-search-key="keyword" query-url="lastProfessional.queryUrl" query-parameter="lastProfessional.queryParameter" json-parameter="lastProfessional.jsonParameter"></ws-image-value-combo></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><h3 ng-if="WSAppointment.entityType.code!='CAL_EQUIPMENT'">{{'ABOUT_PATIENT'|translate}}</h3><h3 ng-if="WSAppointment.entityType.code=='CAL_EQUIPMENT'">{{'DOCTORS_DETAILS'|translate}}</h3></div><ws-image-value-combo label-name="USER_NAME" query-param="false" required="false" disable="true" name-value-list="WSAppointment.userName" query-search-key="keyword" query-url="userName.queryUrl" query-parameter="userName.queryParameter" json-parameter="userName.jsonParameter"></ws-image-value-combo><ws-image-text-value-combo label-name="ON_BEHALF" query-param="false" required="true" disable="disabledFormFields" name-value-list="WSAppointment.onBehalfOf" query-search-key="userName" query-url="onBehalfOf.queryUrl" query-parameter="onBehalfOf.queryParameter" json-parameter="onBehalfOf.jsonParameter"></ws-image-text-value-combo><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label class="md-required">{{'PATIENT_CELL_PHONE'|translate}}</label><input ng-model="WSAppointment.onBehalfOfCellPhone" name="mobile" maxlength="10" placeholder="{{'MOBILE_HINT' |translate}}" ng-pattern="/^[0-9]{10}$/" ng-blur="searchUserByNumber(WSAppointment.onBehalfOfCellPhone)" ng-disabled="disabledFormFields" ng-if="WSAppointment.entityType.code!='CAL_EQUIPMENT'" required><div ng-messages="appointmentForm.mobile.$error"><div ng-message="required">{{'INPUT_REQ' |translate}}</div><div ng-message="pattern">{{'INVALID_MOBILE' |translate}}</div></div></md-input-container></div><custom-number-field ng-if="WSAppointment.entityType.code=='CAL_EQUIPMENT'" label-name="DOCTORS_CELL_PHONE" model-name="WSAppointment.onBehalfOfCellPhone" disable="disabledFormFields" required="true" regex="^[0-9]{1,15}$" maxlength="15"></custom-number-field></div><div ng-if="WSAppointment.entityType.code!='CAL_EQUIPMENT'" class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><md-checkbox ng-model="WSAppointment.isNewUHID" ng-disabled="true" aria-class="md-warn md-align-top-left padding-b-25" flex>{{'IS_NEW_UHID' |translate}}</md-checkbox></md-input-container></div><div class="col-sm-12 col-xs-12 col-md-4 col-lg-4"><md-input-container><label>{{"UHID"|translate}}</label><input ng-disabled="disabledFormFields || (!loggedInUserDetails.isOrganizationUser || !loggedInUserDetails.isOrganizationUserMode)" ng-required="false" ng-model="WSAppointment.uhid" ng-blur="getDetailsByUhid(WSAppointment.uhid)"></md-input-container></div></div><div class="row"><div ng-if="WSAppointment.entityType.code!='CAL_EQUIPMENT'" class="col-sm-12 col-md-8 col-lg-8"><custom-text-area-field label-name="PATIENT_ADDRESS" model-name="WSAppointment.onBehalfOfAddress" rows="10" required="true" maxlength="5000" disable="isDescriptionFieldDisabled || disabledFormFields"></custom-text-area-field></div><div ng-if="WSAppointment.entityType.code!='CAL_EQUIPMENT'" class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{"CITY_DISTRICT"|translate}}</label><input ng-disabled="isDescriptionFieldDisabled || disabledFormFields" ng-required="true" ng-model="WSAppointment.addressInfo" name="partyName" ng-maxlength="150" id="partyName" autocomplete="off" uib-typeahead="cityName as cityName.cityDistrict for cityName in getCityNameData($viewValue)" typeahead-min-length="3" typeahead-on-select="partyNameSelected($item, $model, $label)"></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><h3>{{'APPOINTMENT_LOCATION'|translate}}</h3></div><div class="col-sm-12 col-md-10 col-lg-10" id="clickHere"><custom-text-area-field label-name="APPOINTMENT_ADDRESS" model-name="WSAppointment.orgLocarionAddress" rows="10" required="true" maxlength="5000" disable="!isHomeVisit || disabledFormFields"></custom-text-area-field></div><div class="col-sm-12 col-md-2 col-lg-2"><md-button class="md-raised" ng-click="isMap=!isMap">{{isMap?'HIDE_GOOGLE_MAP':'SHOW_GOOGLE_MAP' |translate}}</md-button></div></div><div class="row"><div ng-if="WSAppointment.entityType.code!='CAL_EQUIPMENT'" class="col-sm-12 col-md-4 col-lg-4"><h3>{{'PAYMENT_OPTION'|translate}}</h3><div><md-input-container><md-checkbox ng-model="WSAppointment.isFreeVisit" ng-disabled="isFreeVisitDisabled || disabledFormFields" aria-class="md-warn md-align-top-left padding-b-25" flex>{{'IS_FREE_VISIT' |translate}}</md-checkbox></md-input-container></div></div><div class="col-sm-12 col-md-8 col-lg-8" ng-show="isMap"><ng-map zoom="{{zoom}} " center="{{currentPosition}} "><marker position="{{currentPosition}} " animation="DROP " on-dragend="getPosition($event)" draggable="{{isHomeVisit}}"></marker></ng-map></div></div><div class="col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="col-xs-10 col-sm-10 col-md-10 col-lg-10 padding-0 textAlign-C"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><md-button class="md-raised md-warn" ng-disabled="!appointmentForm.$valid" ng-if="!isAppointmentPresent" ng-click="saveFixAppointment(appointmentForm)" type="button">{{'SAVE'|translate}}</md-button><md-button class="md-raised md-warn" ng-disabled="!isViewMode" ng-if="isViewMode" ng-click="showNotes()" type="button">{{'SHOW_NOTES'|translate}}</md-button></div><div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 padding-0"><button class="btn btn-default nextBtn btn-md pull-right" type="button"><span class="nextTextBtn">{{'NEXT_STEP'|translate}}</span> <i class="fa fa-angle-right"></i></button></div></div></div></ng-form><ng-form name="uploadForm" class="form-horizontal" autocomplete="off"><div class="setup-content" id="step-2"><div><h3>{{'UPLOAD_DETAILS'|translate}}<span class="titleNum"> {{'2_of_2'|translate}}</span></h3></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4 list margin-b-10">{{'ENTITY_TYPE'|translate}}: <b>{{WSAppointment.entityType.value}}</b></div><div class="col-sm-12 col-md-4 col-lg-4 list margin-b-10">{{'ENTITY_NAME'|translate}}:<md-icon ng-if="isOrgUser"><img src="{{entityImageUrl}}" class="img-circle special-img profileImg"></md-icon><b>{{WSAppointment.entityName.value}}</b></div><div class="col-sm-12 col-md-4 col-lg-4 list margin-b-10">{{'EVENT_TYPE'|translate}}:<b>{{WSAppointment.eventType.value}}</b></div><div class="col-sm-12 col-md-4 col-lg-4 list margin-b-10">{{'EVENT_NAME'|translate}}: <b>{{WSAppointment.eventName.value}}</b></div><div class="col-sm-12 col-md-4 col-lg-4 list margin-b-10">{{'ON_BEHALF'|translate}}:<b>{{WSAppointment.onBehalfOf.value}}</b></div><div class="col-sm-12 col-md-4 col-lg-4 list margin-b-10">{{'DATE'|translate}}:<b>{{WSAppointment.apptDate | timestampToDate}}</b></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container class="padding-l-0"><label>{{'PLEASE_SELECT_USER'|translate}}</label><md-select ng-model="WSApptUserDetails.userId" name="userList" id="userList" ng-change="selectedUser(WSApptUserDetails.userId)"><md-option ng-repeat="user in WSApptUserDetails.userList" value="{{user.id}}">{{user.value}}</md-option></md-select></md-input-container></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 top-border-gray"></div><document-listing-comp ng-if="isAppointmentPresent" hide-upload-btn="isViewMode" attachment-list="WSTransactionAttachments" doc-type="{{commonConstants.documentTypes.transaction}}" doc-sub-type="{{commonConstants.documentSubTypes.appointment_transaction}}" search-object-params="requestObject" url-key="GET_DOC_BY_APPT_ID_OR_REQUEST_ID_USERID" delete-url-key="DELETE_DOC_BY_APPT_OR_REQUEST_ID" delete-req-params="requestObject" record-id="WSAppointment.id" id-field-name="appointmentId"></document-listing-comp><div class="col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooterSteps"><div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 padding-0"><button class="btn btn-default prevBtn btn-md pull-left" type="button"><span class="previousTextBtn">{{'PREV_STEP'|translate}}</span> <i class="fa fa-angle-left"></i></button></div><div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 padding-0 textAlign-C"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button></div></div></div></ng-form><ng-form name="scheduleForm" class="form-horizontal" autocomplete="off"><div class="setup-content" id="step-3"><div><h3>{{'DEFINE_SCHEDULE'|translate}}<span class="titleNum"> {{'3_of_4'|translate}}</span></h3><div><h5><b>{{'ORIGINAL_EVENT_DETAILS'|translate}}</b></h5></div><div class="listDisplayLine"><div class="row"><div class="col-sm-12 col-md-4 col-lg-4 list margin-b-10">{{'ENTITY_TYPE'|translate}}: <b>{{WSAppointment.entityType.value}}</b></div><div class="col-sm-12 col-md-4 col-lg-4 list margin-b-10">{{'ENTITY_NAME'|translate}}:<md-icon ng-if="isOrgUserEntityType"><img src="{{entityImageUrl}}" class="img-circle special-img profileImg"></md-icon><b>{{WSAppointment.entityName.value}}</b></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4 list margin-b-10">{{'EVENT_TYPE'|translate}}:<b>{{WSAppointment.eventType.value}}</b></div><div class="col-sm-12 col-md-4 col-lg-4 list margin-b-10">{{'PATIENT_NAME'|translate}}: <b>{{WSAppointment.onBehalfOf.value}}</b></div></div></div><div><h5><b>{{'SCHEDULE_DETAILS'|translate}}</b></h5></div><div class="row"><valid-from-valid-till ng-if="!isDefinePerVisit" valid-from="WSScheduleAppointment.fromDate" from-date-label="SCHEDULE_START_DATE" require-valid-from="true" disable-valid-from="isViewMode" valid-till="WSScheduleAppointment.tillDate" to-date-label="SCHEDULE_END_DATE" require-valid-till="true" disable-valid-till="isViewMode"></valid-from-valid-till><valid-from-valid-till ng-if="isDefinePerVisit" valid-from="WSScheduleAppointment.perVisitStartdate" from-date-label="SCHEDULE_START_DATE" require-valid-from="true" disable-valid-from="isViewMode" valid-till="WSScheduleAppointment.perVisitEndDate" to-date-label="SCHEDULE_END_DATE" require-valid-till="true" disable-valid-till="isViewMode"></valid-from-valid-till><ws-enum-combo min-length="pickListMinLength" label-name="FREQUENCY" query-param="false" required="true" disable="isViewMode" name-value-list="WSScheduleAppointment.frequency" query-url="frequency.queryUrl" query-parameter="frequency.queryParameter" json-parameter="frequency.jsonParameter"></ws-enum-combo></div><div ng-if="isWeekly"><div><h5><b>{{'SCHEDULE_GRID'|translate}}</b></h5></div><div class="row padding-t-10"><div class="col-sm-12 col-md-2 col-lg-2"><md-input-container><md-checkbox ng-model="WSAppointmentWeekly.isMonday" ng-disabled="disabledFormFields1 || isViewMode" aria-class="md-warn md-align-top-left padding-b-25" flex>{{'MONDAY_VAL'|translate}}</md-checkbox></md-input-container></div><current-start-end-time start-time-label="START_TIME" end-time-label="END_TIME" start-date="startDate" end-date="endDate" start-time="WSAppointmentWeekly.mondayStartTime" end-time="WSAppointmentWeekly.mondayEndTime" required-start-time="WSAppointmentWeekly.isMonday" required-end-time="WSAppointmentWeekly.isMonday" disable-start-time="isViewMode" disable-end-time="isViewMode"></current-start-end-time></div><div class="row padding-t-10"><div class="col-sm-12 col-md-2 col-lg-2"><md-input-container><md-checkbox ng-model="WSAppointmentWeekly.isTuesday" ng-disabled="disabledFormFields1 || isViewMode" aria-class="md-warn md-align-top-left padding-b-25" flex>{{'TUESDAY'|translate}}</md-checkbox></md-input-container></div><current-start-end-time start-time-label="" end-time-label="" start-date="startDate" end-date="endDate" start-time="WSAppointmentWeekly.tuesdayStartTime" end-time="WSAppointmentWeekly.tuesdayEndTime" required-start-time="WSAppointmentWeekly.isTuesday" required-end-time="WSAppointmentWeekly.isTuesday" disable-start-time="isViewMode" disable-end-time="isViewMode"></current-start-end-time></div><div class="row padding-t-10"><div class="col-sm-12 col-md-2 col-lg-2"><md-input-container><md-checkbox ng-model="WSAppointmentWeekly.isWednesday" ng-disabled="disabledFormFields1 || isViewMode" aria-class="md-warn md-align-top-left padding-b-25" flex>{{'WEDNESDAY'|translate}}</md-checkbox></md-input-container></div><current-start-end-time start-time-label="" end-time-label="" start-date="startDate" end-date="endDate" start-time="WSAppointmentWeekly.wednesdayStartTime" end-time="WSAppointmentWeekly.wednesdayEndTime" required-start-time="WSAppointmentWeekly.isWednesday" required-end-time="WSAppointmentWeekly.isWednesday" disable-start-time="isViewMode" disable-end-time="isViewMode"></current-start-end-time></div><div class="row padding-t-10"><div class="col-sm-12 col-md-2 col-lg-2"><md-input-container><md-checkbox ng-model="WSAppointmentWeekly.isThrusday" ng-disabled="disabledFormFields1 || isViewMode" aria-class="md-warn md-align-top-left padding-b-25" flex>{{'THURSDAY'|translate}}</md-checkbox></md-input-container></div><current-start-end-time start-time-label="" end-time-label="" start-date="startDate" end-date="endDate" start-time="WSAppointmentWeekly.thrusdayStartTime" end-time="WSAppointmentWeekly.thrusdayEndTime" required-start-time="WSAppointmentWeekly.isThrusday" required-end-time="WSAppointmentWeekly.isThrusday" disable-start-time="isViewMode" disable-end-time="isViewMode"></current-start-end-time></div><div class="row padding-t-10"><div class="col-sm-12 col-md-2 col-lg-2"><md-input-container><md-checkbox ng-model="WSAppointmentWeekly.isFriday" ng-disabled="disabledFormFields1 || isViewMode" aria-class="md-warn md-align-top-left padding-b-25" flex>{{'FRIDAY'|translate}}</md-checkbox></md-input-container></div><current-start-end-time start-time-label="" end-time-label="" start-date="startDate" end-date="endDate" start-time="WSAppointmentWeekly.fridayStartTime" end-time="WSAppointmentWeekly.fridayEndTime" required-start-time="WSAppointmentWeekly.isFriday" required-end-time="WSAppointmentWeekly.isFriday" disable-start-time="isViewMode" disable-end-time="isViewMode"></current-start-end-time></div><div class="row padding-t-10"><div class="col-sm-12 col-md-2 col-lg-2"><md-input-container><md-checkbox ng-model="WSAppointmentWeekly.isSaturday" ng-disabled="disabledFormFields1 || isViewMode" aria-class="md-warn md-align-top-left padding-b-25" flex>{{'SATURDAY'|translate}}</md-checkbox></md-input-container></div><current-start-end-time start-time-label="" end-time-label="" start-date="startDate" end-date="endDate" start-time="WSAppointmentWeekly.saturdayStartTime" end-time="WSAppointmentWeekly.saturdayEndTime" required-start-time="WSAppointmentWeekly.isSaturday" required-end-time="WSAppointmentWeekly.isSaturday" disable-start-time="isViewMode" disable-end-time="isViewMode"></current-start-end-time></div><div class="row padding-t-10"><div class="col-sm-12 col-md-2 col-lg-2"><md-input-container><md-checkbox ng-model="WSAppointmentWeekly.isSunday" ng-disabled="disabledFormFields1 || isViewMode" aria-class="md-warn md-align-top-left padding-b-25" flex>{{'SUNDAY'|translate}}</md-checkbox></md-input-container></div><current-start-end-time start-time-label="" end-time-label="" start-date="startDate" end-date="endDate" start-time="WSAppointmentWeekly.sundayStartTime" end-time="WSAppointmentWeekly.sundayEndTime" required-start-time="WSAppointmentWeekly.isSunday" required-end-time="WSAppointmentWeekly.isSunday" disable-start-time="isViewMode" disable-end-time="isViewMode"></current-start-end-time></div></div><div ng-if="isDaily"><div><h5><b>{{'SCHEDULE_APPOINTMENT'|translate}}</b></h5></div><div class="row padding-t-10"><current-start-end-time start-time-label="START_TIME" end-time-label="END_TIME" start-date="startDate" end-date="endDate" start-time="WSAppointmentDaily.startTime" end-time="WSAppointmentDaily.endTime" required-start-time="true" required-end-time="true" disable-start-time="isViewMode" disable-end-time="isViewMode"></current-start-end-time></div></div><div ng-if="isDefinePerVisit"><div><h5><b>{{'SCHEDULE_APPOINTMENT'|translate}}</b></h5></div><div class="row padding-t-10"><current-start-end-time start-time-label="START_TIME" end-time-label="END_TIME" start-date="startDate" end-date="endDate" start-time="WSAppointmentDefinePerVisit.startTime" end-time="WSAppointmentDefinePerVisit.endTime" required-start-time="true" required-end-time="true" disable-start-time="isViewMode" disable-end-time="isViewMode"></current-start-end-time></div></div><div ng-if="isAdhoc"><div><h5><b>{{'SCHEDULE_APPOINTMENT_LIST'|translate}}</b></h5></div><div class="padding-b-10 padding-t-20 ng-scope pull-left fullWidth"><div class="padding-0"><md-button type="button" ng-disabled="isViewMode" class="md-raised md-warn" ng-click="scheduleAppointment($event,null,-1)"><i class="fa fa-plus"></i> {{'ADD_NEW' | translate}}</md-button><div class="pull-right"><md-menu><md-button type="button" class="md-raised" ng-click="$mdOpenMenu($event)">{{'SHOW'|translate}} {{itemPerPage}}</md-button><md-menu-content width="3" ng-init="maxRecordsAr = [10,25,50,100]"><md-menu-item ng-repeat="item in maxRecordsAr"><md-button ng-click="setMaxRecords(item)"><span md-menu-align-target>{{'SHOW'|translate}} {{item}} </span></md-button></md-menu-item></md-menu-content></md-menu></div></div></div><div class="table-responsive foo"><div><table datatable="ng" dt-options="options" dt-column-defs="dtColumnDefs" class="table table-striped table-hover rwd-table" width="100%"><thead><tr><th searchobject="searchCriteria" searchfunction="searchCalendarEventException()" name="EXCEPTION_DATE" data-priority="1">{{'DATE' | translate}}</th><th searchobject="searchCriteria" searchfunction="searchCalendarEventException()" name="EVENT_START_TIME">{{'START_TIME' | translate}}</th><th searchobject="searchCriteria" searchfunction="searchCalendarEventException()" name="EVENT_END_TIME">{{'END_TIME' | translate}}</th></tr></thead><tbody><tr ng-repeat="row in WSAppointmentAdhocList"><td><div class="btn-group"><a class="dropdown-toggle dropDownBtnLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{row.date | timestampToDate}}</a><ul class="dropdown-menu" ng-if="!isViewMode"><li><a href="" ng-click="scheduleAppointment($event,row,$index)"><i class="fa fa-pencil"></i>{{"EDIT" | translate}}</a></li><li><a href="" ng-click="deleteScheduleAppointment(row,$index)"><i class="fa fa-pencil"></i>{{"DELETE" | translate}}</a></li></ul></div></td><td>{{row.startTime | time24to12Hour}}</td><td>{{row.endTime | time24to12Hour}}</td></tr></tbody></table></div><div ng-show="totalItems > 0"><div class="pageRecord"><span>{{'SHOWING' | translate}} {{pagingInfo.startRecord + '-' + pagingInfo.endRecord + ' of ' + totalItems + ' items'}}</span></div><div class="text-center"><uib-pagination max-size="4" total-items="totalItems" ng-model="currentPage" items-per-page="itemPerPage" ng-change="pageChanged()" boundary-links="true" class="pagination-md" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></uib-pagination></div></div></div></div></div><div class="col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooterSteps"><div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 padding-0"><button class="btn btn-default prevBtn btn-md pull-left" type="button"><span class="previousTextBtn">{{'PREV_STEP'|translate}}</span> <i class="fa fa-angle-left"></i></button></div><div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 padding-0 textAlign-C"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><md-button class="md-raised md-warn" ng-hide="isSchedulePresent" ng-disabled="!scheduleForm.$valid || isViewMode" ng-click="defineSchedule()" type="button">{{'SAVE'|translate}}</md-button></div><div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 padding-0"><button class="btn btn-default nextBtn btn-md pull-right" type="button"><span class="nextTextBtn">{{'NEXT_STEP'|translate}}</span> <i class="fa fa-angle-right"></i></button></div></div></div></ng-form><ng-form name="scheduleExceptionForm" class="form-horizontal" autocomplete="off"><div class="setup-content" id="step-4"><div><h3>{{'SCHEDULE_EXCEPTION'|translate}}<span class="titleNum"> {{'4_of_4'|translate}}</span></h3><div><h5><b>{{'APPOINTMENT_DETAILS'|translate}}</b></h5></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12 listDisplay"><div class="col-sm-12 col-md-4 col-lg-4 list">{{'ENTITY_TYPE'|translate}}: <b>{{calendarEvent.entityTypeDetails.value}}</b></div><div class="col-sm-12 col-md-4 col-lg-4 list">{{'ENTITY_NAME'|translate}}: <b>{{calendarEvent.entityName}}</b></div><div class="col-sm-12 col-md-4 col-lg-4 list">{{'EVENT_TYPE'|translate}}:<b>{{calendarEvent.eventType.value}}</b></div><div class="col-sm-12 col-md-4 col-lg-4 list">{{'ON_BEHALF_OF'|translate}}: <b>{{calendarEvent.eventName}}</b></div><div class="col-sm-12 col-md-4 col-lg-4 list">{{'SCHEDULE_FROM'|translate}}:<b>{{calendarEvent.eventStartDate | timestampToDate}}</b></div><div class="col-sm-12 col-md-4 col-lg-4 list">{{'SCHEDULE_TO'|translate}}:<b>{{calendarEvent.eventEndDate | timestampToDate}}</b></div></div></div></div><div class="padding-b-10 padding-t-20 ng-scope pull-left fullWidth"><div class="padding-0"><md-button type="button" ng-disabled="isViewMode" class="md-raised md-warn" ng-click="manageEventException(null,'add')"><i class="fa fa-plus"></i> {{'ADD_NEW' | translate}}</md-button><div class="pull-right"><md-menu><md-button type="button" class="md-raised" ng-click="$mdOpenMenu($event)">{{'SHOW'|translate}} {{itemPerPage}}</md-button><md-menu-content width="3" ng-init="maxRecordsAr = [10,25,50,100]"><md-menu-item ng-repeat="item in maxRecordsAr"><md-button ng-click="setMaxRecords(item)"><span md-menu-align-target>{{'SHOW'|translate}} {{item}} </span></md-button></md-menu-item></md-menu-content></md-menu></div></div></div><div class="table-responsive foo"><div><table datatable="ng" dt-options="options" dt-column-defs="dtColumnDefs" class="table table-striped table-hover rwd-table" width="100%"><thead><tr><th searchobject="searchCriteria" searchfunction="searchCalendarEventException()" name="EXCEPTION_DATE" data-priority="1">{{'DATE' | translate}}</th><th searchobject="searchCriteria" searchfunction="searchCalendarEventException()" name="EVENT_START_TIME">{{'START_TIME' | translate}}</th><th searchobject="searchCriteria" searchfunction="searchCalendarEventException()" name="EVENT_END_TIME">{{'END_TIME' | translate}}</th></tr></thead><tbody><tr ng-repeat="row in WSEventExceptionList"><td><div class="btn-group"><a class="dropdown-toggle dropDownBtnLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{row.exceptionDate | timestampToDate}}</a><ul class="dropdown-menu" ng-if="!isViewMode"><li><a href="" ng-click="manageEventException(row,'edit')"><i class="fa fa-pencil"></i>{{"EDIT" | translate}}</a></li><li><a href="" ng-click="manageEventException(row,'view')"><i class="fa fa-pencil"></i>{{"VIEW" | translate}}</a></li></ul></div></td><td>{{row.startTime | time24to12Hour}}</td><td>{{row.endTime | time24to12Hour}}</td></tr></tbody></table></div><div ng-show="totalItems > 0"><div class="pageRecord"><span>{{'SHOWING' | translate}} {{pagingInfo.startRecord + '-' + pagingInfo.endRecord + ' of ' + totalItems + ' items'}}</span></div><div class="text-center"><uib-pagination max-size="4" total-items="totalItems" ng-model="currentPage" items-per-page="itemPerPage" ng-change="pageChanged()" boundary-links="true" class="pagination-md" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></uib-pagination></div></div><div class="col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooterSteps"><div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 padding-0"><button class="btn btn-default prevBtn btn-md pull-left" type="button"><span class="previousTextBtn">{{'PREV_STEP'|translate}}</span> <i class="fa fa-angle-left"></i></button></div><div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 padding-0 textAlign-C"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button></div></div></div></div></ng-form></form></div><script src="components/js/custom/custom.js"></script>