<div class="pageTitle"><span>{{'MANAGE_USER_VACCINATION'|translate}}</span><help-directive help-id="MANAGE_USER_VACCINATION" class="divContainer"></help-directive></div><div class="stepwizard"><div class="stepwizard-row setup-panel"><div class="stepwizard-step"><a href="#step-1" type="button" class="btn btn-primary btn-circle"><i class="fa fa-plus"></i></a></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-0 wizard" ng-class="{'posRelative':attachmentFormSpinner}"><spinner name="attachmentFormSpinner" img-src="{{pageLoaderImg}}" show="attachmentFormSpinner"></spinner><form name="ManageUserVaccination" class="form-horizontal" autocomplete="off" novalidate="novalidate"><div class="col-xs-12"><h3>{{'MANAGE_USER_VACCINATION'|translate}}</h3><div class="row"><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container ng-show="!viewmode"><spinner name="userNameAutoCmp" img-src="{{autoCompletLoaderImg}}" show="userNameAutoCmpLoading" is-auto-complete="true"></spinner><label>{{'USER_NAME'|translate}}<span style="color:red">*</span></label><input ng-model="userVaccination.user" name="userName" id="userName" autocomplete="off" ng-disabled="whethersub" uib-typeahead="users as users.value for users in getUserNamesForRoleHistory($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('userMinLength')" required><div ng-messages="ManageUserVaccination.userName.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container><md-input-container ng-show="viewmode"><spinner name="userNameAutoCmp" img-src="{{autoCompletLoaderImg}}" show="userNameAutoCmpLoading" is-auto-complete="true"></spinner><label>{{'USER NAME'|translate}}</label><input ng-model="userVaccination.user.value" ng-disabled="true"></md-input-container></div><div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block"><label>{{'CREATED_BY'|translate}} <span style="color:red">*</span></label><input ng-model="userVaccination.orgLocationCode" name="createdBy" autocomplete="off" uib-typeahead="orgLocationCode as orgLocationCode.value for orgLocationCode in getCreatedBy($viewValue)" typeahead-on-select="updateDoneAt(userVaccination.orgLocationCode)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('userMinLength')" id="createdBy" ng-disabled="viewmode ||whethersub" required><div ng-messages="ManageUserVaccination.createdBy.$error"><div ng-message="required">{{'REQUIRED_SELECTION' |translate}}</div></div></md-input-container></div></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block"><spinner name="userNameAutoCmp" img-src="{{autoCompletLoaderImg}}" show="vaccineAutoCmpLoading" is-auto-complete="true"></spinner><label>{{'VACCINE' | translate}}</label><md-select ng-required="true" name="vaccine" id="vaccine" ng-model="userVaccination.vaccine" ng-disabled="pageState==='view' || pageState==='edit'"><md-option ng-repeat="vaccine in vaccineList" ng-value="vaccine" ng-selected="{{vaccine.id == userVaccination.vaccine.id}}">{{vaccine.value}}</md-option></md-select><div ng-messages="ManageUserVaccination.vaccine.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block md-icon-right"><label>{{'PLANNED_ON'|translate}}</label><input datepicker class="pointer" ng-change="removeMandatory(userVaccination)" from-min-date="minDate" ng-model="userVaccination.vaccinePlannedOn" ng-disabled="viewmode"><md-icon class="datepickerIcon ng-isolate-scope material-icons"></md-icon></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block md-icon-right"><label>{{'VACCINATION_DATE'|translate}}</label><input datepicker class="pointer" ng-change="removeMandatory(userVaccination)" till-max-date="minDate" ng-model="userVaccination.vaccinationDate" ng-disabled="viewmode"><md-icon class="datepickerIcon ng-isolate-scope material-icons"></md-icon></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block md-icon-right"><label>{{'VALID_TILL'|translate}}</label><input datepicker class="pointer" from-min-date="minDate" ng-model="userVaccination.vaccineValidity" ng-disabled="viewmode"><md-icon class="datepickerIcon ng-isolate-scope material-icons"></md-icon></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" style="margin-top:2px"><md-input-container class="md-block"><label class="md-required">{{'RECOMMENDED_BY'|translate}}</label><md-select name="recommendBy" id="recommendBy" ng-model="userVaccination.recommendedBy" ng-disabled="viewmode" required><md-option ng-repeat="recommendBy in recommendByList" ng-value="recommendBy" ng-selected="{{recommendBy.id == userVaccination.recommendedBy.id}}">{{recommendBy.value}}</md-option></md-select></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block"><label>{{'DOSAGE'|translate}} <span style="color:red">*</span></label><input type="text" name="vaccineDosage" id="vaccineDosage" ng-model="userVaccination.vaccineDosage" ng-disabled="viewmode" required><div ng-messages="ManageUserVaccination.vaccineDosage.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block"><label>{{'BRAND'|translate}} <span ng-if="notRequired" style="color:red">*</span></label><input type="text" name="brand" id="brand" ng-model="userVaccination.brand" ng-disabled="viewmode" ng-required="notRequired"><div ng-messages="ManageUserVaccination.brand.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 pagemultifile" style="margin-bottom:10px"><choose-file selected-file-object="vaccinationFileDetail.fileToBeUpload" selected-file-name="userVaccination.fileName" required="false" visible="viewmode" label="VACCINE_CONTAINER_SCAN"></choose-file><a href="" ng-click="viewPrintFile($event,userVaccination)" ng-show="IsVisible"><i class="fa fa-print"></i> {{'VIEW_PRINT' | translate}}</a></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" style="margin-top:15px"><md-input-container class="md-block"><label>{{'DONE_AT'|translate}}</label><input type="text" name="doneAt" id="doneAt" ng-model="userVaccination.doneAt" autocomplete="off" uib-typeahead="creatingOrgLoc as creatingOrgLoc.value for creatingOrgLoc in getCreatingOrgTreatLoc($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('userMinLength')" ng-disabled="viewmode"></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" style="margin-top:15px"><md-input-container class="md-block"><spinner name="userNameAutoCmp" img-src="{{autoCompletLoaderImg}}" show="vaccinationRouteAutoCmpLoading" is-auto-complete="true"></spinner><label>{{'ROUTE'|translate}}<span ng-if="notRequired" class="mandatoryStar">*</span></label><md-select name="vaccinationRoute" id="vaccinationRoute" ng-model="userVaccination.vaccinationRoute" ng-disabled="viewMode" ng-required="notRequired"><md-option ng-repeat="route in vaccineRouteList" ng-value="route" ng-selected="{{route.id == userVaccination.vaccinationRoute.id}}">{{route.value}}</md-option></md-select><div ng-messages="ManageUserVaccination.vaccinationRoute.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block"><spinner name="userNameAutoCmp" img-src="{{autoCompletLoaderImg}}" show="vaccinationBodySiteAutoCmpLoading" is-auto-complete="true"></spinner><label>{{'BODY_SITE'|translate}}<span ng-if="notRequired" class="mandatoryStar">*</span></label><md-select name="vaccinationBodySite" id="vaccinationBodySite" ng-model="userVaccination.vaccinationBodySite" ng-disabled="viewMode" ng-required="notRequired"><md-option ng-repeat="bodySite in bodySiteList" ng-value="bodySite" ng-selected="{{bodySite.id == userVaccination.vaccinationBodySite.id}}">{{bodySite.value}}</md-option></md-select><div ng-messages="ManageUserVaccination.vaccinationBodySite.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="day-checkbox"><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" style="padding-top:22px"><md-checkbox ng-model="userVaccination.sideEffects" ng-disabled="viewmode" aria-label="sideEffects"><label class="displayBlock">{{'SIDE_EFFECTS' | translate}}</label></md-checkbox></div></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block"><label>{{'REMARKS'|translate}}</label><textarea ng-model="userVaccination.remarks" ng-disabled="viewmode"></textarea></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block"><label>{{'FEE'|translate}} <span ng-if="notRequired" style="color:red">*</span></label><input type="text" name="fee" id="fee" ng-model="userVaccination.fee" ng-disabled="viewmode" ng-required="notRequired"><div ng-messages="ManageUserVaccination.fee.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container class="md-block"><label>{{'LINKED_TO_BILL'|translate}}</label><input type="text" ng-model="userVaccination.bill" ng-disabled="viewmode"></md-input-container></div></div><div class="col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-0 textAlign-R"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><md-button ng-if="pageState !=='view' && expressionDisabled !== true" class="md-raised md-warn" ng-disabled="!ManageUserVaccination.$valid" type="submit" ng-click="saveUserVaccination()">{{'SAVE'|translate}}</md-button><md-button ng-if="pageState !=='view' && expressionDisabled !== true" class="md-raised md-warn" ng-click="generateBill(userVaccination)">{{'BILL'|translate}}</md-button></div></div></div></form></div><view-file-pop-up visible="viewFileContent" file-resource="fileResource"><view-file-pop-up-header title="{{'VIEW_FILE_CONTENTS' | translate}}"></view-file-pop-up-header><view-file-pop-up-body></view-file-pop-up-body><view-file-pop-up-footer is-hiding-print-button="isHidingPrintButton"></view-file-pop-up-footer></view-file-pop-up><style>md-checkbox .md-container {
top: 32%;
}</style>