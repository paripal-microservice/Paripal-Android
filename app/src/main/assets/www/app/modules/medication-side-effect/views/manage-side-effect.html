<div class="pageTitle"><span>{{'SIDE_EFFECT_MANAGE'|translate}}</span><help-directive help-id="SIDE_EFFECT_MANAGE" class="divContainer"></help-directive></div><div class="stepwizard"><div class="stepwizard-row setup-panel"><div class="stepwizard-step"><a href="#step-1" type="button" class="btn btn-primary btn-circle"><i class="fa fa-tint" aria-hidden="true"></i></a></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-0 wizard"><spinner name="addOrgLocSpinner" img-src="{{pageLoaderImg}}" show="addOrgLocSpinner"></spinner><form name="medicationSideEffectForm" class="form-horizontal" autocomplete="off" novalidate><div class="col-xs-12"><h3>{{'SIDE_EFFECT_MANAGE'|translate}}</h3><div class="row"><div class="col-sm-12 col-md-6 col-lg-6" style="padding-top:16px"><md-input-container class="md-block" ng-show="!viewmode"><label>{{'USER_NAME'|translate}}<span class="mandatoryStar">*</span></label><input ng-model="user" ng-blur="validate(user,medicationSideEffectForm.userName)" name="userName" id="userName" autocomplete="off" uib-typeahead="user as user.value for user in getUserNamesForRoleHistory($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('userMinLength')" required><div ng-messages="medicationSideEffectForm.userName.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container><md-input-container class="md-block" ng-show="viewmode"><label>{{'USER NAME'|translate}}<span class="mandatoryStar">*</span></label><input ng-model="sideeffect.user.value" ng-disabled="true"></md-input-container></div><div class="col-sm-12 col-md-6 col-lg-6" style="padding-top:16px"><md-input-container class="md-block"><label>{{'SIDE_EFFFECT__ID'|translate}}</label><input type="text" ng-model="sideeffect.sideEffectRecordId" name="sideEffectRecordId" ng-disabled="true"></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-6 col-lg-6" style="padding-top:16px"><md-input-container class="md-block" ng-show="!viewmode"><spinner name="userNameAutoCmp" img-src="{{autoCompletLoaderImg}}" show="medicationLoad" is-auto-complete="true"></spinner><label>{{'SIDE_EFFECT_MEDICATION'|translate}}<span class="mandatoryStar">*</span></label><input type="text" ng-blur="validate(medication,medicationSideEffectForm.medication)" name="medication" id="medication" ng-model="medication" autocomplete="off" uib-typeahead="medication as medication.value for medication in getMedications($viewValue)" typeahead-on-select="getVariant(medication.id)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('medicationSideEffectMinLength')" required><div ng-messages="medicationSideEffectForm.medication.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container><md-input-container class="md-block" ng-show="viewmode"><label>{{'SIDE_EFFECT_MEDICATION'|translate}}<span class="mandatoryStar">*</span></label><input type="text" ng-model="sideeffect.medication.value" ng-disabled="true"></md-input-container></div><div class="col-sm-12 col-md-6 col-lg-6" style="padding-top:16px"><md-input-container class="md-block"><label>{{'SIDE_EFFECT_BRAND'|translate}}<span class="mandatoryStar">*</span></label><input type="text" name="brand" id="brand" ng-model="sideeffect.brand" ng-disabled="viewmode" required><div ng-messages="medicationSideEffectForm.brand.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-6 col-lg-6" style="padding-top:16px"><md-input-container class="md-block" ng-show="!viewmode"><spinner name="userNameAutoCmp" img-src="{{autoCompletLoaderImg}}" show="variantLoad" is-auto-complete="true"></spinner><label>{{'SIDE_EFFECT_VARIANT'|translate}}<span class="mandatoryStar">*</span></label><md-select ng-model="drugVariant"><md-option ng-repeat="drugVariant in variantList" name="drugVariant.value" id="drugVariant.value" ng-value="drugVariant" ng-selected="{{drugVariant.id == drugVariantId}}">{{drugVariant.value}}</md-option></md-select><div ng-messages="medicationSideEffectForm.drugVariant.value.$error"><div ng-message="required">{{'REQUIRED_SELECTION' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container><md-input-container class="md-block" ng-show="viewmode"><label>{{'SIDE_EFFECT_VARIANT'|translate}}<span class="mandatoryStar">*</span></label><input type="text" ng-model="sideeffect.drugVariant.value" name="drugVariant.value" id="drugVariant.value" ng-disabled="true"><div ng-messages="medicationSideEffectForm.drugVariant.value.$error"><div ng-message="required">{{'REQUIRED_SELECTION' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-6 col-lg-6" style="padding-top:16px"><md-input-container class="md-block"><spinner name="userNameAutoCmp" img-src="{{autoCompletLoaderImg}}" show="sideEffectLoad" is-auto-complete="true"></spinner><label>{{'SIDE_EFFECT_SIDE_EFFECT'|translate}}<span class="mandatoryStar">*</span></label><input type="text" name="effect" id="effect" ng-blur="validate(effect,medicationSideEffectForm.effect)" ng-model="effect" autocomplete="off" uib-typeahead="sideEffect as sideEffect.value for sideEffect in getSideEffect($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('medicationSideEffectMinLength')" ng-disabled="viewmode" required><div ng-messages="medicationSideEffectForm.effect.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block md-icon-right"><label>{{'SIDE_EFFECT_DATE'|translate}}<span class="mandatoryStar">*</span></label><input datepicker class="pointer" till-max-date="minDate" id="datepicker" name="datepicker" ng-model="sideeffect.date" ng-disabled="viewmode"><md-icon class="datepickerIcon ng-isolate-scope material-icons"></md-icon><div ng-messages="medicationSideEffectForm.datepicker.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block" layout="row"><label>{{'SIDE_EFFECT_DESCRIPTION'|translate}}<span style="color:red">*</span></label><textarea rows="1" cols="50" ng-model="sideeffect.description" ng-disabled="viewmode" name="remark" md-select-on-focus="" style="overflow-y:scroll;max-height: 150px" required></textarea><div ng-messages="medicationSideEffectForm.description.$error"><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="day-checkbox"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-checkbox ng-model="sideeffect.prescribedByCreatingOrgn" ng-disabled="viewmode" aria-label="prescribedBy"><label class="displayBlock" style="margin-top:12px">{{'SIDE_EFFECT_PRESCRIBED_BY' | translate}}</label></md-checkbox></div></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'SIDE_EFFECT_CREATED_BY'|translate}}<span class="mandatoryStar">*</span></label><input type="text" ng-blur="validate(sideeffect.creatingOrgn,medicationSideEffectForm.creatingOrgn)" name="creatingOrgn" id="creatingOrgn" ng-model="sideeffect.creatingOrgn" ng-disabled="viewmode" required autocomplete="off" uib-typeahead="orgLocationCode as orgLocationCode.value for orgLocationCode in getCreatedBy($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('orgMinLength')"><div ng-messages="medicationSideEffectForm.creatingOrgn.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div></div><div class="col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-0 textAlign-R"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><span ng-if="pageState !=='view' && expressionDisabled !== true"><md-button class="md-raised md-warn" ng-click="saveSideEffect(sideeffect,user,medication,drugVariant, effect)" ng-disabled="!medicationSideEffectForm.$valid">{{'SAVE'|translate}}</md-button></span></div></div></div></form></div>