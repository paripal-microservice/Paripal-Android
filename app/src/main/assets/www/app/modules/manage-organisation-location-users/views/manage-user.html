<help-directive help-id="MANAGE_ORGANIZATION_USER" class="divContainer"></help-directive><div class="pageTitle"><span ng-if="pageState==='edit'">{{'EDIT_ORGANIZATION_USER'|translate}}</span> <span ng-if="pageState==='view'">{{'VIEW_ORGANIZATION_USER'|translate}}</span> <span ng-if="pageState==='add'">{{'ADD_ORGANIZATION_USER'|translate}}</span></div><div class="stepwizard"><div class="stepwizard-row setup-panel"><div class="stepwizard-step"><a href="#step-1" type="button" class="btn btn-primary btn-circle"><i class="fa fa-user"></i></a></div><div class="stepwizard-step"><a href="#step-2" type="button" class="btn btn-default btn-circle"><i class="fa fa-book"></i></a></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-0 wizard" ng-class="{'posRelative':manageUserSpinner}"><spinner name="manageUserSpinner" img-src="{{pageLoaderImg}}" show="manageUserSpinner"></spinner><form name="manageOrganizationUser" ng-submit="manageOrgUser()" novalidate="novalidate" class="form-horizontal" autocomplete="off"><div class="setup-content" id="step-1"><div class="col-xs-12"><h3>{{'GEN_PROFILE'|translate}} <span class="titleNum">(1 of 2)</span></h3><div class="row"><div ng-if="pageState==='add'"><organization-location-autocomplete adhoc-url="GET_ACCESSIBLE_ORG_LOC_LIST_KEYWORD" required="true" disable="false" selected="WSOrganizationUser.orgLoc" on-select="changeOrgFun(WSOrganizationUser.orgLoc.data)" org-loc-permission="featurePrivilegeConstants.ORGANIZATION_USER_ADD"></organization-location-autocomplete><referred-component referred-data="userData" label="USER" disable="false" required="true"></referred-component></div><div ng-if="pageState==='view' || pageState==='edit'"><organization-location-autocomplete required="true" disable="true" selected="WSOrganizationUser.orgLoc"></organization-location-autocomplete><referred-component referred-data="userData" label="USER" disable="true" required="true"></referred-component></div><div class="col-sm-12 col-md-4 col-lg4" ng-if="!hideFormFields"><md-input-container><label>{{'USER_CODE'|translate}}</label><input ng-model="WSOrganizationUser.userByUserId.userCode" name="id" ng-maxlength="50" id="id" disabled="disabled"></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'FIRST_NAME' | translate}} <span class="mandatoryStar">*</span></label><input ng-model="WSOrganizationUser.userByUserId.firstName" name="firstName" ng-maxlength="50" id="firstName" ng-disabled="pageState==='view' || pageState==='edit'" required><div ng-messages="manageOrganizationUser.firstName.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-sm12 col-md-4 col-lg-4"><md-input-container><label>{{'MIDDLE_NAME' | translate}}</label><input ng-model="WSOrganizationUser.userByUserId.middleName" name="middleName" ng-maxlength="50" id="middelName" ng-disabled="pageState==='view' || pageState==='edit'"></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'LAST_NAME' | translate}} <span class="mandatoryStar">*</span></label><input ng-model="WSOrganizationUser.userByUserId.lastName" name="lastName" ng-maxlength="50" id="lastName" ng-disabled="pageState==='view' || pageState==='edit'" required><div ng-messages="manageOrganizationUser.lastName.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div></div><div class="row" ng-if="!hideFormFields"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'EMAIL'|translate}} <span class="mandatoryStar">*</span></label><input ng-model="WSOrganizationUser.officialEmailId" name="officialEmailId" ng-maxlength="50" id="officialEmailId" required ng-disabled="disabled || pageState==='view' || pageState==='edit'" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/"><div ng-messages="manageOrganizationUser.officialEmailId.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div><div ng-message="pattern">{{'WRONG_PATTERN' |translate}}</div></div></md-input-container></div><custom-number-field label-name="MOBILE_NUMBER" model-name="WSOrganizationUser.officialCellNumber" required="true" maxlength="10" minlength="1" disable="disabled || pageState==='view' || pageState==='edit'" regex="^[0-9]{10,10}$"></custom-number-field><div class="col-sm-12 col-md-4 col-lg-4" ng-if="pageState !== 'add'" style="height:35px"><md-input-container><md-radio-group ng-model="status.selected" class="radio_Check_box" layout="row"><md-radio-button ng-value="status.ACTIVE" ng-disabled="true">{{'ACTIVE' | translate}}</md-radio-button><md-radio-button ng-value="status.INACTIVE" ng-disabled="true">{{'INACTIVE' | translate}}</md-radio-button></md-radio-group></md-input-container></div></div><div class="row guardian-check"><dob-component dob="birthDate" has-guardian="guardianCheck" name-value-list="WSUserServiceOrganization" check-disabled="!(userData.id | checkNull) || (!(userData.data | checkNull) && !(userData.data.id | checkNull))"></dob-component></div><div class="row" ng-if="!hideFormFields"><valid-from-valid-till valid-from="WSOrganizationUser.validFrom" require-valid-from="true" disable-valid-from="disabled || pageState==='view' || pageState==='edit'" valid-till="WSOrganizationUser.validTill" require-valid-till="false" disable-valid-till="disabled || pageState==='view'" type="{{pageState}}"></valid-from-valid-till><div class="col-sm-12 col-md-1 col-lg-1 col-xs-12"><md-input-container><label>{{'EXTENSION'|translate}}</label><input ng-model="WSOrganizationUser.officialDirectLandlineExt" name="officialDirectLandlineExt" ng-maxlength="10" id="officialDirectLandlineExt" ng-disabled="disabled" ng-pattern="/^\d+$/"><div ng-messages="manageOrganizationUser.officialDirectLandlineExt.$error"><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div><div ng-message="pattern">{{'WRONG_PATTERN' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-3 col-lg-3 col-xs-12"><md-input-container><label>{{'DIRECT_LINE'|translate}}</label><input ng-model="WSOrganizationUser.officialDirectLandline" name="officialDirectLandline" ng-maxlength="15" id="officialDirectLandline" ng-disabled="disabled" ng-pattern="/^\d+$/"><div ng-messages="manageOrganizationUser.officialDirectLandline.$error"><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div><div ng-message="pattern">{{'WRONG_PATTERN' |translate}}</div></div></md-input-container></div></div><div class="orgImg row" ng-if="!hideFormFields"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'DESIGNATION' | translate}}</label><input ng-disabled="pageState==='view'" ng-model="designation.designationName" name="designationName" ng-maxlength="50" id="designationName"></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container><md-checkbox ng-model="signObject.whetherSignatory" aria- class="md-warn md-align-top-left" ng-disabled="pageState==='view'" ng-change="changeModuleSelection()" flex>{{'WHETHER_SIGNATORY' |translate}}</md-checkbox></md-input-container></div><div class="col-xs-8 col-sm-4 col-md-3 col-lg-3" ng-if="signObject.whetherSignatory==true"><img src="{{logoUrl}}" height="150" width="150" id="logo" class="signImage"></div><div class="col-xs-4 col-sm-2 col-md-1 col-lg-1" ng-if="signObject.whetherSignatory==true"><button type="file" ngf-select="saveFileDetailsToLocal($file, $invalidFiles)" accept="image/*" ngf-max-height="1000" ngf-max-size="1MB" class="btn btn-default btn-md blueColor imgUploadBtn"><i class="fa fa-pencil"></i></button><br><br><div style="font:smaller">{{f.name}} {{errFile.name}} {{errFile.$error}} {{errFile.$errorParam}}<br><br><span class="progress" ng-if="f.progress >= 0"><div style="width:{{f.progress}}%" ng-bind="f.progress + '%'"></div></span></div></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooterSteps"><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 padding-0"></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 padding-0 textAlign-C"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4"><button class="btn btn-default nextBtn btn-md pull-right" type="button"><span class="nextTextBtn">{{'NEXT_STEP'|translate}}</span> <i class="fa fa-angle-right"></i></button></div></div></div><div class="setup-content" id="step-2"><div class="col-xs-12"><h3>{{'DETAILED_PROFILE'|translate}} <span class="titleNum">(2 of 2)</span></h3><div class="row"><div class="col-sm-6 col-md-4 col-lg-4"><h3>{{'USER_ROLES'|translate}}</h3><br><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherDoctor" aria- class="md-warn md-align-top-left" ng-disabled1="disableDoctor" ng-change="changeModuleSelection()" flex>{{'DOCTOR' |translate}}</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherClinicalChiefDoctor" aria- class="md-warn md-align-top-left" ng-disabled1="disableDoctor" ng-change="changeModuleSelection()" flex>{{'CHIEF_CLINICAL_CONSULTANT' |translate}}</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherSupportSrvcPrfssnl" aria- class="md-warn md-align-top-left" ng-disabled1="disableSupportSrvcPrfssnl" ng-change="changeModuleSelection()" flex>{{'SUPPORT_SERVICE_PRO' |translate}}</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherOtherHealthSrvcPrfssnl" aria- class="md-warn md-align-top-left" ng-disabled1="disableOtherHealthSrvcPrfssnl" ng-change="changeModuleSelection()" flex>{{'HEALTH_SERVICE_PRO' |translate}}</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherCounselor" aria- class="md-warn md-align-top-left" ng-disabled1="disableCounselor" ng-change="changeModuleSelection()" flex>{{'COUNSELOR' |translate}}</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherLabTechnician" aria- class="md-warn md-align-top-left" ng-disabled1="disableLabTechnician" ng-change="changeModuleSelection()" flex>{{'LAB_TECHNICIAN' |translate}}</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherPharmacyUser" aria- class="md-warn md-align-top-left" ng-disabled1="disablePharmacyUser" ng-change="changeModuleSelection()" flex>{{'PHARMACIST' |translate}}</md-checkbox></md-input-container><md-input-container><span ng-if="!WSOrganizationUser.whetherCanConsultElsewhere && !WSOrganizationUser.whetherEmployee" class="mandatoryStar">*</span><md-checkbox ng-model="WSOrganizationUser.whetherEmployee" aria- class="md-warn md-align-top-left" ng-disabled1="disableEmployee" ng-change="changeModuleSelection()" flex>{{'EMPLOYEE' |translate}}</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherServiceProviderAdmin" aria- class="md-warn md-align-top-left" ng-disabled1="disableServiceProviderAdmin" ng-change="changeModuleSelection()" flex>{{'SERVICE_PROVIDER_ADMIN' |translate}}</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherDriver" aria- class="md-warn md-align-top-left" ng-disabled1="disableDriver" ng-change="changeModuleSelection()" flex>{{'DRIVER' |translate}}</md-checkbox></md-input-container></div><div class="col-sm-6 col-md-4 col-lg-4"><h3>{{'SERVICES'|translate}}</h3><br><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherAppointments" aria- class="md-warn md-align-top-left" ng-disabled="disableAppointement || pageState==='view'" flex>{{'APPOINTMENTS' |translate}}</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherOnlineAdvice" aria- class="md-warn md-align-top-left" ng-disabled="disableOnlineAdvice || pageState==='view'" flex>{{'ONLINE_ADVICE' |translate}}</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherEmergencyTransactions" aria- class="md-warn md-align-top-left" ng-disabled="disableEmergency || pageState==='view'" flex>{{'EMERGENCY' |translate}}</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherUrgentClarifications" aria- class="md-warn md-align-top-left" ng-disabled="disabledUrgentClarification || pageState==='view'" flex>{{'URGENT_CLARIFIACATIONS' |translate}}</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherHomeVisit" aria- class="md-warn md-align-top-left" ng-disabled="disableHomeVisit || pageState==='view'" flex>{{'HOME_VISITS' |translate}}</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherFrontOffice" aria- class="md-warn md-align-top-left" ng-disabled1="disableFrontOffice || pageState==='view'" flex>{{'FRONT_OFFICE' |translate}}</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherAccounts" aria- class="md-warn md-align-top-left" ng-disabled1="disableAccount || pageState==='view'" flex>{{'ACCOUNTS' |translate}}</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherTeacher" aria- class="md-warn md-align-top-left" ng-disabled1="disableAccount || pageState==='view'" flex>{{'TEACHER' |translate}}</md-checkbox></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><h3>{{'ADDITIONAL_DETAILS'|translate}}</h3><br><md-input-container class="PREFERED_CONTACT_MODE"><label class="md-required">{{'PREFERED_CONTACT_MODE'|translate}}</label><md-select ng-model="orgUserPreferedContactModes" multiple="multiple" ng-disabled="disabled" name="orgUserPreferedContactModes" ng-required="true"><md-option ng-if="mode.code!='VOICE CALL' && mode.code!='FORUM'" ng-value="mode.id" ng-repeat="mode in contactModes">{{mode.value}}</md-option></md-select><div ng-messages="manageOrganizationUser.orgUserPreferedContactModes.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container><md-input-container><span ng-if="!WSOrganizationUser.whetherCanConsultElsewhere && !WSOrganizationUser.whetherEmployee" class="mandatoryStar">*</span><md-checkbox ng-model="WSOrganizationUser.whetherCanConsultElsewhere" aria- class="md-warn md-align-top-left" ng-disabled1="disabledCanConsult" ng-change="changeModuleSelection()" flex>{{'CONSULT_ELSEWHERE' |translate}}</md-checkbox></md-input-container><md-input-container><md-checkbox ng-model="WSOrganizationUser.whetherDisplayCalendarToUser" aria- class="md-warn md-align-top-left" ng-change="changeModuleSelection()" flex>{{'DISPLAY_CALENDAR' |translate}}</md-checkbox></md-input-container></div></div></div><div class="col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooterSteps"><div class="col-xs-2 col-sm-2 col-md-2 col-lg-2"><button class="btn btn-default prevBtn btn-md pull-left" type="button"><span class="previousTextBtn">{{'PREV_STEP'|translate}}</span> <i class="fa fa-angle-left"></i></button></div><div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 padding-0 textAlign-C"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><span ng-if="pageState==='edit' || pageState==='add'"><md-button class="md-raised md-warn" type="submit" ng-disabled="(manageOrganizationUser.orgUserPreferedContactModes.$invalid) ||
                    !(WSOrganizationUser.whetherDoctor || WSOrganizationUser.whetherSupportSrvcPrfssnl || WSOrganizationUser.whetherOtherHealthSrvcPrfssnl|| WSOrganizationUser.whetherCounselor || WSOrganizationUser.whetherLabTechnician || WSOrganizationUser.whetherPharmacyUser || WSOrganizationUser.whetherEmployee || WSOrganizationUser.whetherCanConsultElsewhere || WSOrganizationUser.whetherServiceProviderAdmin || WSOrganizationUser.whetherDriver) || (!WSOrganizationUser.whetherEmployee && !WSOrganizationUser.whetherCanConsultElsewhere)">{{'SAVE'|translate}}</md-button></span></div></div></div></form></div><script src="components/js/custom/custom.js"></script>