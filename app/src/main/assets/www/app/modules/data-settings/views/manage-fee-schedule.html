<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-t-10 ng-scope"><form name="feeScheduleForm" autocomplete="off" class="form-horizontal" novalidate="novalidate" style="" ng-submit="saveFeeSchedule(feeScheduleForm)"><help-directive help-id="MANAGE_FEE_SCHEDULE" class="divContainer"></help-directive><div class="pageTitle"><span class="ng-binding ng-scope" ng-if="pageState==='add'">{{'ADD_FEE_SCHEDULE'|translate}}</span> <span class="ng-binding ng-scope" ng-if="pageState==='edit'">{{'EDIT_FEE_SCHEDULE'|translate}}</span> <span class="ng-binding ng-scope" ng-if="pageState==='view'">{{'VIEW_FEE_SCHEDULE'|translate}}</span></div><div class="row"><organization-location-autocomplete form-name="feeScheduleForm" is-id-gen-config="true" adhoc-url="GET_ACCESSIBLE_ORG_LOC_LIST_KEYWORD" required="true" selected="feeScheduleObj.orgLoc" org-loc-permission="featurePrivilegeConstants.FEE_SCHEDULE_ADD" on-blur="setOrgLocId()" disable="pageState == 'view' || pageState == 'edit'" css-class="col-sm-12 col-md-4 col-lg-4 height-52"></organization-location-autocomplete><div class="col-sm-12 col-md-4 col-lg-4" ng-if="pageState !== 'add'"><md-input-container><label>{{"FEE_TYPE"|translate}}<span class="mandatoryStar">*</span></label><input ng-model="feeScheduleObj.selectedFeeType" name="feeScheduleCode" ng-maxlength="commonConstants.textAreaLengthSmall" ng-required="true" ng-disabled="pageState == 'view' || pageState == 'edit' || !orgLocId"><div ng-messages="feeScheduleForm.feeScheduleCode.$error"><div ng-message="required">{{'REQUIRED' | translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" ng-if="pageState == 'add'"><md-input-container><label>{{"FEE_TYPE"|translate}}</label><md-select name="selectedFeeType" ng-model="feeScheduleObj.selectedFeeType" ng-change="setFeeTypeDetails(feeScheduleObj.selectedFeeType)" ng-disabled="pageState == 'view' || pageState == 'edit' || !orgLocId" required><md-option ng-repeat="feeType in feeScheduleObj.feeTypes" ng-value="feeType">{{feeType.feeTypeCode|translate}}</md-option></md-select><div ng-messages="feeScheduleForm.selectedFeeType.$error" ng-show="feeScheduleForm.$submitted"><div ng-message="required" class="my-message">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-xs-12 col-md-4 col-lg-4"><md-input-container><md-checkbox ng-model="feeScheduleObj.whetherResidual" ng-disabled="pageState == 'view' || pageState == 'edit' || feeScheduleObj.relationship == 'ADHOC'" ng-change="setPermanancy()">{{"RESIDUAL"|translate}}</md-checkbox></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{"TRANSACTION_TYPE"|translate}}</label><input ng-model="feeScheduleObj.transactionType.value" name="transactionType" ng-maxlength="commonConstants.textAreaLengthSmall" ng-disabled="true" id="transactionType"><div ng-messages="feeScheduleForm.transactionType.$error"><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{"SERVICE_GROUP"|translate}}</label><input ng-model="feeScheduleObj.serviceTypeGroupEnum" name="serviceGroup" ng-maxlength="commonConstants.textAreaLengthSmall" ng-disabled="true" id="serviceGroup"><div ng-messages="feeScheduleForm.serviceGroup.$error"><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{"SERVICE_TYPE"|translate}}</label><input ng-model="feeScheduleObj.serviceType" name="serviceType" ng-maxlength="commonConstants.textAreaLengthSmall" ng-disabled="true" id="serviceType"><div ng-messages="feeScheduleForm.serviceType.$error"><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{"FEE_SCHEDULE_CODE"|translate}}<span class="mandatoryStar">*</span></label><input ng-model="feeScheduleObj.feeScheduleCode" name="feeScheduleCode" ng-maxlength="commonConstants.textAreaLengthSmall" ng-required="true" ng-disabled="pageState == 'view' || pageState == 'edit' " id="feeScheduleCode"><div ng-messages="feeScheduleForm.feeScheduleCode.$error"><div ng-message="required">{{'REQUIRED' | translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{"FEE_SCHEDULE_NAME"|translate}}<span class="mandatoryStar">*</span></label><input ng-model="feeScheduleObj.scheduleName" name="scheduleName" ng-maxlength="commonConstants.inputTypeMaxLength150" id="scheduleName" ng-disabled="pageState == 'view'" required><div ng-messages="feeScheduleForm.scheduleName.$error" ng-show="feeScheduleForm.$submitted"><div ng-message="required" class="my-message">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{"RELATIONSHIP"|translate}}</label><md-select name="relationship" ng-model="feeScheduleObj.relationship" ng-disabled="pageState == 'view' || pageState == 'edit' || feeScheduleObj.whetherResidual" ng-change="setResidual()" required><md-option ng-repeat="relationship in relationships" ng-value="relationship">{{relationship|translate}}</md-option></md-select><div ng-messages="feeScheduleForm.relationship.$error" ng-show="feeScheduleForm.$submitted"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div></div><div class="row"><multi-select-dropdown list-value="paymentModes" label="PAYMENT_MODE" required="true" css-class="col-sm-12 col-md-4 col-lg-4 height-48" disable="pageState == 'view'" url="GET_PAYMENT_MODE" disable="pageState == 'view'"></multi-select-dropdown><custom-valid-from-valid-till valid-from="dateObj.fromDate" valid-till="dateObj.tillDate" disable-valid-from="pageState == 'view' || isValidFromDisabled" min-date-valid-from="currentDate" require-valid-from="true" disable-valid-till="pageState == 'view' || feeScheduleObj.whetherResidual || feeScheduleObj.whetherPermanent == 'true' ? true : false" require-valid-till="feeScheduleObj.whetherPermanent == 'false' ? true : false" min-date-valid-till="date = dateObj.fromDate == null ? currentDate : dateObj.fromDate"></custom-valid-from-valid-till><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" style="margin-top: 12px"><md-radio-group layout="row" ng-model="feeScheduleObj.whetherPermanent" ng-change="setDateValidation()"><md-radio-button style="margin-left:10px" value="true" ng-disabled="pageState === 'view' || pageState === 'edit' || feeScheduleObj.whetherResidual || feeScheduleObj.relationship == 'ADHOC'">{{'PERMANENT' | translate}}</md-radio-button><md-radio-button value="false" ng-disabled="pageState === 'view' || pageState === 'edit'  || feeScheduleObj.whetherResidual || feeScheduleObj.relationship == 'ADHOC'">{{'TEMPORARY' | translate}}</md-radio-button></md-radio-group></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><md-input-container><label>{{"FEE_SCHEDULE_DESCRIPTION"|translate}}</label><input ng-model="feeScheduleObj.scheduleDescription" name="scheduleDescription" ng-maxlength="commonConstants.textAreaLengthSmall" id="serviceType" ng-disabled="pageState == 'view'"><div ng-messages="feeScheduleForm.scheduleDescription.$error"><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-sm-12 col-xs-12 col-md-4 col-lg-4 padding-L" ng-if="pageState != 'add'"><md-input-container><md-checkbox ng-model="feeScheduleObj.whetherActive" ng-disabled="pageState == 'view' || pageState == 'edit'" ng-hide="pageState == 'add'">{{"ACTIVE"|translate}}</md-checkbox></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="filterPanel filter" ng-if="feeScheduleObj.relationship == 'PARAMETER' && !feeScheduleObj.whetherResidual"><uib-accordion><uib-accordion-group is-open="condition.open"><uib-accordion-heading><span>&nbsp;{{"CONDITION"|translate}}</span> <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i></uib-accordion-heading><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><md-input-container><label>{{"DESCRIPTION"|translate}}<span class="mandatoryStar">*</span></label><input type="text" ng-model="feeScheduleObj.conditionDesc" name="description" ng-disable="disable" ng-maxlength="commonConstants.textAreaLengthSmall" id="description" required><div ng-messages="feeScheduleForm.description.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div class="description-box-without-boarder"><query-builder group="feeScheduleObj.conditionUIDef.group" pre-populated-condition="true" query-meta-data="queryMetaData" mode="{{pageState}}" entity-fields="entityFields" output="feeScheduleObj.sqlQueryWhereDef" table-alias="feeScheduleObj.conditionEntityDef" disabled="pageState==='view'" require="true"></query-builder></div></uib-accordion-group></uib-accordion></div></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-b-10 textAlign-R wizardFooter"><md-button type="button" ng-click="cancel()" class="md-raised">{{"CANCEL"|translate}}</md-button><md-button type="submit" class="md-raised md-warn" ng-hide="pageState == 'view'">{{"SAVE"|translate}}</md-button></div></div></form></div>