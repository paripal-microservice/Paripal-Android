<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-t-10" ng-class="{'posRelative':manageResourceSpinner}"><form name="emergencyAutomateForm" novalidate="novalidate" autocomplete="off"><help-directive help-id="MANAGE_RESOURCE" class="divContainer"></help-directive><div class="pageTitle"><span>{{'AUTOMATE_AMBULANCE_HOSPITAL'|translate}}</span></div><div class="row"><div class="form-group col-xs-12 col-sm-12 col-md-4 col-lg-4 selectDropDown"><md-input-container><label class="md-required">{{'EMERGENCY_TYPE'|translate}}</label><md-select ng-model="wsEmergencyAutomate.emergencyType" name="emergencyType" required><md-option ng-repeat="emergencyType in emergencyTypeList" ng-value="{{emergencyType}}">{{emergencyType.value}}</md-option></md-select><div ng-messages="emergencyAutomateForm.emergencyType.$error"><div ng-message="required">{{'INPUT_REQ' |translate}}</div></div></md-input-container></div><custom-text-field label-name="NO_OF_PEOPLE_AFFECTED" model-name="wsEmergencyAutomate.noOfPeopleAffected" disable="viewMode" required="true"></custom-text-field></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label class="md-required">{{"CELL_NO"|translate}}</label><input ng-model="userInfo.requesterContact" name="requesterContact" ng-minlength="10" ng-maxlength="15" ng-blur="cellNumberChanged(userInfo.requesterContact,emergencyAutomateForm.requesterContact)" ng-required="true"><div ng-messages="emergencyAutomateForm.requesterContact.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4" ng-if="notExistingUser"><md-input-container><label class="md-required">{{"EMAIL"|translate}}</label><input ng-model="userInfo.requesterEmail" name="requesterEmail" ng-maxlength="100" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" ng-blur="emailChanged(userInfo.requesterEmail,emergencyAutomateForm.requesterEmail)" ng-required="true"><div ng-messages="emergencyAutomateForm.requesterEmail.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="form-group col-xs-12 col-sm-12 col-md-4 col-lg-4 selectDropDown" ng-if="!notExistingUser"><md-input-container><label class="md-required">{{'EMAIL'|translate}}</label><md-select ng-model="wsEmergencyAutomate.requesterEmail" name="requesterEmail" required><md-option ng-repeat="emailObject in emailObjects" ng-value="{{emailObject}}">{{emailObject.value}}</md-option></md-select><div ng-messages="emergencyAutomateForm.requesterEmail.$error"><div ng-message="required">{{'INPUT_REQ' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4" ng-if="notExistingUser"><md-input-container><label class="md-required">{{"NAME"|translate}}</label><input ng-model="userInfo.requesterName" name="requesterName" ng-required="true"><div ng-messages="emergencyAutomateForm.requesterName.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="form-group col-xs-12 col-sm-12 col-md-4 col-lg-4 selectDropDown" ng-if="!notExistingUser"><md-input-container><label class="md-required">{{'NAME'|translate}}</label><md-select ng-model="wsEmergencyAutomate.requesterName" name="requesterName" required><md-option ng-repeat="nameObject in nameObjects" ng-value="{{nameObject}}">{{nameObject.value}}</md-option></md-select><div ng-messages="emergencyAutomateForm.requesterName.$error"><div ng-message="required">{{'INPUT_REQ' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-3 col-lg-3"><md-checkbox ng-model="wsEmergencyAutomate.whetherAmbulanceNeeded"><span>{{'AMBULANCE_NEEDED'|translate}}</span></md-checkbox></div><div class="col-sm-12 col-md-3 col-lg-3"><md-checkbox ng-model="wsEmergencyAutomate.whetherToCallPolice"><span>{{'INFORM_POLICE'|translate}}</span></md-checkbox></div><div class="col-sm-12 col-md-3 col-lg-3"><md-checkbox ng-model="wsEmergencyAutomate.selfAffected"><span>{{'ARE_YOU_ALSO_AFFECTED'|translate}}</span></md-checkbox></div><div class="col-sm-12 col-md-3 col-lg-3"><md-checkbox ng-model="wsEmergencyAutomate.whetherLifeInThreat"><span>{{'LIFE_THREATENING'|translate}}</span></md-checkbox></div></div><div class="row padding-t-10"><pick-list-dropdown pick-list-value="filter.ambulanceType" ng-if="wsEmergencyAutomate.whetherAmbulanceNeeded" type="AMBULANCE_TYPE" label="AMBULANCE_TYPE" required="true"></pick-list-dropdown><div class="col-sm-12" ng-class="{'col-md-12 col-lg-12' :!wsEmergencyAutomate.whetherAmbulanceNeeded,'col-md-8 col-lg-8':wsEmergencyAutomate.whetherAmbulanceNeeded}"><custom-text-area-field label-name="EMERGENCY_LOCATION" model-name="wsEmergencyAutomate.emergencyAddress" rows="10" required="true" maxlength="300" disable="viewMode"></custom-text-area-field></div></div><div class="row padding-t-10"><div class="col-sm-12 col-md-12 col-lg-12"><spinner name="searchHospSpinner" img-src="{{pageLoaderImg}}" show="searchHospSpinner"></spinner><ng-map default-style="false" id="map" center="{{currentLocation}}" zoom="12" style="height:550px;width:100%"><marker id="id" position="{{emergencyLocation.location}}" on-click="selectAmbulance(ambulance)" ng-repeat="emergencyLocation in emergencyMap" draggable="{{emergencyLocation.isDraggable}}" on-dragend="changeLocation($event,true)" icon="{{emergencyLocation.ambulanceIcon}}"></marker><shape id="circle" name="circle" centered="false" stroke-color="#ffad33" stroke-opacity="0.7" stroke-weight="2.5" center="{{currentLocation}}" radius="{{filter.radius}}" on-dragend="changeLocation($event)" editable="false"></shape><directions draggable="true" suppress-markers="true" panel="direction" travel-mode="{{data.travelMode.value}}" origin="{{currentLocation}}" destination="{{destination}}" suppressmarkers="true"></directions></ng-map></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 textAlign-R wizardFooter"><md-button class="md-raised" ng-click="back()">{{'CANCEL'|translate}}</md-button><md-button type="submit" ng-disabled="!emergencyAutomateForm.$valid" ng-click="submitEmergencyAutomate($event)" class="md-raised md-warn">{{'SAVE' | translate}}</md-button></div></div></form></div>