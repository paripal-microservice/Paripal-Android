<div class="col-xs-12 col-sm-12" ng-if="dateError"><div class="col-md-4 col-md-offset-4 col-lg-4 col-lg-offset-4 errorListBox"><span class="errorMsg" ng-repeat="error in dateErrorList">{{$index + 1}}. {{error}}<br></span></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-t-10"><form name="addNewRolePrivilege" ng-submit="createRolePrivilege(addNewRolePrivilege)" novalidate="novalidate" class="form-horizontal" autocomplete="off"><help-directive help-id="MANAGE_ROLE_PRIVILEGE" class="divContainer"></help-directive><div class="pageTitle"><span ng-if="pageState==='add'">{{'ADD_ROLE_PRIVILEGE'|translate}}</span> <span ng-if="pageState==='edit'">{{'EDIT_ROLE_PRIVILEGE'|translate}}</span> <span ng-if="pageState==='view'">{{'VIEW_ROLE_PRIVILEGE'|translate}}</span></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label class="md-required">{{'ROLE_NAME'|translate}}</label><spinner name="roleNameAutoCmp" img-src="{{autoCompletLoaderImg}}" show="roleNameAutoCmpLoading" is-auto-complete="true"></spinner><input ng-model="object.role" name="roleName" ng-maxlength="75" id="roleName" ng-disabled="newRolePrivilege.id" autocomplete="off" uib-typeahead="role as role.roleName for role in getRoleNames($viewValue)" typeahead-min-length="getSmartSearchMinLength('userMinLength')" typeahead-editable="false" required><div ng-messages="addNewRolePrivilege.roleName.$error"><div ng-message="required">{{'ROLENAME_REQ' |translate}}</div><div ng-message="maxlength">{{'ROLENAME_MAXLENGTH_ERR' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label class="md-required">{{'FEATURE'|translate}}</label><spinner name="roleNameAutoCmp" img-src="{{autoCompletLoaderImg}}" show="featureAutoCmpLoading" is-auto-complete="true"></spinner><input ng-model="object.feature" name="featureCode" ng-maxlength="75" id="featureCode" ng-disabled="newRolePrivilege.id" autocomplete="off" uib-typeahead="feature as feature.featureCode for feature in getFeatures($viewValue)" typeahead-min-length="getSmartSearchMinLength('userMinLength')" typeahead-on-select="getPrivilegesByFeatureId(object.feature.featureId)" required><div ng-messages="addNewRolePrivilege.featureCode.$error"><div ng-message="required">{{'FEATURE_REQ' |translate}}</div><div ng-message="maxlength">{{'FEATURE_MAXLENGTH_ERR' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label class="md-required">{{'PRIVILEGE'|translate}}</label><spinner name="roleNameAutoCmp" img-src="{{autoCompletLoaderImg}}" show="privilegeAutoCmpLoading" is-auto-complete="true"></spinner><input ng-model="object.privilege" name="privilegeCode" ng-maxlength="75" ng-disabled="newRolePrivilege.id" id="privilegeCode" autocomplete="off" typeahead-min-length="getSmartSearchMinLength('privilegeMinLength')" uib-typeahead="privilege as privilege.privilegeCode for privilege in privilegeList|filter:$viewValue" required><div ng-messages="addNewRolePrivilege.privilegeCode.$error"><div ng-message="required">{{'PRIVILEGE_NAME_REQ_ERR' |translate}}</div><div ng-message="maxlength">{{'PRIVILEGE_NAME_MAXLENGTH_ERR' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label class="md-required">{{'VALID_FROM'|translate}}</label><input class="datepicker datepickerIcon pointer" datepicker placeholder="{{userDateFormat}}" restrict="reject" from-min-date="fromMinDate" ng-disabled="readOnlyFlag || newRolePrivilege.whetherSystemRole || viewModeValidFrom" ng-model="newRolePrivilege.validFrom" name="validFrom" required><md-icon class="datepickerIcon ng-isolate-scope material-icons" aria-hidden="true"></md-icon><div ng-messages="addNewRolePrivilege.validFrom.$error"><div ng-message="required">{{'VALIDFROM_REQ' |translate}}</div></div><div class="errorMsg"><span class="error" ng-show="validFromError">Valid From date cannot be less than Role Valid From :<br>({{object.role.roleValidFrom | timestampToDate}})</span> <span class="error" ng-show="selectRoleError">Select a Role first.</span></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container ng-if="!viewModeValidTill"><label>{{'VALID_TILL'|translate}}</label><input type="text" class="datepicker datepickerIcon pointer" datepicker placeholder="{{userDateFormat}}" restrict="reject" max-date="tillMaxdate" format="format" till-max-date="tillMaxDate" ng-disabled="readOnlyFlag || newRolePrivilege.whetherSystemRole || viewModeValidTill" ng-model="newRolePrivilege.validTill" name="validTill" placeholder="{{userDateFormat}}"><md-icon class="datepickerIcon ng-isolate-scope material-icons" aria-hidden="true"></md-icon><div class="errorMsg"><span class="error" ng-show="validTillError">Valid Till date cannot be greater than Role Valid Till :<br>({{object.role.roleValidTill | timestampToDate}})</span> <span class="error" ng-show="selectRoleError">Select a Role first.</span></div></md-input-container><md-input-container ng-if="viewModeValidTill"><label>{{'VALID_TILL'|translate}}</label><input type="text" class="datepicker datepickerIcon pointer" ng-disabled="readOnlyFlag || newRolePrivilege.whetherSystemRole || viewModeValidTill" ng-model="newRolePrivilege.validTill" name="validTill"><md-icon class="datepickerIcon ng-isolate-scope material-icons" aria-hidden="true"></md-icon></md-input-container></div><div ng-show="newRolePrivilege.id" class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'LAST_CHANGED_ON'|translate}}</label><input class="datepicker datepickerIcon pointer" ng-model="newRolePrivilege.lastUpdatedDate" date-format="format" min-date="tempDate" max-date="tillMaxdate" name="lastChangedOn" disabled="disabled"><md-icon class="datepickerIcon ng-isolate-scope material-icons" aria-hidden="true"></md-icon></md-input-container></div></div><div class="row"><div ng-show="newRolePrivilege.id" class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'CHANGED_BY'|translate}}</label><input ng-model="newRolePrivilege.lastUpdatedBy.value" disabled="disabled"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="textAlign-R"><md-button class="md-raised" ng-click="back()">{{'CANCEL'|translate}}</md-button><md-button type="submit" class="md-raised md-warn" ng-disabled="newRolePrivilege.whetherSystemRole || object.role.whetherSystemRole" ng-if="pageState != 'edit' && !newRolePrivilege.id">{{'SAVE' | translate}}</md-button><md-button type="submit" class="md-raised md-warn" ng-disabled="newRolePrivilege.whetherSystemRole || object.role.whetherSystemRole" ng-if="pageState == 'edit'">{{'UPDATE' | translate}}</md-button></div></div></div></form></div>