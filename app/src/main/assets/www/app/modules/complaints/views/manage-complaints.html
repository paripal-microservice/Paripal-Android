<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-t-10 wizard" ng-class="{'posRelative':complaintFormSpinner}"><spinner name="complaintFormSpinner" img-src="{{pageLoaderImg}}" show="complaintFormSpinner"></spinner><form name="complaintForm" ng-submit="saveRaiseComplaints(complaintForm)" class="form-horizontal" autocomplete="off" novalidate="novalidate"><help-directive help-id="MANAGE_COMPLAINT" class="divContainer"></help-directive><div class="pageTitle"><span ng-if="pageState==='add'">{{'RAISE_COMPLAINT'|translate}}</span> <span ng-if="pageState==='edit'">{{'EDIT_COMPLAINT'|translate}}</span> <span ng-if="pageState==='view'">{{'VIEW_COMPLAINT'|translate}}</span></div><div class="setup-content" id="step-1"><div class="row"><ws-name-value-combo disable="pageState==='edit' || pageState==='view'" min-length="getSmartSearchMinLength('complaintMinLength')" org-loc-permission="orgLocPermission" label-name="COMPLAINT_CODE" required="true" name-value-list="searchCriteria.complaintCode" method="POST" query-search-key="searchString" query-url="complaintCode.queryUrl" query-parameter="complaintCode.queryParameter" json-parameter="complaintCode.jsonParameter"></ws-name-value-combo><custom-text-field ng-hide="true" label-name="COMPLAINT_CODE" model-name="WSComplaint.complaintCode" disable="true" required="true" maxlength="20"></custom-text-field><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'DATE'|translate}}<span class="mandatoryStar">*</span></label><input datepicker class="pointer" ng-model="WSComplaint.dateRegistered" name="dateRegistered" ng-required="true" ng-disabled="true"><md-icon class="datepickerIcon"></md-icon><div ng-messages="complaintForm.dateRegistered.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><ws-name-value-combo min-length="getSmartSearchMinLength('orgLocMinLength')" org-loc-permission="orgLocPermission" label-name="ORG_LOCATION" query-param="true" required="true" disable="true" name-value-list="WSComplaint.orgLocation" query-search-key="keyWord" query-url="orgLocation.queryUrl" query-parameter="orgLocation.queryParameter" json-parameter="orgLocation.jsonParameter"></ws-name-value-combo></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{ "REGISTERED_BY" |translate}}<span class="mandatoryStar">*</span></label><input name="registeredBy" ng-maxlength="50" ng-model="WSComplaint.registeredBy" autocomplete="off" uib-typeahead="registeredBy.value for registeredBy in getRegisteredByList($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('userMinLength')" typeahead-on-select="selectRegisteredByChanged($item, $model, $label)" ng-required="true" ng-disabled="isRegisteredByDisabled || !isOrgLocExist"><div ng-messages="complaintForm.registeredBy.$error"><div ng-message="required">{{'REQUIRED_SELECTION' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{ "COMPLAINT_FOR" |translate}}<span class="mandatoryStar">*</span></label><input name="registeredOnBehalfOf" ng-maxlength="50" ng-model="WSComplaint.registeredOnBehalfOf" autocomplete="off" uib-typeahead="registeredOnBehalfOf.value for registeredOnBehalfOf in getRegisteredOnBehalfOfList($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('userMinLength')" typeahead-on-select="selectRegisteredOnBehalfOfChanged($item, $model, $label)" ng-required="true" ng-disabled="isRegisteredOnBehalfDisabled || !isOrgLocExist"><div ng-messages="complaintForm.registeredOnBehalfOf.$error"><div ng-message="required">{{'REQUIRED_SELECTION' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><ws-name-value-combo min-length="getSmartSearchMinLength('userMinLength')" org-loc-permission="orgLocPermission" query-param="true" label-name="ASSIGNED_TO" disable="isAssignedToDisabled || !isOrgLocExist" required="false" name-value-list="WSComplaint.currentlyAssignedTo" query-search-key="searchString" query-url="currentlyAssignedTo.queryUrl" query-parameter="currentlyAssignedTo.queryParameter" json-parameter="currentlyAssignedTo.jsonParameter"></ws-name-value-combo></div><div class="row"><ws-client-search-combo min-length="getSmartSearchMinLength('complaintMinLength')" org-loc-permission="orgLocPermission" label-name="COMPLAINT_TYPE" query-param="true" required="true" disable="isComplaintTypeDisabled || !isOrgLocExist" name-value-list="WSComplaint.complaintType" query-search-key="searchString" query-url="complaintType.queryUrl" query-parameter="complaintType.queryParameter" json-parameter="complaintType.jsonParameter"></ws-client-search-combo><service-group-type-combo group-label-name="SERVICE_GROUP" type-label-name="SERVICE_TYPE" org-loc-id="orgLocId" disable="isServiceTypeDisabled || !isOrgLocExist" required="true" service-group="WSComplaint.serviceTypeGroup" service-type="WSComplaint.serviceType" page-state="pageState"></service-group-type-combo></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label class="md-required">{{'USER_STATUS'|translate}}</label><md-select ng-model="WSComplaint.userStatus" name="userStatus" ng-required="true" ng-change="onUserStatusChange()" ng-disabled="isUserStatusDisabled" data-md-container-class="selectdemoSelectHeader"><md-option ng-value="status" ng-repeat="status in userStatusList" ng-selected="status.id == userStatusDisplayId ? true:false">{{status.value}}</md-option></md-select><div ng-messages="complaintForm.userStatus.$error"><div ng-message="required">{{'REQUIRED_SELECTION' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label class="md-required">{{'SYSTEM_STATUS'|translate}}</label><md-select ng-model="WSComplaint.systemStatus" name="systemStatus" ng-required="true" ng-disabled="isSystemStatusDisabled" data-md-container-class="selectdemoSelectHeader"><md-option ng-value="status" ng-repeat="status in systemStatusList" ng-selected="status.id == systemStatusDisplayId ? true:false">{{status.value}}</md-option></md-select><div ng-messages="complaintForm.systemStatus.$error"><div ng-message="required">{{'REQUIRED_SELECTION' |translate}}</div></div></md-input-container></div><custom-text-field label-name="COMPLAINT_REF" model-name="WSComplaint.complaintRef" disable="true" required="true" maxlength="20"></custom-text-field></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><custom-text-area-field label-name="ADDRESS" model-name="WSComplaint.addressOfComplainant" rows="2" required="true" maxlength="250" disable="isAddressDisabled"></custom-text-area-field></div></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><custom-text-area-field label-name="DESCRIPTION" model-name="WSComplaint.complaintDescription" rows="10" required="true" maxlength="5000" disable="isDescriptionFieldDisabled"></custom-text-area-field></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4" ng-if="isReopenedStatus"><md-input-container><label>{{'REOPENED_ON'|translate}}<span class="mandatoryStar">*</span></label><input datepicker class="pointer" ng-model="WSComplaint.reopenedDate" name="reopenedDate" ng-required="false" ng-disabled="true"><md-icon class="datepickerIcon"></md-icon><div ng-messages="complaintForm.reopenedDate.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><ws-name-value-combo min-length="getSmartSearchMinLength('userMinLength')" org-loc-permission="orgLocPermission" label-name="ENTERED_BY" query-param="true" disable="true" required="false" name-value-list="WSComplaint.recordedBy" query-search-key="searchString" query-url="recordedBy.queryUrl" query-parameter="recordedBy.queryParameter" json-parameter="recordedBy.jsonParameter"></ws-name-value-combo></div></div><div class="pageTitle"><span ng-if="isShowClosureDetails">{{'CLOSURE_DETAILS'|translate}}</span></div><div class="setup-content" id="step-2"><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container ng-if="isShowClosureDetails"><label>{{'CLOSED_ON'|translate}}<span class="mandatoryStar">*</span></label><input datepicker class="pointer" ng-model="WSComplaint.closedDate" name="closedDate" ng-required="true" ng-disabled="true"><md-icon class="datepickerIcon"></md-icon><div ng-messages="complaintForm.closedDate.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><ws-name-value-combo min-length="getSmartSearchMinLength('closureReasonMinLength')" ng-if="isShowClosureDetails" label-name="CLOSURE_REASON" disable="true" required="true" name-value-list="WSComplaint.closureReason" query-search-key="searchString" query-url="closureReason.queryUrl" query-parameter="closureReason.queryParameter" json-parameter="closureReason.jsonParameter"></ws-name-value-combo></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><custom-text-area-field ng-if="isShowClosureDetails" label-name="CLOSURE_REMARKS" model-name="WSComplaint.closureRemarks" rows="10" required="false" maxlength="5000" disable="true"></custom-text-area-field></div></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 padding-0"><md-button class="md-raised md-warn" type="button" ng-if="isShowReOpenButton" ng-click="reOpenComplaintRequest($event,complaintForm)">{{'REOPEN'|translate}}</md-button></div><div class="textAlign-R"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><md-button class="md-raised md-warn" ng-disabled="isSubmitDisabled" ng-hide="pageState==='view'" type="submit">{{'SAVE'|translate}}</md-button></div></div></div></form></div>