<div class="pageTitle"><span ng-hide="showEmegerncyLocationBtn">{{'SEARCH_HOSPITALS' | translate}}</span> <span ng-show="showEmegerncyLocationBtn">{{'SELECT_LOCATION' | translate}}</span><help-directive help-id="SEARCH_HOSPITAL" class="divContainer"></help-directive></div><div class="margin-b-8 layout-align-center"><span class="errorMsg font-size-13">{{mapErrorMessage}}</span></div><div class="filterPanel filter"><uib-accordion><uib-accordion-group is-open="status.open"><uib-accordion-heading><i class="fa fa-filter"></i> <span>&nbsp;{{'FILTER' | translate}}</span> <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i></uib-accordion-heading><form name="listForm" class="form-horizontal panel-body-top" id="form1" runat="server" autocomplete="off" novalidate="novalidate"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="row"><ws-name-value-editable label-name="CITY" disable="false" required="false" editable="false" name-value-list="filter.city" query-search-key="cityName" query-url="city.queryUrl" query-parameter="city.queryParameter" json-parameter="city.jsonParameter"></ws-name-value-editable><custom-number-field label-name="PINCODE" model-name="filter.postalCode" regex="^[0-9]{1,10}$" maxlength="10"></custom-number-field><custom-text-field label-name="LANDMARK" model-name="filter.landmark" disable="false" required="false" maxlength="20"></custom-text-field></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 padding-0 textAlign-R wizardFooter"><md-button type="button" ng-click="cancel()" class="md-raised" ng-if="showCancelBtn">{{"CANCEL"|translate}}</md-button><md-button ng-click="clear()" class="md-raised">{{"RESET"|translate}}</md-button><md-button type="button" class="md-raised md-warn" ng-click="applyFilter()">{{"APPLY"|translate}}</md-button></div></div></div></form></uib-accordion-group></uib-accordion></div><br><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-0"><ws-name-value-combo min-length="uiSideMinLength" on-select="changeRadius()" css-class="col-sm-12 col-md-4 col-lg-4" label-name="TREATMENT_TYPE" required="false" disable="isTreatmentTypeDisable" name-value-list="filter.treatmentType" query-search-key="searchString" query-url="treatment.queryUrl" query-parameter="treatment.queryParameter" json-parameter="treatment.jsonParameter"></ws-name-value-combo><div class="col-sm-12 col-md-8 col-lg-8"><div class="col-sm-12 col-md-9 col-lg-9 padding-0"><md-slider-container flex><md-slider id="radius-slider" flex md-discrete ng-model="filter.slider" min="{{commonConstants.minMapRadius}}" max="{{commonConstants.maxMapRadius}}" step="{{commonConstants.radiusStep}}" ng-change="changeRadius()" aria-label="bass" class="md-warn"></md-slider></md-slider-container></div><div class="col-sm-12 col-md-3 col-lg-3"><div class="pull-left" style="padding: 14px 0"><b>{{'RADIUS' | translate}}</b> :</div><div class="pull-left" style="width: 50px !important"><md-input-container style="width: 50px !important"><input flex="" type="number" ng-model="filter.slider" aria-controls="radius-slider" ng-change="changeRadius()"></md-input-container></div><div class="pull-left" style="padding: 14px 0">({{'KM' | translate}})</div></div></div></div><div class="padding-t-10 fullWidth"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><spinner name="searchHospSpinner" img-src="{{pageLoaderImg}}" show="searchHospSpinner"></spinner><ng-map default-style="false" id="map" center="{{currentLocation}}" zoom="12" style="height:550px;width:100%"><marker ng-repeat="hospital in hospitalList" id="id_{{hospital.organizationLocationAddressId}}" position="{{hospital.addressLattitudes}},{{hospital.addressLongitudes}}" on-click="selectHospital(hospital)" on-mouseover="showDetails(hospital)" on-mouseout="hideDetail()" draggable="{{(hospital.organizationLocationAddressId == 0)}}" on-dragend="changeLocation($event,true)" icon="{{hospital.organizationLocationId ==  selectedId?iconsList.SELECTED_ICONS[hospital.organizationTypeIconsEnum]:iconsList.ICONS[hospital.organizationTypeIconsEnum]}}"></marker><shape id="circle" name="circle" centered="false" stroke-color="#ffad33" stroke-opacity="0.7" stroke-weight="2.5" center="{{currentLocation}}" radius="{{filter.radius}}" on-dragend="changeLocation($event,true)" editable="false"></shape><info-window id="foo-iw"><div ng-non-bindable=""><b ng-if="address.organizationLocationName" class="organizationLocationName">{{address.organizationLocationName}}</b><br><br><h5 style="margin-bottom:1px" ng-if="address.organizationLocationId !== 0"><span ng-if="address.addressLine1">{{address.addressLine1}},</span><br><span ng-if="address.cityName">{{address.cityName}} - </span><span ng-if="address.postalCode">{{address.postalCode}}</span></h5><div ng-if="address.organizationLocationId !== 0"><br><b><i class="fa fa-star"></i> {{'RATING' | translate}}</b> : <span class="star-rating" star-rating rating-value="address.ratings" data-max="5" readonly="true"></span></div><span style="padding-left:20px" ng-if="showEmegerncyLocationBtn && (address.organizationLocationId == 0)"><button ng-click="confirmEmergencyLocation(userLocation)" class="btn btn-primary">{{'CONFIRM' | translate}}</button></span></div></info-window><info-window id="bar"><div ng-non-bindable=""><b ng-if="selectedHospital.organizationLocationName" class="organizationLocationName">{{selectedHospital.organizationLocationName}}</b><br><br><h5><span ng-if="selectedHospital.addressLine1">{{selectedHospital.addressLine1}},</span><br><span ng-if="selectedHospital.cityName">{{selectedHospital.cityName}} - </span><span ng-if="selectedHospital.postalCode">{{selectedHospital.postalCode}}</span></h5><br><b><i class="fa fa-star"></i> {{'RATING' | translate}}</b> : <span class="star-rating" star-rating rating-value="address.ratings" data-max="5" readonly="true"></span><br><br><div><i class="fa fa-road"></i> <b>{{'DISTANCE' | translate}}</b> : {{map.directionsRenderers[0].directions.routes[0].legs[0].distance.text}}<br><br><i class="fa fa-clock-o"></i> <b>{{'DURATION' | translate}}</b> : {{'ABOUT' | translate}} {{map.directionsRenderers[0].directions.routes[0].legs[0].duration.text}}</div><br><i class="fa fa-car"></i> <b>{{'MODE_OF_TRAVEL' | translate}}:</b><select ng-options="mode.text for mode in data.modes track by mode.value" ng-model="data.travelMode"></select><br><br><md-button type="button" ng-click="unconfirm()" class="md-raised">{{"DESELECT"|translate}}</md-button>&nbsp;<md-button type="button" class="md-raised md-warn" ng-click="confirmSelection($event, selectedHospital, userLocation)">{{"CONFIRM"|translate}}</md-button></div></info-window><directions draggable="true" suppress-markers="true" panel="direction" travel-mode="{{data.travelMode.value}}" origin="{{currentLocation}}" destination="{{destination}}" suppressmarkers="true"></directions></ng-map></div></div>