<div class="col-xs-12 col-sm-12" ng-if="dateError"><div class="col-md-4 col-md-offset-4 col-lg-4 col-lg-offset-4 errorListBox"><span class="errorMsg" ng-repeat="error in dateErrorList">{{$index + 1}}. {{error.key}}<br></span></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-t-10"><form name="manageTestCommentForm" ng-submit="addTestComment(manageTestCommentForm)" novalidate="novalidate" class="form-horizontal" autocomplete="off"><help-directive help-id="MANAGE_TEST_COMMENT" class="divContainer"></help-directive><div class="pageTitle"><span ng-if="pageState==='add' || pageState===undefined">{{'ADD_TEST_COMMENT'|translate}}</span> <span ng-if="pageState==='edit'">{{'EDIT_TEST_COMMENT'|translate}}</span> <span ng-if="pageState==='view'">{{'VIEW_TEST_COMMENT'|translate}}</span></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><spinner name="testInstanceAutoCmp" img-src="{{autoCompletLoaderImg}}" show="testInstanceAutoCmp" is-auto-complete="true"></spinner><label name="testInstance">{{'TEST_INSTANCE_ID' | translate}} <span class="mandatoryStar">*</span></label><input ng-model="testCommentObj.testInstance" name="testInstance" ng-maxlength="75" id="testInstance" autocomplete="off" uib-typeahead="userObj as userObj.displayName for userObj in findUserByName($viewValue)" typeahead-editable="commonConstants.typeaheadEditable" typeahead-min-length="getSmartSearchMinLength('defaultMinLength')" ng-disabled="pageState === 'view' || pageState === 'edit'" required><div ng-messages="manageTestCommentForm.testInstance.$error" ng-show="manageTestCommentForm.$submitted"><div ng-message="required">{{'REQ' |translate}}</div><div ng-message="maxlength">{{'MAXLENGTH_ERR' | translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><spinner name="measurementInsatanceAutoCmp" img-src="{{autoCompletLoaderImg}}" show="measurementInsatanceAutoCmp" is-auto-complete="true"></spinner><label name="symptom">{{'MEASUREMENT_INSTANCE_ID' | translate}} <span class="mandatoryStar">*</span></label><input ng-model="testCommentObj.measurementInsatance" name="measurementInsatance" ng-maxlength="75" id="measurementInsatance" autocomplete="off" uib-typeahead="userObj as userObj.displayName for userObj in findUserByName($viewValue)" typeahead-editable="commonConstants.typeaheadEditable" typeahead-min-length="getSmartSearchMinLength('indicatorNameMinLength')" ng-disabled="pageState === 'view' || pageState === 'edit'" required><div ng-messages="manageTestCommentForm.measurementInsatance.$error" ng-show="manageTestCommentForm.$submitted"><div ng-message="required">{{'REQ' |translate}}</div><div ng-message="maxlength">{{'MAXLENGTH_ERR' | translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'DATE'|translate}}<span class="mandatoryStar">*</span></label><input datepicker class="pointer" ng-model="testCommentObj.date" restrict="reject" required name="date" till-max-date="maxDate"><md-icon class="datepickerIcon"></md-icon><div ng-messages="manageTestCommentForm.commencementDate.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><spinner name="userNameAutoCmp" img-src="{{autoCompletLoaderImg}}" show="userNameAutoCmp" is-auto-complete="true"></spinner><md-input-container><label>{{'USER_NAME'|translate}} <span class="mandatoryStar">*</span></label><input ng-model="testCommentObj.userObj" name="userName" ng-maxlength="100" id="userObj" autocomplete="off" uib-typeahead="userObj as userObj.displayName for userObj in findUserByName($viewValue)" typeahead-editable="commonConstants.typeaheadEditable" typeahead-min-length="getSmartSearchMinLength('userMinLength')" required><div ng-messages="manageTestCommentForm.userName.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' | translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><spinner name="healthProfessionalAutoCmp" img-src="{{autoCompletLoaderImg}}" show="healthProfessionalAutoCmp" is-auto-complete="true"></spinner><label name="symptom">{{'HEALTH_PROFESSIONAL' | translate}} <span class="mandatoryStar">*</span></label><input ng-model="testCommentObj.healthProfessional" name="healthProfessional" ng-maxlength="75" id="Symptom" autocomplete="off" uib-typeahead="userObj as userObj.displayName for userObj in findUserByName($viewValue)" typeahead-editable="commonConstants.typeaheadEditable" typeahead-min-length="getSmartSearchMinLength('userMinLength')" ng-disabled="pageState === 'view' || pageState === 'edit'" required><div ng-messages="manageTestCommentForm.healthProfessional.$error" ng-show="manageTestCommentForm.$submitted"><div ng-message="required">{{'REQ' |translate}}</div><div ng-message="maxlength">{{'MAXLENGTH_ERR' | translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label class="md-required">{{ 'COMMENT_ABOUT' |translate}}</label><md-select ng-model="testCommentObj.commentAbout" name="commentAbout" ng-change="selectChanged()" ng-required="requiredValue"><md-option ng-repeat="data in dataList" value="{{data.value}}">{{data.value}}</md-option></md-select><div class="md-errors-spacer"></div><div ng-messages="manageTestCommentForm.commentAbout.$error "><div ng-message="required ">{{'REQUIRED_SELECTION' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><md-input-container><label>{{'COMMENT_ON'|translate}}</label><textarea row="3 " cols="12" ng-model="testCommentObj.commentOn" name="commentOn" ng-maxlength="commonConstants.textFieldLengthMedium" ng-disabled="pageState==='view'"></textarea></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><md-input-container><label>{{'PROFESSIONALS_COMMENTS'|translate}}</label><textarea row="3" cols="12" ng-model="testCommentObj.professionalsComments" maxlength="commonConstants.textAreaLengthMedium" name="professionalsComments" ng-disabled="pageState==='view'"></textarea><div ng-messages="manageTestCommentForm.professionalsComments.$error" ng-show="manageTestCommentForm.$submitted"><div ng-message="maxlength">{{'MAXLENGTH_ERR' | translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><md-input-container><label>{{'PATIENTS_COMMENTS'|translate}}</label><textarea row="3" cols="12" ng-model="testCommentObj.patientComment" name="patientComment" maxlength="commonConstants.textAreaLengthMedium" ng-disabled="pageState==='view' "></textarea><div ng-messages="manageTestCommentForm.patientComment.$error" ng-show="manageTestCommentForm.$submitted"><div ng-message="maxlength">{{'MAXLENGTH_ERR' | translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="textAlign-R"><md-button class="md-raised" ng-click="back() ">{{'CANCEL'|translate}}</md-button><md-button type="submit " class="md-raised md-warn" ng-hide="pageState=='view' ">{{'SAVE' | translate}}</md-button></div></div></div></form></div>