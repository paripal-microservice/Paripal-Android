<md-dialog aria-label="Add test disease link" ng-cloak><form name="addTestDiseaseLink" ng-submit="createTestDiseaseLink(addTestDiseaseLinkObj, addTestDiseaseLink)" novalidate autocomplete="off"><md-toolbar><div class="md-toolbar-tools"><h2><span ng-if="pageState==='add'">{{'ADD_TEST_DISEASE'|translate}}</span></h2><h2><span ng-if="pageState==='edit'">{{'EDIT_TEST_DISEASE'|translate}}</span></h2><h2><span ng-if="pageState==='view'">{{'VIEW_TEST_DISEASE'|translate}}</span></h2><span flex></span><md-button class="md-icon-button" ng-click="cancel()"><i class="fa fa-times" aria-hidden="true"></i></md-button></div></md-toolbar><div class="padding-b-10"><md-dialog-content><div class="md-dialog-content"><md-input-container><spinner name="diagnosticNameAutoCmp" img-src="{{autoCompletLoaderImg}}" show="diagnosticNameAutoCmp" is-auto-complete="true"></spinner><label>{{'DIAGNOSTIC_TEST'| translate }} <span class="mandatoryStar">*</span></label><input ng-model="addTestDiseaseLinkObj.diagnosticTest" name="diagnosticTestNameObj" ng-maxlength="100" id="DiagnosticTestNameObj" autocomplete="off" uib-typeahead="diagnosticTestNameObj as diagnosticTestNameObj.value for diagnosticTestNameObj in getDiagnosticTestName($viewValue, true)" typeahead-min-length="getSmartSearchMinLength('diagnosticTestMinLength')" ng-disabled="pageState === 'view' || pageState === 'edit'" typeahead-editable="commonConstants.typeaheadEditable" required><div ng-messages="addTestDiseaseLink.diagnosticTestNameObj.$error"><div ng-message="required">{{'REQUIRED' | translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' | translate}}</div></div></md-input-container><md-input-container><spinner name="diseaseVariantAutoCmp" img-src="{{autoCompletLoaderImg}}" show="diseaseVariantAutoCmp" is-auto-complete="true"></spinner><label>{{'DISEASE_VARIANT'| translate }} <span class="mandatoryStar">*</span></label><input ng-model="addTestDiseaseLinkObj.diseaseVariant" name="diseaseVariant" autocomplete="off" uib-typeahead="diseaseObj as diseaseObj.value for diseaseObj in findDiseaseByName($viewValue, addTestDiseaseLinkObj.diagnosticTest.id)" typeahead-editable="commonConstants.typeaheadEditable" typeahead-min-length="getSmartSearchMinLength('diseaseVariantMinLength')" ng-disabled="pageState === 'view' || pageState === 'edit' || !addTestDiseaseLinkObj.diagnosticTest" required><div ng-messages="addTestDiseaseLink.diseaseVariant.$error"><div ng-message="required">{{'REQUIRED' | translate}}</div></div></md-input-container><md-input-container><label>{{'PRECONDITION'|translate}}</label><input ng-model="addTestDiseaseLinkObj.diseaseSpecificPrecondition" name="diseaseSpecificPrecondition" ng-maxlength="commonConstants.textAreaLengthMedium" id="diseaseSpecificPrecondition" ng-disabled="pageState === 'view'"><div ng-messages="addTestDiseaseLink.diseaseSpecificPrecondition.$error"><div ng-message="maxlength">{{'MAX_LENGTH' | translate}}</div></div></md-input-container><md-input-container><label>{{'REMARKS'|translate}}</label><input ng-model="addTestDiseaseLinkObj.measurementRelatedRemarks" name="measurementRelatedRemarks" ng-maxlength="commonConstants.textAreaLengthMedium" id="measurementRelatedRemarks" ng-disabled="pageState === 'view'"><div ng-messages="addTestDiseaseLink.measurementRelatedRemarks.$error"><div ng-message="maxlength">{{'MAX_LENGTH' | translate}}</div></div></md-input-container><div class="row width100"><pick-list-dropdown pick-list-value="addTestDiseaseLinkObj.relationship" type="TEST_DISEASE_RELATION" disable="pageState === 'view'" label="SELECT_RELATIONSHIP" required="true"></pick-list-dropdown></div></div></md-dialog-content></div><div class="col-xs-12 padding-b-10"><div class="pull-right"><button class="md-raised md-button md-ink-ripple" type="button" ng-click="cancel()" aria-label="Cancel"><span class="ng-binding ng-scope"><span class="ng-binding ng-scope">{{'CANCEL'|translate}}</span></span></button> <button class="md-warn md-raised md-button md-ink-ripple" type="submit" ng-disabled="isRequestSent" aria-label="Save"><span class="ng-binding ng-scope">{{'SAVE'|translate}}</span></button></div></div></form></md-dialog>