<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-t-10 ng-scope"><form name="manageBillSettlementForm" class="form-horizontal panel-body-top" id="form1" runat="server" autocomplete="off" novalidate="novalidate"><help-directive help-id="MANAGE_BILL_SETTLEMENT" class="divContainer"></help-directive><div class="pageTitle"><span ng-if="pageState==='add'">{{'ADD_BILL_SETTLEMENT'|translate}}</span> <span ng-if="pageState==='edit'">{{'EDIT_BILL_SETTLEMENT'|translate}}</span> <span ng-if="pageState==='view'">{{'VIEW_BILL_SETTLEMENT'|translate}}</span></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container class=""><label>{{'BILL_ID'|translate}}<span class="mandatoryStar">*</span></label><input ng-disabled="true" ng-model="WSBillAdjustment.serviceProviderReferenceNo" name="receiptId" ng-maxlength="50" id="receiptId" ng-required="true"><div ng-messages="manageBillSettlementForm.billId.$error" class="md-input-messages-animation ng-active ng-hide" aria-live="assertive" aria-hidden="true"><div ng-message="required" class="md-input-message-animation ng-binding ng-scope">{{'REQUIRED' |translate}}</div></div><div class="md-errors-spacer"></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'DATE'|translate}}<span class="mandatoryStar">*</span></label><input datepicker class="pointer" ng-model="WSBillAdjustment.adjustmentDate" name="billDate" till-max-date="maxDate" restrict="reject" required ng-disabled="true"><md-icon class="datepickerIcon"></md-icon><div ng-messages="manageBillSettlementForm.billDate.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="tillMaxDate">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container class=""><label>{{'TYPE'|translate}}<span class="mandatoryStar">*</span></label><input ng-disabled="true" ng-model="WSBillAdjustment.typeCode" name="type" ng-maxlength="50" id="type" ng-required="true"><div ng-messages="manageBillSettlementForm.type.$error" class="md-input-messages-animation ng-active ng-hide" aria-live="assertive" aria-hidden="true"><div ng-message="required" class="md-input-message-animation ng-binding ng-scope">{{'REQUIRED' |translate}}</div></div><div class="md-errors-spacer"></div></md-input-container></div></div><div class="row"><custom-text-field label-name="RAISED_ON" model-name="WSBillAdjustment.raisedOnName" required="true" disable="true" maxlength="100"></custom-text-field><custom-text-field label-name="IN_FAVOR_OF" model-name="WSBillAdjustment.inFavorOfName" required="true" disable="true" maxlength="100"></custom-text-field><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container class=""><label>{{'BALANCE_AMOUNT'|translate}}<span class="mandatoryStar">*</span></label><input ng-disabled="true" ng-model="WSBillAdjustment.sourceBalanceAmount" name="balanceAmount" ng-maxlength="50" id="balanceAmount" ng-required="true"><div ng-messages="manageBillSettlementForm.balanceAmount.$error" class="md-input-messages-animation ng-active ng-hide" aria-live="assertive" aria-hidden="true"><div ng-message="required" class="md-input-message-animation ng-binding ng-scope">{{'REQUIRED' |translate}}</div></div><div class="md-errors-spacer"></div></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{ 'ADJUSTMENT_DOCUMENT_TYPE' |translate}}<span ng-if="true" class="mandatoryStar">*</span></label><input name="documentType" ng-maxlength="50" ng-model="WSBillAdjustment.adjustmentDocumentType" autocomplete="off" uib-typeahead="documentType.targetType for documentType in adjustmentDocumentTypeQuerySearch($viewValue)" ng-blur="validateAdjusmentDocumentType(WSBillAdjustment.adjustmentDocumentType.targetType)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('documentTypeMinLength')" typeahead-on-select="selectAdjustmentDocTypeChanged($item, $model, $label)" ng-required="true" ng-disabled="disabledFormFields || pageState!='add'"><div ng-messages="manageBillSettlementForm.documentType.$error"><div ng-message="required">{{'REQUIRED_SELECTION' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{ 'ADJUSTMENT_DOCUMENT_ID' |translate}}<span ng-if="true" class="mandatoryStar">*</span></label><input name="documentCode" ng-maxlength="50" id="documentCode" ng-model="WSBillAdjustment.targetAdjustmentDocumentCode" autocomplete="off" uib-typeahead="documentCode.serviceProviderReferenceNo for documentCode in adjusmentDocumentCodeQuerySearch($viewValue)" ng-blur="validateAdjusmentDocumentCode(WSBillAdjustment.targetAdjustmentDocumentCode.serviceProviderReferenceNo)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('documentIdMinLength')" typeahead-on-select="selectAdjustmentDocCodeChanged($item, $model, $label)" ng-required="true" ng-disabled="disabledFormFields || isDocIdDisabled || pageState!='add'"><div ng-messages="manageBillSettlementForm.documentCode.$error"><div ng-message="required">{{'REQUIRED_SELECTION' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><custom-number-field label-name="AMOUNT_AVAILABLE" model-name="WSBillAdjustment.targetBalanceAmount" disable="true" required="true" regex="^[0-9\.]{1,9}$" maxlength="10"></custom-number-field></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container flex-gt-sm><label>{{'AMT_ADJUSTED_SOURCE'|translate}}<span ng-if="true" class="mandatoryStar">*</span></label><input name="sourceAmountAdjusted" ng-model="WSBillAdjustment.sourceAmountAdjusted" ng-change="calculateBillAdjustmentAmount()" ng-required="true" ng-disabled="disabledFormFields" ng-pattern="/^[0-9\.]{1,9}$/" ng-maxlength="10" ng-minlength="1"><div ng-messages="manageBillSettlementForm.sourceAmountAdjusted.$error" role="alert" multiple="multiple"><div ng-message="required" class="my-message">{{'REQUIRED' |translate}}</div><div ng-message="maxlength" class="my-message">{{'MAX_LENGTH' |translate}}</div><div ng-message="minlength" class="my-message">{{'MIN_LENGTH' |translate}}</div><div ng-message="pattern" class="my-message">{{'WRONG_PATTERN' |translate}}</div></div></md-input-container></div><custom-number-field label-name="EXCHANGE_RATE" model-name="WSBillAdjustment.exchangeRate" disable="true" required="true" regex="^[0-9\.]{1,9}$" maxlength="10"></custom-number-field><custom-number-field label-name="AMT_ADJUSTED_TARGET" model-name="WSBillAdjustment.targetAmountAdjusted" disable="true" required="true" regex="^[0-9\.]{1,9}$" maxlength="10"></custom-number-field></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-0 textAlign-R wizardFooter"><md-button ng-click="back()" class="md-raised">{{"BACK"|translate}}</md-button><md-button type="button" class="md-raised md-warn" ng-if="!(pageState==='view')" ng-click="saveBillSettlement()" ng-disabled="!manageBillSettlementForm.$valid">{{"SAVE"|translate}}</md-button></div></div></form></div>