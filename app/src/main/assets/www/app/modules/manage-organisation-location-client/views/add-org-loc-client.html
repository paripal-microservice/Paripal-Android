<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-0" ng-class="{'posRelative':addOrgLocClientSpinner}"><spinner name="addOrgLocClientSpinner" img-src="{{pageLoaderImg}}" show="addOrgLocClientSpinner"></spinner><div><form name="orgLocClientForm"><div><div class="col-xs-12 padding-t-10"><help-directive help-id="MANAGE_ORGANIZATION_CLIENT" class="divContainer"></help-directive><div class="pageTitle"><span ng-if="pageState==='add'">{{titleLabelAdd}}</span> <span ng-if="pageState==='edit'">{{titleLabelEdit}}</span> <span ng-if="pageState==='view'">{{titleLabelView}}</span></div><div class="row"><org-loc-id-generator-combo form-name="orgLocClientForm" adhoc-url-org="GET_ACCESSIBLE_ORG_LIST_KEYWORD" adhoc-url-org-loc="GET_ACCESSIBLE_ORG_LOC_LIST_KEYWORD" selected-org="organization" disable-org="clientDisabled || editDisabled" required-org="true" selected-org-loc="orgLocation" disable-org-loc="clientDisabled || editDisabled" org-loc-permission="featurePrivilegeConstants.ORGANIZATION_CLIENT_ADD" required-org-loc="true" independant="false"></org-loc-id-generator-combo><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{fieldLabel.userID}}</label><input ng-model="WSClient.patientId" name="patientId" ng-maxlength="50" id="patientId" ng-disabled="editDisabled || clientDisabled"></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{fieldLabel.userType}}</label><md-select ng-model="WSClient.clientType" ng-disabled="editDisabled || clientDisabled" ng-change="clientTypeChanged()"><md-option value="INDIVIDUAL">{{'INDIVIDUAL' | translate}}</md-option><md-option value="COMPANY">{{'ORGANIZATION' | translate}}</md-option></md-select></md-input-container></div><custom-valid-from-valid-till valid-from="WSClientDate.validFrom" require-valid-from="true" disable-valid-from="validFromDisabled" min-date-valid-from="currentDate" min-date-valid-till="minDateValidTill" valid-till="WSClientDate.validTill" require-valid-till="false" disable-valid-till="clientDisabled" min-date-valid-till="currentDate"></custom-valid-from-valid-till></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12 padding-b-20"><b>{{fieldLabel.userBasicInfo}}</b></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'CELL_NO'|translate}}<span class="mandatoryStar">*</span></label><input ng-model="WSClientExtraData.cellNo" name="cell1" ng-maxlength="10" ng-pattern="/^[0-9]{10}$/" id="cell1" ng-disabled="clientDisabled || disableUser" ng-required="true" ng-blur="checkUsersMobileNo()"><div ng-messages="orgLocClientForm.cell1.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="pattern">{{'INVALID_MOBILE' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4" ng-if="userList.length>0"><md-input-container class="md-block"><label>{{'SELECT_USER'|translate}}</label><md-select ng-model="WSClientExtraData.selectUserId" name="userId" id="userId" ng-change="checkOrgLocClient(WSClientExtraData.selectUserId,orgLocation);getUserDetails(WSClientExtraData.selectUserId)" ng-disabled="viewmode || reqTypeVisible"><md-option ng-selected="$index==0?true:false" ng-repeat="userId in userList" ng-value="userId">{{userId.displayName}}</md-option></md-select><div ng-messages="createClientForm.userId.$error"><div ng-if="isLocUser" style="color:rgb(221,44,0)">{{'Already a Client' |translate}}</div></div></md-input-container></div><referred-component ng-if="stateOfPage != 'edit'" referred-data="user.userData" label="USER" disable="clientDisabled" required="true" record-type="{{WSClient.clientType}}" editable="true"></referred-component><div class="col-sm-12 col-md-4 col-lg-4" ng-if="stateOfPage == 'edit'"><md-input-container class="md-block"><label>{{'USER'|translate}}</label><input ng-model="user.userData.displayName" name="userId" id="userId"></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'EMAIL'|translate}}</label><input ng-model="WSClientExtraData.email" name="email1" ng-maxlength="100" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" id="email1" ng-disabled="clientDisabled || disableUser"><div ng-messages="orgLocClientForm.email1.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div><div ng-message="pattern">{{'ENTER_VALID_EMAIL' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'PREFERRED_LANGUAGE' | translate}}</label><md-select ng-model="WSClientExtraData.systemLanguage" name="userLanguage" ng-change="selectLanguage(userLanguage)" placeholder="{{'PREFERRED_LANGUAGE'|translate}}" class="language-mob-dropdown" ng-disabled="clientDisabled || disableUser"><md-option ng-repeat="language in languages" value="{{language}}" ng-selected="language.code == selectedLanguage.code"><span class="language-web">{{language.value}}</span> <span class="language-mob">{{language.code | uppercase}}</span></md-option></md-select></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><b>{{'AGE'|translate}}</b></div><div class="col-xs-12 col-lg-2 col-md-2 col-sm-12"><md-input-container><label>{{'SELECT_YEAR'|translate}}</label><input ng-model="WSClientExtraData.age" name="age" ng-maxlength="3" ng-pattern="/^(0?[0-9]|[1-9][0-9]|[1-9][0-9][0-9])$/" id="age" ng-disabled="userSelectedDisabled || clientDisabled || editDisabled || disableUser" ng-blur="calculateDateOfBirth()"><div ng-messages="orgLocClientForm.age.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div><div ng-message="pattern">{{'ENTER_VALID_AGE' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-lg-2 col-md-2 col-sm-12"><md-input-container><label>{{'MONTH'|translate}}</label><input type="number" ng-model="WSClientExtraData.month" name="month" ng-disabled="userSelectedDisabled || clientDisabled || editDisabled || disableUser" ng-maxlength="2" max="12" min="0" id="month" ng-blur="calculateDateOfBirth()"><div ng-messages="orgLocClientForm.month.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div><div ng-message="min">{{'ENTER_VALID_MONTH' |translate}}</div><div ng-message="max">{{'ENTER_VALID_MONTH' |translate}}</div></div></md-input-container></div><div ng-if="WSClient.clientType === 'INDIVIDUAL'"><dob-component dob="guardianData.birthDate" has-guardian="guardianData.guardianCheck" name-value-list="guardianData.guardian" check-disabled="clientDisabled || disableUser"></dob-component></div></div><div class="row"><div class="col-xs-12 col-lg-4 col-md-4 col-sm-12 padding-t-20"><md-input-container><label style="transform: none" class="padding-b-10">{{'GENDER'|translate}}<span class="mandatoryStar">*</span></label><md-radio-group ng-model="WSClientExtraData.genderCode" ng-disabled="clientDisabled || disableUser" ng-required="true"><div class="col-md-4 col-sm-12 col-xs-12 col-lg-4 padding-0"><md-radio-button ng-disabled="clientDisabled || disableUser" value="FEMALE" class="md-primary">{{'FEMALE' | translate}}</md-radio-button></div><div class="col-md-4 col-sm-12 col-xs-12 col-lg-4 padding-0"><md-radio-button ng-disabled="clientDisabled || disableUser" value="MALE" class="md-primary">{{'MALE' | translate}}</md-radio-button></div><div class="col-md-4 col-sm-12 col-xs-12 col-lg-4 padding-0"><md-radio-button ng-disabled="clientDisabled || disableUser" value="OTHER_GENDER" class="md-primary">{{'OTHER' | translate}}</md-radio-button></div></md-radio-group></md-input-container></div></div><div class="padding-b-20"><b>{{fieldLabel.userAddressDetails}}</b></div><div class="user-address-details"><address address-data="addressData" disable-address="clientDisabled" required="{{stateOfPage == 'add'}}" type="{{addressType}}" user="true" whether-map="false" filter-address-types-method="filterAddressTypesMethod"></address></div><div class="row" ng-if="trackCustomerBilling"><div class="col-sm-12 col-md-4 col-lg-4" ng-if="trackCustomerBilling"><md-input-container><label>{{'BALANCE'|translate}}</label><input ng-model="WSClient.balanceDue" name="balanceDue" ng-maxlength="50" id="email1" ng-disabled="clientDisabled" ng-pattern="/^[0-9]/"><div ng-messages="orgLocClientForm.balanceDue.$error"><div ng-message="pattern">{{'VALID_NUMBER_ERR' |translate}}</div></div></md-input-container></div><currency-dropdown ng-if="trackCustomerBilling" currency-value="currencyValue" disable="clientDisabled" required="true"></currency-dropdown></div><div class="row"><referred-component referred-data="referredByData" label="REFERRED_BY" disable="clientDisabled" required="false"></referred-component><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'REFERRER_ID'|translate}}</label><input ng-model="WSClientExtraData.referedByIdValue" name="email1" ng-maxlength="50" id="email1" ng-disabled="true"></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4 choose-file"><md-input-container><choose-file selected-file-object="documentUploadFile" selected-file-name="uploadFileName" visible="clientDisabled" required="false"></choose-file></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><a href="" ng-click="downloadClientScanFile()">{{uploadFileName}}</a></div></div></div></div><div class="col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-0 textAlign-R"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><span ng-if="pageState !=='view' && expressionDisabled !== true"><md-button class="md-raised md-warn" ng-click="saveDocumentDetails()" ng-disabled="!orgLocClientForm.$valid">{{'SAVE'|translate}}</md-button></span></div></div></form></div></div>