<md-dialog class="calendar-event-popup" aria-label="Mango (Fruit)" ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>{{titleLabelAdd}}</h2><span flex></span><md-button class="md-icon-button" ng-click="close()"><i class="fa fa-times" aria-hidden="true"></i></md-button></div></md-toolbar><div class="dialog-content"><div class="pull-left fullWidth" style="border:1px solid #EEE"><form name="createClientForm"><div class="clearfix"></div><div class="col-xs-12"><org-loc-id-generator-combo form-name="createClientForm" adhoc-url-org="GET_ACCESSIBLE_ORG_LIST_KEYWORD" adhoc-url-org-loc="GET_ACCESSIBLE_ORG_LOC_LIST_KEYWORD" selected-org="organization" required-org="true" selected-org-loc="orgLocation" org-loc-permission="featurePrivilegeConstants.ORGANIZATION_CLIENT_ADD" required-org-loc="true" independant="false" custom-class="col-md-12 col-sm-12 col-xs-12 col-lg-12 padding-0"></org-loc-id-generator-combo></div><div class="col-xs-12"><md-input-container><label>{{'CELL_NO'|translate}}<span class="mandatoryStar">*</span></label><input ng-model="WSClientExtraData.cellNo" name="cell1" ng-maxlength="10" ng-pattern="/^[0-9]{10}$/" id="cell1" ng-disabled="userSelectedDisabled || clientDisabled || editDisabled || disableUser" ng-required="true" ng-blur="checkUsersMobileNo()"><div ng-messages="createClientForm.cell1.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="pattern">{{'INVALID_MOBILE' |translate}}</div></div></md-input-container></div><div class="col-xs-12" ng-if="userList.length>0"><md-input-container class="md-block"><label>{{'SELECT_USER'|translate}}</label><md-select ng-model="WSClientExtraData.selectUserId" name="userId" id="userId" ng-change="checkOrgLocClient(WSClientExtraData.selectUserId,orgLocation);getUserDetails(WSClientExtraData.selectUserId)" ng-disabled="viewmode || reqTypeVisible"><md-option ng-selected="$index==0?true:false" ng-repeat="userId in userList" ng-value="userId">{{userId.displayName}}</md-option></md-select><div ng-messages="createClientForm.userId.$error"><div ng-if="isLocUser" style="color:rgb(221,44,0);text-align:right">{{'Already a Client' |translate}}</div></div></md-input-container></div><div class="col-xs-12"><referred-component referred-data="user.userData" label="fieldLabel.userName" disable="clientDisabled || editDisabled" required="true||isLocUser" record-type="{{WSClient.clientType}}" is-md-dialog="true" editable="true"></referred-component></div><div class="col-xs-12 padding-t-20"><md-input-container><label style="transform: none" class="padding-b-10">{{'GENDER'|translate}}<span class="mandatoryStar">*</span></label><md-radio-group ng-required="true" ng-model="WSClientExtraData.genderCode" ng-disabled="userSelectedDisabled || clientDisabled || editDisabled || disableUser"><div class="col-md-4 col-sm-12 col-xs-12 col-lg-4 padding-0"><md-radio-button ng-disabled="userSelectedDisabled || clientDisabled || editDisabled || disableUser" value="FEMALE" class="md-primary">{{'FEMALE' | translate}}</md-radio-button></div><div class="col-md-4 col-sm-12 col-xs-12 col-lg-4 padding-0"><md-radio-button ng-disabled="userSelectedDisabled || clientDisabled || editDisabled || disableUser" value="MALE" class="md-primary">{{'MALE' | translate}}</md-radio-button></div><div class="col-md-4 col-sm-12 col-xs-12 col-lg-4 padding-0"><md-radio-button ng-disabled="userSelectedDisabled || clientDisabled || editDisabled || disableUser" value="OTHER" class="md-primary">{{'OTHER' | translate}}</md-radio-button></div></md-radio-group></md-input-container></div><div class="col-xs-4 padding-t-20"><b>{{'AGE'|translate}}</b></div><div class="col-xs-4"><md-input-container><label>{{'YEARS'|translate}}</label><input ng-model="WSClientExtraData.age" name="age" ng-maxlength="3" ng-pattern="/^(0?[0-9]|[1-9][0-9]|[1-9][0-9][0-9])$/" id="age" ng-disabled="userSelectedDisabled || clientDisabled || editDisabled || disableUser" ng-blur="calculateDateOfBirth()"><div ng-messages="createClientForm.age.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div><div ng-message="pattern">{{'ENTER_VALID_AGE' |translate}}</div></div></md-input-container></div><div class="col-xs-4"><md-input-container><label>{{'MONTHS'|translate}}</label><input type="number" ng-model="WSClientExtraData.month" name="month" min="0" max="12" id="month" ng-disabled="userSelectedDisabled || clientDisabled || editDisabled || disableUser" ng-blur="calculateDateOfBirth()"><div ng-messages="createClientForm.month.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div><div ng-message="max">{{'ENTER_VALID_MONTH' |translate}}</div><div ng-message="min">{{'ENTER_VALID_MONTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12"><dob-component dob-required="!WSClientExtraData.age || WSClientExtraData.age<18 ||  WSClientExtraData.age==0" dob="guardianData.birthDate" has-guardian="guardianData.guardianCheck" name-value-list="guardianData.guardian" check-disabled="clientDisabled || disableUser" css-class="col-md-12 col-sm-12 col-xs-12 col-lg-12 padding-0" dob-change-fn="setDirectiveFn(returnFunction)"></dob-component></div><div class="col-xs-12"><md-input-container><label>{{'EMAIL'|translate}}</label><input ng-model="WSClientExtraData.email" name="email1" ng-maxlength="100" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" id="email1" ng-disabled="userSelectedDisabled || clientDisabled || editDisabled || disableUser"><div ng-messages="createClientForm.email1.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div><div ng-message="pattern">{{'ENTER_VALID_EMAIL' |translate}}</div></div></md-input-container></div><div class="col-xs-12"><md-input-container><label>{{'PREFERRED_LANGUAGE' | translate}}</label><md-select ng-model="WSClientExtraData.systemLanguage" name="userLanguage" ng-change="selectLanguage(userLanguage)" placeholder="{{'PREFERRED_LANGUAGE'|translate}}" class="language-mob-dropdown"><md-option ng-repeat="language in languages" value="{{language}}" ng-selected="language.code == selectedLanguage.code"><span class="language-web">{{language.value}}</span> <span class="language-mob">{{language.code | uppercase}}</span></md-option></md-select></md-input-container></div><div class="col-xs-12"><md-input-container><label class="md-required">{{'VALID_FROM'|translate}}</label><input datepicker from-min-date="currentDate" class="pointer color-black" ng-model="WSClientDate.validFrom" ng-required="true" name="validFrom"><md-icon class="datepickerIcon"></md-icon></md-input-container></div><div class="col-xs-12"><a ng-click="viewCompleteForm()" class="pointer ng-binding"><i class="fa fa-pencil-square-o" aria-hidden="true"></i>{{'GO_TO_DETAILED_FORM' | translate}}</a></div><div class="col-xs-12 padding-b-10"><div class="pull-right"><button class="md-raised md-button md-ink-ripple" type="button" ng-click="close()" aria-label="Cancel"><span class="ng-binding ng-scope"><span class="ng-binding ng-scope">{{'CANCEL'|translate}}</span></span></button> <button class="md-warn md-raised md-button md-ink-ripple" type="button" ng-disabled="!createClientForm.$valid" ng-click="saveOrgLocClient()" aria-label="Save"><span class="ng-binding ng-scope">{{'SAVE'|translate}}</span></button></div></div></form></div></div></md-dialog>