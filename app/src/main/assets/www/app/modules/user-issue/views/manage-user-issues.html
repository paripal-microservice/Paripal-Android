<div class="pageTitle"><span>{{'MNGE_USR_ISSUES'|translate}}</span><help-directive help-id="MNGE_USR_ISSUES" class="divContainer"></help-directive></div><div class="stepwizard"><div class="stepwizard-row setup-panel"><div class="stepwizard-step"><a href="" type="button" class="btn btn-primary btn-circle"><i class="fa fa-tint" aria-hidden="true"></i></a></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-0 wizard"><spinner name="addOrgLocSpinner" img-src="{{pageLoaderImg}}" show="addOrgLocSpinner"></spinner><form name="userIssue" class="form-horizontal" autocomplete="off" novalidate><div class="col-xs-12"><h3>{{'MNGE_USR_ISSUES'|translate}}</h3><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'USER'|translate}}<span class="mandatoryStar">*</span></label><input ng-disabled="viewmode || allMode || whethersub ||editMode" ng-model="issue.userId.value" required ng-readonly="userReadOnly" name="queryUserId" id="queryUserId" autocomplete="off" uib-typeahead="queryUserId as queryUserId.value for queryUserId in getUserNamesForRoleHistory($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('userMinLength')"><div ng-messages="userIssue.userId.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'DISEASE'|translate}}<span class="mandatoryStar">*</span></label><input ng-disabled="viewmode || allMode" required ng-model="issue.disease" name="disease" ng-maxlength="250" id="autocompleteFieldOrg" autocomplete="off" uib-typeahead="disease as disease.value for disease in getDisease($viewValue)" typeahead-min-length="getSmartSearchMinLength('diseaseMinLength')" typeahead-on-select="getDiseaseId(issue.disease.id)"><div ng-messages="userIssue.disease.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'DISEASE_VARIANT'|translate}}<span class="mandatoryStar">*</span></label><input type="text" name="diseaseVariant" required ng-model="issue.diseaseVariant" ng-disabled="viewmode || allMode" autocomplete="off" uib-typeahead="diseaseVariant as diseaseVariant.value for diseaseVariant in getDiseaseVariant($viewValue)" typeahead-loading="loading" typeahead-on-select="getIcd10Details(issue.diseaseVariant.icdId)" typeahead-min-length="getSmartSearchMinLength('diseaseVariantMinLength')"><div ng-messages="userIssue.diseaseVariant.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'ICD10_CODE_DESCRIPTION'|translate}}</label><input type="text" id="icd10" ng-model="issue.icd10CodeDescription" ng-disabled="viewmode" style="background-color: #FFFFFF"></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container><label>{{'DATE_DIAG'|translate}}<span class="mandatoryStar">*</span></label><input required ng-disabled="viewmode || allMode" datepicker class="pointer" id="dateFirstDiagnosed" ng-model="issue.dateFirstDiagnosed" restrict="reject" till-max-date="maxDate" name="dateRequestCreated"><md-icon class="datepickerIcon"></md-icon><div ng-messages="userIssue.dateFirstDiagnosed.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container><label>{{'DATE_LAST_TREATED'|translate}}</label><input ng-disabled="viewmode || allMode" datepicker till-max-date="maxDate" class="pointer" ng-model="issue.dateLastTreated" restrict="reject" name="dateRequestCreated"><md-icon class="datepickerIcon"></md-icon></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'FST_DIAG_IN'|translate}}</label><input ng-disabled="viewmode || allMode" ng-model="issue.firstDiagnosedIn" name="firstDiagnosedIn" ng-maxlength="50" id="autocompleteFieldOrg" autocomplete="off" uib-typeahead="firstDiagnosedIn as firstDiagnosedIn.value for firstDiagnosedIn in getServiceProvider($viewValue,issue.userId)" typeahead-min-length="getSmartSearchMinLength('defaultMinLength')"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'LAST_TREATED_IN'|translate}}<span class="mandatoryStar">*</span></label><input ng-disabled="viewmode || allMode" id="lastTreatedIn" required name="lastTreatedIn" ng-model="issue.lastTreatedIn" ng-maxlength="250" id="autocompleteFieldOrg" autocomplete="off" uib-typeahead="lastTreatedIn as lastTreatedIn.value for lastTreatedIn in getServiceProvider($viewValue,issue.userId)" typeahead-min-length="getSmartSearchMinLength('defaultMinLength')" typeahead-on-select="checkWhetherSubscribedLocation(issue.lastTreatedIn.id)"><div ng-messages="userIssue.lastTreatedIn.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'LAST_TREATED_BY'|translate}}</label><input ng-disabled="viewmode || allMode" ng-model="issue.lastTreatedBy" name="firstDiagnosedIn" ng-maxlength="250" id="autocompleteFieldOrg" autocomplete="off" uib-typeahead="firstDiagnosedIn as firstDiagnosedIn.value for firstDiagnosedIn in supportServiceProfessionals($viewValue)" typeahead-min-length="getSmartSearchMinLength('userMinLength')"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'LATST_TMNT_REC_ID'|translate}}</label><input type="text" ng-model="issue.lastTreatmentRecordId" ng-disabled="viewmode"></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'FLW_UP_AFTR_DAYS'|translate}}</label><input type="text" ng-model="issue.followUpAfterDays" ng-disabled="viewmode" ng-blur="setAptDate(issue.followUpAfterDays)"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'SERVICE_TYPE'|translate}}<span class="mandatoryStar">*</span></label><input ng-disabled="viewmode || allMode" required ng-model="issue.serviceType" name="serviceType" id="autocompleteFieldOrg" autocomplete="off" uib-typeahead="serviceType as serviceType.value for serviceType in getServiceType($viewValue)" typeahead-min-length="getSmartSearchMinLength('serviceTypeMinLength')"><div ng-messages="userIssue.serviceType.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6" ng-show="IsVisible"><md-input-container class="md-block"><label>{{'FOLLOW_UP_STATUS'|translate}}</label><md-select ng-model="issue.followUpStatus" ng-disabled="viewmode"><md-option ng-repeat="status in followUpStatusList" ng-value="status" ng-selected="{{status.id == followUpStatus}}">{{status.value}}</md-option></md-select></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container><label>{{'NEXT_APP_DATE'|translate}}<span class="mandatoryStar"></span></label><input datepicker class="pointer" ng-disabled="viewmode" ng-model="issue.nextAppointmentScheduledOn" restrict="reject" name="whenneed" from-min-date="minDate"><md-icon class="datepickerIcon"></md-icon></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'CREATING_LOCATION'|translate}}<span class="mandatoryStar">*</span></label><input ng-disabled="viewmode || allMode ||whethersub " id="creatingLocId" name="creatingLocId" ng-model="issue.creatingLocId" ng-maxlength="250" id="autocompleteFieldOrg" autocomplete="off" uib-typeahead="creatingLocId as creatingLocId.value for creatingLocId in getCreatingLocation($viewValue,issue.userId)" typeahead-min-length="getSmartSearchMinLength('defaultMinLength')" required></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-6 col-lg-6" ng-show="IsVisible"><div class="radio_Check_box margin-t-10"><md-checkbox ng-model="issue.active" ng-disabled="viewmode"><span>{{'ACTIVE'|translate}}</span></md-checkbox></div></div></div><div class="col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-0 textAlign-R"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><span ng-if="pageState !=='view' && expressionDisabled !== true"><md-button class="md-raised md-warn" ng-click="saveUserIssue()" ng-disabled="!userIssue.$valid">{{'SAVE'|translate}}</md-button></span></div></div></div></form></div>