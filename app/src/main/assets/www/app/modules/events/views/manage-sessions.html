<div class="pageTitle"><span>{{'MANAGE_SESSION'|translate}}</span><help-directive help-id="MANAGE_SESSION" class="divContainer"></help-directive></div><div class="stepwizard"><div class="stepwizard-row setup-panel"><div class="stepwizard-step"><a href="#step-1" type="button" class="btn btn-primary btn-circle" ng-class="step1Css"><i class="fa fa-calendar-o" aria-hidden="true"></i></a></div><div class="stepwizard-step"><a href="#step-2" type="button" class="btn btn-default btn-circle"><i class="fa fa-list-ol" aria-hidden="true"></i></a></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-t-10 wizard" ng-class="{'posRelative':sessionFormSpinner}"><form name="sessionForm" class="form-horizontal" autocomplete="off" novalidate="novalidate"><spinner name="sessionFormSpinner" img-src="{{pageLoaderImg}}" show="sessionFormSpinner"></spinner><div class="setup-content" id="step-1"><div><h3 ng-if="pageState==='add'">{{'ADD_SESSION'|translate}}<span class="titleNum"> {{'1_OF_2'|translate}}</span></h3><h3 ng-if="pageState==='edit'">{{'EDIT_SESSION'|translate}}<span class="titleNum"> {{'1_OF_2'|translate}}</span></h3><h3 ng-if="pageState==='view'">{{'VIEW_SESSION'|translate}}<span class="titleNum"> {{'1_OF_2'|translate}}</span></h3></div><div class="row"><custom-text-field label-name="SESSION_NAME" model-name="WSEventSession.sessionName" disable="disabledFormFields" required="true" maxlength="50"></custom-text-field><custom-text-field label-name="EVENT_NAME" model-name="WSEventSession.event.value" disable="true" required="false" maxlength="50"></custom-text-field><custom-text-field label-name="SESSION_CODE" model-name="WSEventSession.sessionCode" disable="true" required="false" maxlength="50" ng-if="pageState=='edit' ||disabledFormFields"></custom-text-field></div><div class="row"><div class="col-xs-12 col-sm-4 col-md-4 col-lg-4"><md-input-container><label>{{'SESSION_STATUS'|translate}}<span class="mandatoryStar">*</span></label><md-select ng-model="WSEventSession.eventSessionStatus" required name="status" ng-disabled="pageState == 'add'||disabledFormFields || unEditable"><md-option ng-repeat="status in sessionSatusList " ng-value="status">{{status | translate}}</md-option></md-select><div ng-messages="sessionForm.status.$error"><div><div ng-message="required">{{'INPUT_REQ' |translate}}</div></div></div></md-input-container></div><custom-valid-from-valid-till type="other" valid-from="WSEventSession.startDate " from-date-label="FROM_DATE" require-valid-from="true" disable-valid-from="disabledFormFields" valid-till="WSEventSession.endDate=WSEventSession.startDate" to-date-label="TO_DATE" require-valid-till="true" disable-valid-till="true" min-date-valid-from="minDateValidFrom" max-date-valid-from="maxDateValidFrom" max-date-valid-till="maxDateValidFrom"></custom-valid-from-valid-till><div class="col-sm-12 col-md-2 col-lg-2 timepickerArrow"><label class="labelFontSize">{{'START_TIME'|translate}}<span class="mandatoryStar">*</span></label><uib-timepicker id="msgDueTime" ng-model="WSEventSession.startsAt" ng-required="true" ng-disabled="disabledFormFields" hour-step="1" arrowkeys="false" minute-step="1"></uib-timepicker><div ng-messages="listForm.startTime.$error"></div></div><div class="col-sm-12 col-md-2 col-lg-2 timepickerArrow"><label class="labelFontSize">{{'END_TIME'|translate}}<span class="mandatoryStar">*</span></label><uib-timepicker id="msgDueTime" ng-model="WSEventSession.endsAt" ng-required="true" ng-disabled="disabledFormFields" hour-step="1" arrowkeys="false" minute-step="1"></uib-timepicker><div ng-messages="listForm.startTime.$error"></div></div></div><div class="row"><div class="col-xs-12 col-sm-4 col-md-4 col-lg-4"><md-input-container><label>{{'RESTRICTIONS'|translate}}</label><md-select ng-model="WSEventSession.eventSessionRestriction " name="restriction" required ng-disabled="disabledFormFields"><md-option ng-repeat="restriction in sessionRestrictionList " ng-value="restriction ">{{restriction | translate}}</md-option></md-select><div ng-messages="sessionForm.restriction.$error"><div><div ng-message="required">{{'INPUT_REQ' |translate}}</div></div></div></md-input-container></div><div class="col-xs-12 col-sm-4 col-md-4 col-lg-4"><custom-number-field css-class="col-sm-12 col-md-4 col-lg-4 padding-0 float-width-l-100" label-name="CAPACITY" model-name="WSEventSession.capacity" disable="disabledFormFields" required="true" regex="^[0-9]{1,4}$" maxlength="4"></custom-number-field></div><custom-text-field label-name="ROOM_DETAILS" model-name="WSEventSession.roomDetails" disable="false" required="false" maxlength="50"></custom-text-field></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><md-checkbox ng-model="WSEventSession.whetherBookingAllowed" aria- class="md-warn md-align-top-left" ng-disabled="disabledFormFields" flex ng-change="WSEventSession.whetherOnlineBooking=false">{{'IS_BOOKING_POSSIBLE' |translate}}</md-checkbox></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><md-checkbox ng-model="WSEventSession.whetherAttendance " aria- class="md-warn md-align-top-left" ng-disabled="disabledFormFields" flex>{{'HAS_ATTENDANCE' |translate}}</md-checkbox></md-input-container></div></div><div class="row"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><md-checkbox ng-model="WSEventSession.whetherOnlineBooking " aria- class="md-warn md-align-top-left" ng-disabled="disabledFormFields||!WSEventSession.whetherBookingAllowed" flex>{{'ONLINE_BOOKING' |translate}}</md-checkbox></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><md-checkbox ng-model="WSEventSession.whetherFeeApplicable" aria- class="md-warn md-align-top-left" ng-disabled="disabledFormFields || !eventDetail.whetherFeeApplicable" flex>{{'HAS_FEES' |translate}}</md-checkbox></md-input-container></div></div><div class="row" id="clickHere"><ws-name-value-combo min-length="cityMinLength" css-class="col-sm-12 col-md-12col-md-4 col-lg-4   " label-name="CITY " required="true " query-search-key="searchString " name-value-list="WSEventSession.city " query-url="city.queryUrl " query-parameter="city.queryParameter " json-parameter="city.jsonParameter " disable="disabledFormFields " on-select="WSEventSession.heldAt=''"></ws-name-value-combo><custom-text-area-field css-class="col-sm-12 col-md-12 col-md-8 col-lg-8  " label-name="HELD_AT " model-name="WSEventSession.heldAt " rows="10 " required="true " maxlength="5000 " disable="disabledFormFields "></custom-text-area-field></div><uib-accordion><uib-accordion-group is-open="status.open"><uib-accordion-heading><i class="fa fa-map-marker"></i> <span>{{status.open?'HIDE_MAP':'SHOW_MAP' | translate}}{{status.open?onMapLoaded():onMapLoaded()}}</span> <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i></uib-accordion-heading><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><ng-map id="my_map" zoom="{{zoom}} " center="{{currentPosition}} "><marker position="{{currentPosition}} " animation="DROP " on-dragend="getPosition($event) " draggable="{{pageState=='view'?false:true}} "></marker></ng-map></div></div></uib-accordion-group></uib-accordion><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-0 textAlign-R wizardFooter textAlign-C"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><md-button class="md-raised md-warn" ng-disabled="sessionForm.$invalid" ng-click="saveSession(sessionForm)" type="button" ng-hide="disabledFormFields">{{'SAVE'|translate}}</md-button><div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 padding-0 pull-right" ng-hide="true"><button class="btn btn-default nextBtn btn-md pull-right" type="button" id="nextTab"><span class="nextTextBtn">{{'NEXT_STEP'|translate}}</span> <i class="fa fa-angle-right"></i></button></div></div></div><div class="setup-content" id="step-2"><div><h3>{{'LINKED_PROFESSIONALS'|translate}}<span class="titleNum"> {{'2_OF_2'|translate}}</span></h3></div><div class="row"><div class="col-xs-12 col-sm-4 col-md-4 col-lg-4"><md-input-container><label>{{'TYPE'|translate}}</label><md-select ng-model="linkProfObj.userType " name="userType" ng-disabled="disabledFormFields" ng-change="linkProfObj.professional=''"><md-option ng-repeat="user in userType " ng-value="user">{{user.value | translate}}</md-option></md-select></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{ 'PROFESSIONALS' |translate}}</label><input ng-model="linkProfObj.professional" name="user" ng-maxlength="50" id="user" autocomplete="off" uib-typeahead="userData as userData.displayName for userData in getProfessionalUsers($viewValue,linkProfObj.userType.url)" typeahead-editable="linkProfObj.userType.value=='OTHER_USER'" typeahead-min-length="getSmartSearchMinLength('userMinLength')" ng-disabled="disabledFormFields"><div ng-messages="sessionForm.user.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><custom-text-area-field label-name="REMARK" model-name="linkProfObj.remark" rows="10" required="false" maxlength="1000" disable="disabledFormFields"></custom-text-area-field></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 textAlign-R wizardFooter"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><md-button class="md-raised md-warn" ng-disabled="linkProfObj.professional | checkNull" ng-click="linkUser(linkProfObj.userType.value,linkProfObj.professional,linkProfObj.remark)" type="button" ng-hide="disabledFormFields">{{'LINK'|translate}}</md-button></div><div class="table-responsive foo" ng-class="{'posRelative':professionalListSpinner}"><spinner name="professionalListSpinner" img-src="{{pageLoaderImg}}" show="professionalListSpinner"></spinner><table datatable="ng" dt-options="options" dt-column-defs="dtColumnDefs" class="table table-striped table-hover rwd-table" width="100%"><thead><tr><th>{{'SR_NO' | translate}}</th><th>{{'LINKED_PROFESSIONALS' | translate}}</th><th ng-if="pageState!='view'">{{'UNLINK' | translate}}</th></tr></thead><tbody><tr ng-repeat=" row in profList "><td>{{$index+1}}</td><td>{{row.value}}</td><td ng-if="pageState!='view'"><a href="" confirmation-dialog-box confirmation-box-title="UNLINK_PROFESSIONALS " confirmation-box-msg="DO_YOU_WANT_TO_UNLINK_PROFESSIONAL " confirm-click="unLinkUser(row.id) "><u>{{'UNLINK' | translate}}</u></a></td></tr></tbody></table></div><div class="col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooterSteps"><div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 padding-0" ng-hide="true "><button class="btn btn-default prevBtn btn-md pull-left" type="button "><span class="previousTextBtn">{{'PREV_STEP'|translate}}</span> <i class="fa fa-angle-left"></i></button></div><div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 padding-0" ng-hide="true "><button class="btn btn-default nextBtn btn-md pull-right" type="button "><span class="nextTextBtn">{{'NEXT_STEP'|translate}}</span> <i class="fa fa-angle-right"></i></button></div></div></div></form></div><script src="components/js/custom/custom.js"></script>