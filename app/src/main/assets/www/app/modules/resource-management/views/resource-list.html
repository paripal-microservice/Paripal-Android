<div class="pageTitle"><span>{{'HEALTH_LIBRARY_LIST'|translate}}</span><help-directive help-id="RESOURCES" class="divContainer"></help-directive></div><div class="filterPanel filter"><uib-accordion><uib-accordion-group is-open="status.open"><uib-accordion-heading><i class="fa fa-filter"></i> <span>&nbsp;{{'FILTER'|translate}}</span> <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i></uib-accordion-heading><form name="resourcelistFilterform" class="form-horizontal panel-body-top" id="resourcelistFilterform" runat="server" autocomplete="off" novalidate="novalidate"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'RESOURCE_TYPE'|translate}}</label><md-select ng-model="resource.resourceType" name="resourceType" placeholder="{{'RESOURCE_TYPE'|translate}}"><md-option ng-repeat="resourceType in resourceTypeList" ng-value="resourceType">{{resourceType.type}}</md-option></md-select></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'RESOURCE_NAME'|translate}}</label><input ng-model="resource.resourceName" name="resourcename" ng-maxlength="50"><div ng-messages="resourcelistFilterform.resourcename.$error"><div ng-message="maxlength">{{'MAXLENGTH_ERR' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'RESOURCE_IDENTIFIER_CONTAINS'|translate}}</label><input ng-model="resource.resourceNameContains" name="resourceNameContains" ng-maxlength="50"><div ng-messages="resourcelistFilterform.resourceNameContains.$error"><div ng-message="maxlength">{{'MAXLENGTH_ERR' |translate}}</div></div></md-input-container></div></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="col-sm-12 col-md-4 col-lg-4 selectDropDown" ng-show="{{loggedInUserDetails.isOrganizationUserMode}}"><md-input-container><label>{{'RESTRICTED_TO'|translate}}</label><md-select ng-model="resource.restrictTo" name="restrictTo" placeholder="{{'RESTRICTED_TO'|translate}}"><md-option ng-repeat="restrictTo in restrictToList" ng-value="restrictTo">{{restrictTo.type}}</md-option></md-select></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4 selectDropDown" ng-show="{{loggedInUserDetails.isOrganizationUserMode}}"><md-input-container><label>{{'SERVICE_PROVIDER'|translate}}</label><md-select ng-model="resource.serviceProvider" name="serviceProvider" placeholder="{{'SERVICE_PROVIDER'|translate}}"><md-option ng-repeat="serviceProvider in serviceProviderList" ng-value="serviceProvider">{{serviceProvider.orgLocationName}}</md-option></md-select></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 radio-margin-tb"><md-radio-group ng-model="resource.recordStatus" layout="row"><md-radio-button value="checklist">{{'IS_RESOURCE_CHECKLIST'|translate}}</md-radio-button><md-radio-button value="firstAid">{{'IS_RESOURCE_FIRST_AID'|translate}}</md-radio-button></md-radio-group></div></div></div><div class="row" ng-show="resource.recordStatus=='checklist'"><div class="col-sm-12 col-md-12 col-lg-12"><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'CHECK_LIST_TYPE'|translate}}</label><md-select ng-model="resource.checkListType" name="checkListType" ng-change="loadCheckListLinkTypes(resource.checkListType)"><md-option ng-repeat="checkListType in checkListTypeList" ng-value="checkListType">{{checkListType.value}}</md-option></md-select><div class="md-errors-spacer"></div></md-input-container></div><div class="col-sm-12 col-md-4 col-lg-4"><md-input-container><label>{{'CHECK_LIST_LINK_TYPE'|translate}}</label><md-select ng-model="resource.checkListLinkType" name="checkListLinkType"><md-option ng-repeat="checkListLinkType in checkListLinkTypeList" ng-value="checkListLinkType">{{checkListLinkType.value}}</md-option></md-select><div class="md-errors-spacer"></div></md-input-container></div></div></div><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><valid-from-valid-till type="any" from-date-label="{{'ADDED_FROM'|translate}}" to-date-label="{{' TO '|translate}}" valid-from="resource.validFrom" require-valid-from="false" valid-till="resource.validTill" require-valid-till="false"></valid-from-valid-till></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-b-10 padding-0 wizardFooter"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 textAlign-R padding-0"><md-button type="reset" ng-click="clear()" class="md-raised">{{"CLEAR"|translate}}</md-button><md-button type="button" class="md-raised md-warn" ng-click="getResourceByCriteria(resource)">{{"APPLY"|translate}}</md-button></div></div></form></uib-accordion-group></uib-accordion></div><div class="padding-b-10 padding-t-20 ng-scope pull-left fullWidth"><div class="padding-0"><md-button ng-hide="fromProfessionalWall" type="button" class="md-raised md-warn pull-left" ng-click="createNewResource()" ng-if="loggedInUserDetails.isOrganizationUserMode && (loggedInUserDetails.userOrganizationCategoryType=='PRODUCT' || loggedInUserDetails.userOrganizationCategoryType=='SYSTEM')"><i class="fa fa-plus"></i> {{'ADD_NEW' | translate}}</md-button><md-button ng-hide="fromProfessionalWall" type="button" class="md-raised md-warn pull-left" ng-click="createNewResource()" ng-if="loggedInUserDetails.isOrganizationUserMode && loggedInUserDetails.userOrganizationCategoryType!='PRODUCT' && loggedInUserDetails.userOrganizationCategoryType!='SYSTEM'" check-permission feature-privilege="{{featurePrivilegeConstants.RESOURCE_UPLOAD_DOWNLOAD_ADD}}"><i class="fa fa-plus"></i> {{'ADD_NEW' | translate}}</md-button><md-button type="button" class="md-raised md-warn pushme pull-left">List view</md-button><div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 padding-t-15 padding-b-15"><div class="textOrg pull-left formTextColor">{{'WHETHER_DOC_HAS'|translate}}<md-radio-group ng-model="resource.whetherAllIdentifier" layout="row" name="whetherAllStatus" id="whetherAllStatus" class="pull-right padding-l-30"><md-radio-button ng-value="true">{{'ALL' | translate}}</md-radio-button><md-radio-button ng-value="false">{{'ANY' | translate}}</md-radio-button></md-radio-group></div></div><div class="col-sm-12 col-md-3 col-lg-3 col-xs-12"><md-input-container><label>{{'RESOURCE_IDENTIFIER_CONTAINS'|translate}}</label><input ng-model="resource.resourceNameContains" name="resourceNameContains" ng-maxlength="50"><div ng-messages="resourcelistFilterform.resourceNameContains.$error"><div ng-message="maxlength">{{'MAXLENGTH_ERR' |translate}}</div></div></md-input-container></div><div class="col-sm-12 col-md-2 col-lg-2 col-xs-4" style="margin-top: 14px"><a ng-click="getResourceByCriteria(resource)" href=""><i class="fa fa-search fa-lg"></i></a> <a ng-click="clear()" href="" style="padding-left: 5px"><i class="fa fa-repeat fa-lg"></i></a></div><div class="pull-right"><md-menu ng-show="listView == true"><md-button type="button" class="md-raised" ng-click="$mdOpenMenu($event)">{{'SHOW'|translate}} {{itemPerPage}}</md-button><md-menu-content width="3" ng-init="maxRecordsAr = [10,25,50,100]"><md-menu-item ng-repeat="item in maxRecordsAr"><md-button ng-click="setMaxRecords(item)"><span md-menu-align-target>{{'SHOW'|translate}} {{item}} </span></md-button></md-menu-item></md-menu-content></md-menu><md-menu ng-show="cardView == true"><md-button type="button" class="md-raised" ng-click="$mdOpenMenu($event)">{{'SHOW'|translate}} {{itemPerPage}}</md-button><md-menu-content width="3" ng-init="maxRecordsAr = [12,24,48,120]"><md-menu-item ng-repeat="item in maxRecordsAr"><md-button ng-click="setMaxRecords(item)"><span md-menu-align-target>{{'SHOW'|translate}} {{item}} </span></md-button></md-menu-item></md-menu-content></md-menu></div></div></div><div class="table-responsive foo" ng-show="listView == true"><div ng-class="{'posRelative':resourceListSpinner}"><spinner name="resourceListSpinner" img-src="{{pageLoaderImg}}" show="resourceListSpinner"></spinner><div><table datatable="ng" dt-options="options" dt-column-defs="dtColumnDefs" class="table table-striped table-hover rwd-table tableIcon" width="100%" id="data-table"><thead><tr><th sortable searchobject="resource" searchfunction="getResourceByCriteria(resource)" name="RESOURCE_NAME">{{'RESOURCE_NAME' | translate}}</th><th sortable searchobject="resource" searchfunction="getResourceByCriteria(resource)" name="DOCUMENT_RESOURCE_TYPE">{{'RESOURCE_TYPE' | translate}}</th><th sortable searchobject="resource" searchfunction="getResourceByCriteria(resource)" name="DOCUMENT_ACCESS_TYPE" data-priority="1">{{'ACCESSIBLE_TO' | translate}}</th><th sortable searchobject="resource" searchfunction="getResourceByCriteria(resource)" name="DOWNLOADABLE">{{'DOWNLOADABLE' | translate}}</th><th sortable searchobject="resource" searchfunction="getResourceByCriteria(resource)" name="VIEWABLE">{{'VIEWABLE' | translate}}</th><th sortable searchobject="resource" searchfunction="getResourceByCriteria(resource)" name="CHECK_LIST_TYPE">{{'CHECKLIST_TYPE' | translate}}</th><th width="100px">{{'VOTE' | translate}}</th><th width="100px"></th></tr></thead><tbody><tr ng-repeat="resource in resourceList"><td><div class="btn-group"><a class="dropdown-toggle dropDownBtnLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{ resource.name }}</a><ul class="dropdown-menu"><li ng-hide="fromProfessionalWall" ng-if="resource.isModifiable"><a href="" ng-click="showResourceDetails(resource, 'edit')" check-permission feature-privilege="{{featurePrivilegeConstants.RESOURCE_UPLOAD_DOWNLOAD_EDIT}}"><i class="fa fa-pencil"></i> {{'EDIT' | translate}}</a></li><li><a href="" ng-click="showResourceDetails(resource, 'view')" check-permission feature-privilege="{{featurePrivilegeConstants.RESOURCE_UPLOAD_DOWNLOAD_VIEW}}"><i class="fa fa-eye"></i> {{'VIEW' | translate}}</a></li><li ng-hide="fromProfessionalWall" ng-if="resource.isModifiable"><a href="" ng-click="deleteResource(resource)" check-permission feature-privilege="{{featurePrivilegeConstants.RESOURCE_UPLOAD_DOWNLOAD_DELETE}}" location-id="1"><i class="fa fa-trash"></i> {{'REMOVE' | translate}}</a></li><li><a href="" ng-click="downloadFile(resource)" ng-class="{'disabledAnchor':resource.whetherDownloadable===false} "><i class="fa fa-download"></i> {{'DOWNLOAD' | translate}}</a></li><li><a href="" ng-click="viewPrintFile(resource)" ng-class="{'disabledAnchor':resource.whetherViewable===false}"><i class="fa fa-print"></i> {{'VIEW_PRINT' | translate}}</a></li><li><a href="" ng-click="viewLink(resource.id)" ng-if="(resource.documentAccessType.type==='Public' || resource.documentAccessType.type==='Clients of organization' || resource.documentAccessType.type==='Clients of location') && orgUser"><i class="fa fa-eye"></i> {{'VIEW_SHAREABLE_LINK' | translate}}</a></li><li><a href="" ng-click="sendLink(resource.id)" ng-if="(resource.documentAccessType.type==='Public' || resource.documentAccessType.type==='Clients of organization' || resource.documentAccessType.type==='Clients of location') && orgUser"><i class="fa fa-envelope-o"></i> {{'SEND_LINK' | translate}}</a></li></ul></div></td><td>{{resource.documentResourceType.type}}</td><td>{{resource.documentAccessType.type}}</td><td><span ng-if="resource.whetherDownloadable===true "><i class="fa fa-check" aria-hidden="true"></i></span> <span ng-if="resource.whetherDownloadable===false "><i class="fa fa-times" aria-hidden="true"></i></span></td><td><span ng-if="resource.whetherViewable===true"><i class="fa fa-check" aria-hidden="true"></i></span> <span ng-if="resource.whetherViewable===false"><i class="fa fa-times" aria-hidden="true"></i></span></td><td>{{resource.checklistType.value}}</td><td class="thumbs"><div><span class="clickCls" vote="true" data="{{resource.id}}" style="float:left"><i ng-class="{'fa fa-thumbs-up':resource.whetherVotedUp===true,'fa fa-thumbs-o-up':resource.whetherVotedUp!==true}" aria-hidden="true"></i></span><span style="margin-left:3px; float:left" ng-if="resource.voteUp !== null">{{resource.voteUp}}</span><span style="margin-left:3px; float:left" ng-if="resource.voteUp === null">0</span></div></td><td class="thumbs"><div><span class="clickCls" vote="false" data="{{resource.id}}" style="float:left"><i ng-class="{'fa fa-thumbs-down':resource.whetherVotedUp===false,'fa fa-thumbs-o-down':resource.whetherVotedUp!==false}" aria-hidden="true"></i></span><span style="margin-left:3px;float:left" ng-if="resource.voteDown !== null">{{resource.voteDown}}</span><span style="margin-left:3px;float:left" ng-if="resource.voteDown === null">0</span></div></td></tr></tbody></table></div></div><div ng-show="totalItems> 0"><div class="pageRecord"><span>{{'SHOWING' | translate}} {{pagingInfo.startRecord + '-' + pagingInfo.endRecord + ' '+("OF"|translate) + ' '+ totalItems + ' '+("ITEMS"|translate)}}</span></div><div class="text-center"><uib-pagination max-size="4" total-items="totalItems" ng-model="currentPage" items-per-page="itemPerPage" ng-change="pageChanged()" boundary-links="true" class="pagination-md" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></uib-pagination></div></div></div><div ng-repeat="resource in resourceList" ng-show="cardView == true"><div class="col-xs-12 col-sm-6 col-md-3 col-lg-3" style="padding-right:0px;padding-left:0px" id="cardView"><md-content><md-card><md-toolbar layout-padding style="color: #f97524;background-color: #e9f2f8 !important;padding-top: 8px;border: 1px solid #CFD7E6"><div style="padding: 3px;padding-left: 0px"><p style="" class="resource-card">{{resource.name}}</p><p style="font-size: 12px;padding-top:5px">{{resource.documentResourceType.type}}</p><md-toolbar-icon style="position:absolute;top: 26%;left: 90%" ng-if="resource.whetherDownloadable===true"><a class="pointer" ng-click="downloadFile(resource)"><md-tooltip md-direction="bottom">{{'DOWNLOAD' | translate}}</md-tooltip><i class="fa fa-download"></i></a></md-toolbar-icon></div></md-toolbar><md-card-content style="height:250px;overflow-y: auto; background-color: #f9f7f7"><div class="video-box"><img ng-src="data:image/png;base64,{{resource.thumbnail}}" class="img-responsive" ng-if="resource.documentResourceType.type !== 'Audio' && resource.thumbnail != null"> <img src="app/images/blank1.jpg" class="img-responsive" ng-if="resource.documentResourceType.type == 'Audio'"> <img src="app/images/blank1.jpg" class="img-responsive" ng-if="resource.documentResourceType.type != 'Audio' && resource.thumbnail == null"><div class="sub-video-playbtn" style="top: 34% !important; left: 38% !important" ng-if="resource.documentResourceType.type == 'Document'"><i class="fa fa-file-o" aria-hidden="true" ng-click="viewPrintFile(resource)"></i></div><div class="sub-video-playbtn" style="top: 34% !important; left: 38% !important" ng-if="resource.documentResourceType.type == 'Image'"><i class="fa fa-picture-o" aria-hidden="true" ng-click="viewPrintFile(resource)"></i></div><div class="sub-video-playbtn" style="top: 34% !important; left: 38% !important" ng-if="resource.documentResourceType.type == 'Audio'"><i class="fa fa-volume-up" aria-hidden="true" ng-click="viewPrintFile(resource)"></i></div><div class="sub-video-playbtn" style="top: 34% !important; left: 38% !important" ng-if="resource.documentResourceType.type == 'Video'"><i class="fa fa-play-circle" aria-hidden="true" ng-click="viewPrintFile(resource)"></i></div></div><hr><div class="td firstnames MobileCarousel"><td class="thumbs"><div><a href="" ng-click="voteChanged('true', resource.id)" style="float:left"><i ng-class="{'fa fa-thumbs-up':resource.whetherVotedUp===true,'fa fa-thumbs-o-up':resource.whetherVotedUp!==true}" aria-hidden="true"></i></a><span style="margin-left:3px; float:left" ng-if="resource.voteUp !== null">{{resource.voteUp}}</span><span style="margin-left:3px; float:left" ng-if="resource.voteUp === null">0</span></div></td><td class="thumbs"><div><a href="" ng-click="voteChanged('false', resource.id)" style="float:left; margin-left: 10px"><i ng-class="{'fa fa-thumbs-down':resource.whetherVotedUp===false,'fa fa-thumbs-o-down':resource.whetherVotedUp!==false}" aria-hidden="true"></i></a><span style="margin-left:3px;float:left" ng-if="resource.voteDown !== null">{{resource.voteDown}}</span><span style="margin-left:3px;float:left" ng-if="resource.voteDown === null">0</span></div></td><div class="pull-right"><a href="" ng-if="resource.isModifiable" ng-click="showResourceDetails(resource, 'edit')" check-permission feature-privilege="{{featurePrivilegeConstants.RESOURCE_UPLOAD_DOWNLOAD_EDIT}}"><md-tooltip md-direction="bottom">{{'EDIT' | translate}}</md-tooltip><i class="fa fa-pencil"></i></a> <a href="" class="padding-l-6" ng-click="showResourceDetails(resource, 'view')" check-permission feature-privilege="{{featurePrivilegeConstants.RESOURCE_UPLOAD_DOWNLOAD_VIEW}}"><md-tooltip md-direction="bottom">{{'VIEW' | translate}}</md-tooltip><i class="fa fa-eye"></i></a> <a href="" class="padding-l-6" ng-hide="fromProfessionalWall" ng-if="resource.isModifiable" ng-click="deleteResource(resource)" check-permission feature-privilege="{{featurePrivilegeConstants.RESOURCE_UPLOAD_DOWNLOAD_DELETE}}" location-id="1"><md-tooltip md-direction="bottom">{{'DELETE' | translate}}</md-tooltip><i class="fa fa-trash"></i></a> <a href="" class="padding-l-6" ng-click="viewLink(resource.id)" ng-if="(resource.documentAccessType.type==='Public' || resource.documentAccessType.type==='Clients of organization' || resource.documentAccessType.type==='Clients of location') && orgUser"><md-tooltip md-direction="bottom">{{'VIEW_SHAREABLE_LINK' | translate}}</md-tooltip><i class="fa fa-link"></i></a> <a href="" class="padding-l-6" ng-click="sendLink(resource.id)" ng-if="(resource.documentAccessType.type==='Public' || resource.documentAccessType.type==='Clients of organization' || resource.documentAccessType.type==='Clients of location') && orgUser"><md-tooltip md-direction="bottom">{{'SEND_LINK' | translate}}</md-tooltip><i class="fa fa-envelope-o"></i></a></div></div></md-card-content></md-card></md-content></div></div><div ng-show="totalItems> 0 && cardView == true" class="col-md-12 col-lg-12 col-sm-12 col-xs-12 padding-0"><div class="pageRecord"><span>{{'SHOWING' | translate}} {{pagingInfo.startRecord + '-' + pagingInfo.endRecord + ' '+("OF"|translate) + ' '+ totalItems + ' '+("ITEMS"|translate)}}</span></div><div class="text-center"><uib-pagination max-size="4" total-items="totalItems" ng-model="currentPage" items-per-page="itemPerPage" ng-change="pageChanged()" boundary-links="true" class="pagination-md" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></uib-pagination></div></div><view-file-pop-up visible="viewFileContent" file-resource="fileResource"><view-file-pop-up-header title="{{'VIEW_FILE_CONTENTS' | translate}}"></view-file-pop-up-header><view-file-pop-up-body></view-file-pop-up-body><view-file-pop-up-footer is-hiding-print-button="isHidingPrintButton"></view-file-pop-up-footer></view-file-pop-up><delete-pop-up delete-dialog-box="deleteDialogBox"></delete-pop-up>