<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-t-10 wizard" ng-class="{'posRelative':adhocMessageFormSpinner}"><spinner name="adhocMessageFormSpinner" img-src="{{pageLoaderImg}}" show="adhocMessageFormSpinner"></spinner><form name="adhocMessageForm" ng-submit="saveAdhocMessageForm(adhocMessageForm)" class="form-horizontal" autocomplete="off" novalidate="novalidate"><help-directive help-id="MANAGE_ADHOC_MESSAGE" class="divContainer"></help-directive><div class="pageTitle"><span ng-if="pageState==='add'">{{'ADD_ADHOC_MESSAGE'|translate}}</span> <span ng-if="pageState==='edit'">{{'EDIT_ADHOC_MESSAGE'|translate}}</span> <span ng-if="pageState==='view'">{{'VIEW_ADHOC_MESSAGE'|translate}}</span></div><div class="setup-content" id="step-1"><div class="row"><custom-text-field label-name="NAME" ng-if="!isIndividualUserMode" model-name="WSAdhocMessage.displayCode" required="true" disable="disabledFormFields" maxlength="50"></custom-text-field><ws-name-value-combo min-length="orgLocMinLength" org-loc-permission="featurePrivilegeConstants.ADHOC_MSG_VIEW" label-name="ORGANIZATION_LOCATION" disable="disabledFormFields" required="true" name-value-list="WSAdhocMessage.organizationLocation" query-search-key="keyword" query-url="organizationLocation.queryUrl" query-parameter="organizationLocation.queryParameter" json-parameter="organizationLocation.jsonParameter"></ws-name-value-combo><ws-client-search-combo ng-if="!isIndividualUserMode" label-name="CATEGORY" disable="disabledFormFields || isCategoryDisabled" required="true" name-value-list="WSAdhocMessage.msgCategory" query-url="msgCategory.queryUrl" query-parameter="msgCategory.queryParameter" json-parameter="msgCategory.jsonParameter"></ws-client-search-combo></div><div class="row"><ws-client-search-combo ng-if="!isIndividualUserMode" label-name="SUB_CATEGORY" disable="disabledFormFields || isSubCategoryDisabled" required="true" name-value-list="WSAdhocMessage.msgSubCategory" query-url="msgSubCategory.queryUrl" query-parameter="msgSubCategory.queryParameter" json-parameter="msgSubCategory.jsonParameter"></ws-client-search-combo><div ng-if="!isIndividualUserMode" class="col-xs-12 col-sm-12 col-md-4 col-lg-4 padding-b-15 pull-left" style="height:45px"><div class="pull-left padding-t-15 padding-b-15"><md-radio-group ng-model="WSAdhocMessage.whetherScheduled" layout="row" name="whetherScheduled" class="pull-left"><md-radio-button ng-disabled="disabledFormFields" ng-value="false">{{'IMMEDIATE' | translate}}</md-radio-button><md-radio-button ng-disabled="disabledFormFields" ng-value="true">{{'SCHEDULE' | translate}}</md-radio-button></md-radio-group></div></div><div ng-if="!isIndividualUserMode" class="col-xs-12 col-sm-12 col-md-2 col-lg-2 pull-left"><md-input-container><label>{{'DATE'|translate}}<span ng-if="!whetherImmediate" class="mandatoryStar">*</span></label><input datepicker class="pointer" ng-model="WSAdhocMessage.msgDueDate" from-min-date="minDate" name="msgDueDate" ng-required="!whetherImmediate" ng-disabled="disabledFormFields || whetherImmediate"><md-icon class="datepickerIcon"></md-icon><div ng-messages="adhocMessageForm.msgDueDate.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div></div></md-input-container></div><div ng-if="!isIndividualUserMode" class="col-sm-12 col-md-2 col-lg-2 timepickerArrow pull-left"><label class="labelFontSize">{{'TIME'|translate}}</label><uib-timepicker id="msgDueTime" ng-model="WSAdhocMessage.msgDueTime" ng-required="!whetherImmediate" ng-disabled="disabledFormFields || whetherImmediate" hour-step="1" arrowkeys="false" minute-step="1"></uib-timepicker><div ng-messages="adhocMessageForm.msgDueTime.$error"></div></div></div><div class="row"><div><messaging-multi-file files="selectedFileArray" visible="disabledFormFields" required="false"></messaging-multi-file></div><div class="row margin-t-10 padding-t-10"><div class="col-xs-12 col-sm-12 col-md-8 col-lg-8"><div ng-cloak class="col-sm-12 col-md-12 col-lg-12"><md-content><md-tabs md-dynamic-height md-border-bottom><md-tab label="{{'EMAIL' |translate}}" md-on-select="onTabChanges(0)"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-10"><md-input-container><label>{{'SUBJECT'|translate}}<span ng-if="isEmailContent" class="mandatoryStar">*</span></label><textarea ng-blur="onSubjectFocus()" name="subjectLine" ng-model="email.subjectLine" ng-required="required" ng-disabled="disabledFormFields" ng-maxlength="100" rows="2" md-select-on-focus></textarea><div ng-messages="adhocMessageForm.subjectLine.$error" role="alert" multiple="multiple"><div ng-message="required" class="my-message">{{'REQUIRED' |translate}}</div><div ng-message="maxlength" class="my-message">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div></div><div class="row"><md-content class="md-padding"><ng-ckeditor bind="email.msgContent" skin="moono" remove-buttons="Image" remove-plugins="iframe,flash,smiley"></ng-ckeditor></md-content></div></md-tab><md-tab label="{{'SMS' |translate}}" md-on-select="onTabChanges(1)"><div class="row"><md-content class="md-padding padding-l-15"><custom-text-area-field label-name="Add sms text" model-name="sms.msgContent" rows="5" required="false" maxlength="160" disable="disabledFormFields"></custom-text-area-field></md-content></div></md-tab><md-tab label="{{'NOTIFICATION' |translate}}" md-on-select="onTabChanges(2)"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-t-10"><md-input-container><label>{{'SUBJECT'|translate}}<span ng-if="isNotificationContent" class="mandatoryStar">*</span></label><textarea ng-blur="onSubjectFocus()" name="subjectLine" ng-model="notification.subjectLine" ng-required="required" ng-disabled="disabledFormFields" ng-maxlength="100" rows="2" md-select-on-focus></textarea><div ng-messages="adhocMessageForm.subjectLine.$error" role="alert" multiple="multiple"><div ng-message="required" class="my-message">{{'REQUIRED' |translate}}</div><div ng-message="maxlength" class="my-message">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div></div><div class="row"><md-content class="md-padding"><ng-ckeditor bind="notification.msgContent" skin="moono" remove-buttons="Image" remove-plugins="iframe,flash,smiley"></ng-ckeditor></md-content></div></md-tab></md-tabs></md-content></div></div><div ng-if="!isIndividualUserMode" class="col-xs-12 col-sm-12 col-md-4 col-lg-4 margin-t-25" ng-hide="pageState==='view'"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-0"><div class="pageTitle"><span>{{'DYNAMIC_DATA_CONTENT'|translate}}</span></div><md-input-container><label>{{'DYNAMIC_DATA'|translate}}</label><md-select ng-model="data" name="data" ng-change="dataChanged(data)"><md-option ng-repeat="item in dynamicData" ng-value="item">{{item.value}}</md-option></md-select></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-0"><md-button ng-click="addDynamicData()" class="md-raised md-warn">{{'INSERT'|translate}}</md-button></div></div></div></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 wizardFooter" style="padding-left: 0 !important; padding-right: 0 !important"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-0 textAlign-C" style="padding-top: 20px !important; border-top: 1px solid #CCC; margin-top: 10px !important"><md-button class="md-raised" ng-click="cancelAdhocMessageForm()">{{'CANCEL'|translate}}</md-button><md-button ng-if="pageState==='add'" class="md-raised md-warn" type="submit">{{'SAVE_AND_CONTINUE'|translate}}</md-button><md-button ng-if="pageState==='edit'" class="md-raised md-warn" type="submit">{{'SAVE'|translate}}</md-button></div><div class="textAlign-R"><md-button ng-if="pageState==='edit' || pageState==='view'" class="btn btn-default nextBtn btn-md pull-right" type="button" ng-click="moveToAddRecipientForm()"><span class="nextTextBtn">{{'NEXT_STEP'|translate}}</span> <i class="fa fa-angle-right"></i></md-button></div></div></form></div>