<div class="pageTitle"><span>{{'MNGE_USR_FAMILY_HISTORY'|translate}}</span><help-directive help-id="MNGE_USR_FAMILY_HISTORY" class="divContainer"></help-directive></div><div class="stepwizard"><div class="stepwizard-row setup-panel"><div class="stepwizard-step"><a href="#step-1" type="button" class="btn btn-primary btn-circle"><i class="fa fa-tint" aria-hidden="true"></i></a></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panelBorder padding-0 wizard"><spinner name="addOrgLocSpinner" img-src="{{pageLoaderImg}}" show="addOrgLocSpinner"></spinner><form name="userFamily" class="form-horizontal" autocomplete="off" novalidate><div class="col-xs-12"><h3>{{'MNGE_USR_FAMILY_HISTORY'|translate}}</h3><div class="row"><div class="col-sm-12 col-md-6 col-lg-6 selectDropdown"><md-input-container class="md-block"><label>{{'USER'|translate}}<span class="mandatoryStar">*</span></label><input ng-model="history.userId" required ng-readonly="userReadOnly" ng-disabled="viewmode || whethersub ||editmode" required name="userId" id="userId" autocomplete="off" uib-typeahead="userId as userId.value for userId in getUserNamesForRoleHistory($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('userMinLength')"><div ng-messages="userFamily.userId.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6" ng-hide="true"><md-input-container class="md-block"><label>{{'FAM_REC_ID'|translate}}<span class="mandatoryStar">*</span></label><input type="text" ng-model="history.familyRecordId" ng-disabled="viewmode || field || !viewMode"></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'DISEASE'|translate}}<span class="mandatoryStar">*</span></label><input ng-disabled="viewmode || editmode || allMode" required ng-model="history.diseaseId" name="diseaseId" ng-maxlength="50" id="autocompleteFieldOrg" autocomplete="off" uib-typeahead="diseaseId as diseaseId.value for diseaseId in getDisease($viewValue)" typeahead-min-length="3" typeahead-min-length="getSmartSearchMinLength('diseaseMinLength')" typeahead-on-select="getDiseaseId(history.diseaseId.id)"><div ng-messages="userFamily.diseaseId.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'DISEASE_VARIANT'|translate}}<span style="color:red">*</span></label><input type="text" name="diseaseVariantId" required ng-model="history.diseaseVariantId" ng-disabled="viewmode || editmode || allMode" autocomplete="off" uib-typeahead="diseaseVariantId as diseaseVariantId.value for diseaseVariantId in getDiseaseVariant($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('diseaseVariantMinLength')" required><div ng-messages="userFamily.diseaseVariantId.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'RELATIONSHIP'|translate}}</label><md-select name="relationshipId" id="relationshipId" ng-model="history.relationshipId" ng-disabled="viewMode || allMode" ng-required="true"><md-option ng-repeat="relationshipId in relationshipList" ng-value="relationshipId" ng-selected="{{relationshipId.id == history.relationshipId.id}}">{{relationshipId.value}}</md-option></md-select><div ng-messages="userFamily.relationshipId.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'NAME'|translate}}</label><input type="text" ng-model="history.name" ng-disabled="viewmode"></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'THROUGH'|translate}}</label><md-select name="throughId" id="throughId" ng-model="history.throughId" ng-disabled="viewMode || allMode" ng-required="true"><md-option ng-repeat="throughId in throughList" ng-value="throughId" ng-selected="{{throughId.id == history.throughId.id}}">{{throughId.value}}</md-option></md-select><div ng-messages="userFamily.throughId.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block"><label>{{'LOCATION'|translate}}<span class="mandatoryStar">*</span></label><input type="text" name="creatingOrgnId" id="creatingOrgnId" required ng-model="history.creatingOrgnId" ng-blur="validate(sideeffect.creatingOrgn,medicationSideEffectForm.creatingOrgn)" name="creatingOrgnId" id="creatingOrgnId" ng-disabled="viewmode || whethersub" autocomplete="off" uib-typeahead="creatingOrgnId as creatingOrgnId.value for creatingOrgnId in getCreatedBy($viewValue)" typeahead-loading="loading" typeahead-min-length="getSmartSearchMinLength('orgMinLength')"><div ng-messages="userFamily.creatingOrgnId.$error"><div ng-message="required">{{'REQUIRED' |translate}}</div><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><md-input-container class="md-block" layout="row"><label>{{'EQU_REMARKS'|translate}}</label><textarea rows="3" cols="50" ng-model="history.remarks" ng-disabled="viewmode" name="remark" md-select-on-focus="" style="overflow-y: scroll;max-height:150px"></textarea><div ng-messages="manageDisease.remark.$error"><div ng-message="maxlength">{{'MAX_LENGTH' |translate}}</div></div></md-input-container></div></div><div class="col-sm-12 col-md-12 col-lg-12 padding-t-b-10 wizardFooter"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-0 textAlign-R"><md-button class="md-raised" ng-click="cancel()">{{'CANCEL'|translate}}</md-button><span ng-if="pageState !=='view' && expressionDisabled !== true"><md-button class="md-raised md-warn" ng-click="saveUserFamilyHistory()" ng-disabled="!userFamily.$valid">{{'SAVE'|translate}}</md-button></span></div></div></div></form></div>